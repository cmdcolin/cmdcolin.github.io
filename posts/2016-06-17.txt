0:[[["",{"children":["posts",{"children":[["id","2016-06-17","d"],{"children":["__PAGE__?{\"id\":\"2016-06-17\"}",{}]}]}]},"$undefined","$undefined",true],"$L1",[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/97dc5fe527f5d592.css","precedence":"next.js"}]],"$L2"]]]
3:I{"id":"414","chunks":["414:static/chunks/414-67273665b1a3d6a7.js","931:static/chunks/app/page-dc06b9eb7e80dd25.js"],"name":"","async":false}
4:I{"id":"9544","chunks":["272:static/chunks/webpack-3224743bbfce757e.js","667:static/chunks/2443530c-6156b7f4e8f5b2c4.js","139:static/chunks/139-f487b95f332b70cd.js"],"name":"","async":false}
5:I{"id":"99","chunks":["272:static/chunks/webpack-3224743bbfce757e.js","667:static/chunks/2443530c-6156b7f4e8f5b2c4.js","139:static/chunks/139-f487b95f332b70cd.js"],"name":"","async":false}
1:[["$","html",null,{"lang":"en","children":["$","body",null,{"children":[["$","div",null,{"style":{"marginBottom":100},"children":["$","$L3",null,{"href":"/","children":"Misc scribbles"}]}],["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L5",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","asNotFound":false,"childProp":{"current":["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L5",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","asNotFound":false,"childProp":{"current":["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children",["id","2016-06-17","d"],"children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L5",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","asNotFound":false,"childProp":{"current":["$L6",[null,null]],"segment":"__PAGE__?{\"id\":\"2016-06-17\"}"},"styles":[]}],"segment":["id","2016-06-17","d"]},"styles":[]}],"segment":"posts"},"styles":[]}],["$","footer",null,{"style":{"marginTop":100},"children":[["$","$L3",null,{"href":"/","children":"Home"}]," ",["$","$L3",null,{"href":"/archive","children":"Blog archive"}]," ",["$","$L3",null,{"href":"https://github.com/cmdcolin/","children":"Github"}]," ",["$","$L3",null,{"href":"https://twitter.com/cmdcolin","children":"Twitter"}]," ",["$","$L3",null,{"href":"/projects","children":"Projects"}]," ",["$","$L3",null,{"href":"/photos","children":"Photos"}]," ",["$","$L3",null,{"href":"/about","children":"About"}]]}]]}]}],[null,null]]
7:I{"id":"6677","chunks":["722:static/chunks/app/posts/[id]/page-433af8cd6c54ad7f.js"],"name":"","async":false}
6:["$","article",null,{"children":[["$","div",null,{"children":[["$","h1",null,{"children":"Querying InterMine databases using R"}],["$","h4",null,{"children":"2016-06-17"}]]}],["$","div",null,{"dangerouslySetInnerHTML":{"__html":"<p>In the past, I had found some ways to do simple queries on InterMine web\nservices using basic HTTP commands with R (see\n<a href=\"https://gist.github.com/cmdcolin/4758167bdd89e6c9c055\">https://gist.github.com/cmdcolin/4758167bdd89e6c9c055</a>)</p>\n<p>However, the InterMineR (<a href=\"https://github.com/intermine/intermineR\">https://github.com/intermine/intermineR</a>) package\nautomates some of these features and makes it easier to load the data in R.</p>\n<h2 id=\"installation\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#installation\"><a href=\"#installation\" style=\"margin-right: 10px\">#</a></a>Installation</h2>\n<p>One way to install InterMineR is to install from github with hadley/devtools</p>\n<pre class=\"shiki poimandres\" style=\"background-color: #1b1e28\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #A6ACCD\">install.packages(</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">devtools</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">)</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">devtools</span><span style=\"color: #5DE4C7\">::</span><span style=\"color: #E4F0FBD0\">install_github</span><span style=\"color: #A6ACCD\">(</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">hadley/devtools</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">)</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">devtools</span><span style=\"color: #5DE4C7\">::</span><span style=\"color: #E4F0FBD0\">install_github</span><span style=\"color: #A6ACCD\">(</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">intermine/intermineR</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">)</span></span></code></pre>\n<h2 id=\"usage\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#usage\"><a href=\"#usage\" style=\"margin-right: 10px\">#</a></a>Usage</h2>\n<p>Basic usage includes loading theÂ \"intermine URL\" using the initInterMine\nfunction. Then various functions can be called on this result.</p>\n<pre class=\"shiki poimandres\" style=\"background-color: #1b1e28\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #A6ACCD\">library(</span><span style=\"color: #E4F0FB\">InterMineR</span><span style=\"color: #A6ACCD\">)</span></span>\n<span class=\"line\"><span style=\"color: #E4F0FB\">mine</span><span style=\"color: #91B4D5\">=</span><span style=\"color: #E4F0FBD0\">initInterMine</span><span style=\"color: #A6ACCD\">(</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">http://bovinegenome.org/bovinemine/</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">)</span></span>\n<span class=\"line\"><span style=\"color: #E4F0FBD0\">getVersion</span><span style=\"color: #A6ACCD\">(</span><span style=\"color: #E4F0FB\">mine</span><span style=\"color: #A6ACCD\">) </span><span style=\"color: #767C9DB0; font-style: italic\">#18, intermine API version</span></span>\n<span class=\"line\"><span style=\"color: #E4F0FBD0\">getRelease</span><span style=\"color: #A6ACCD\">(</span><span style=\"color: #E4F0FB\">mine</span><span style=\"color: #A6ACCD\">) </span><span style=\"color: #767C9DB0; font-style: italic\">#1.0, our data release version</span></span>\n<span class=\"line\"><span style=\"color: #E4F0FBD0\">getTemplates</span><span style=\"color: #A6ACCD\">(</span><span style=\"color: #E4F0FB\">mine</span><span style=\"color: #A6ACCD\">) </span><span style=\"color: #767C9DB0; font-style: italic\"># lists all templates on interminer</span></span></code></pre>\n<h2 id=\"run-a-template-query\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#run-a-template-query\"><a href=\"#run-a-template-query\" style=\"margin-right: 10px\">#</a></a>Run a template query</h2>\n<p>From the getTemplates function, if you see a template query that you want to\nrun, you can use the getTemplateQuery function with it's name, and run it with\nthe runQuery function</p>\n<pre class=\"shiki poimandres\" style=\"background-color: #1b1e28\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #E4F0FBD0\">getTemplateQuery</span><span style=\"color: #A6ACCD\">(</span><span style=\"color: #E4F0FB\">mine</span><span style=\"color: #A6ACCD\">,</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">TQ_protein_to_gene</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">) </span><span style=\"color: #767C9DB0; font-style: italic\"># see what template looks like</span></span>\n<span class=\"line\"><span style=\"color: #E4F0FB\">template</span><span style=\"color: #91B4D5\">=</span><span style=\"color: #E4F0FBD0\">getTemplateQuery</span><span style=\"color: #A6ACCD\">(</span><span style=\"color: #E4F0FB\">mine</span><span style=\"color: #A6ACCD\">,</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">TQ_protein_to_gene</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">) </span><span style=\"color: #767C9DB0; font-style: italic\"># save template</span></span>\n<span class=\"line\"><span style=\"color: #E4F0FBD0\">runQuery</span><span style=\"color: #A6ACCD\">(</span><span style=\"color: #E4F0FB\">mine</span><span style=\"color: #A6ACCD\">,</span><span style=\"color: #E4F0FB\">template</span><span style=\"color: #A6ACCD\">) </span><span style=\"color: #767C9DB0; font-style: italic\"># run the template query with default params, receive data.frame</span></span></code></pre>\n<p>This method is good, but some improvement could be added to change default\nparameters in the template query, etc.</p>\n<h2 id=\"run-query-xml\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#run-query-xml\"><a href=\"#run-query-xml\" style=\"margin-right: 10px\">#</a></a>Run query XML</h2>\n<p>Another option for running queries is to use the query XML that you can download\nfrom the InterMine query result pages.</p>\n<pre class=\"shiki poimandres\" style=\"background-color: #1b1e28\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #767C9DB0; font-style: italic\"># get all Ensembl genes on chr28 from bovinemine</span></span>\n<span class=\"line\"><span style=\"color: #E4F0FB\">query</span><span style=\"color: #91B4D5\">=</span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #5DE4C7\">&#x3C;query model=\"genomic\" view=\"Gene.primaryIdentifier</span></span>\n<span class=\"line\"><span style=\"color: #5DE4C7\">Gene.secondaryIdentifier Gene.symbol Gene.name Gene.source</span></span>\n<span class=\"line\"><span style=\"color: #5DE4C7\">Gene.organism.shortName Gene.chromosome.primaryIdentifier\"</span></span>\n<span class=\"line\"><span style=\"color: #5DE4C7\">sortOrder=\"Gene.primaryIdentifier ASC\" >&#x3C;constraint</span></span>\n<span class=\"line\"><span style=\"color: #5DE4C7\">path=\"Gene.organism.shortName\" op=\"=\" value=\"B. taurus\"</span></span>\n<span class=\"line\"><span style=\"color: #5DE4C7\">/>&#x3C;constraint path=\"Gene.chromosome.primaryIdentifier\" op=\"=\"</span></span>\n<span class=\"line\"><span style=\"color: #5DE4C7\">value=\"GK000028.2\" />&#x3C;/query></span><span style=\"color: #A6ACCD\">'</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #E4F0FB\">results</span><span style=\"color: #91B4D5\">=</span><span style=\"color: #E4F0FBD0\">runQuery</span><span style=\"color: #A6ACCD\">(</span><span style=\"color: #E4F0FB\">mine</span><span style=\"color: #A6ACCD\">, </span><span style=\"color: #E4F0FB\">query</span><span style=\"color: #A6ACCD\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">head(</span><span style=\"color: #E4F0FB\">results</span><span style=\"color: #A6ACCD\">)</span></span></code></pre>\n<h2 id=\"conclusion\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#conclusion\"><a href=\"#conclusion\" style=\"margin-right: 10px\">#</a></a>Conclusion</h2>\n<p>The InterMineR package has a couple of nice features for getting InterMine data\nwith a couple of functions for looking at templates. For many use cases, copying\nthe Query XML from a InterMine webpage and pasting that into the runQuery\nfunction is sufficient and produces a data frame that can be analyzed.</p>\n<p>PS it is not easy to post XML on tumblr after editing the post in markdown mode.\nYou have to add the lt and gt shortcuts and even after that it gets filtered?!</p>"}}],["$","$L7",null,{}]]}]
2:[[["$","meta",null,{"charSet":"utf-8"}],["$","title",null,{"children":"Querying InterMine databases using R"}],["$","meta",null,{"name":"description","content":"A blog"}],null,null,null,null,null,null,null,null,["$","meta",null,{"name":"viewport","content":"width=device-width, initial-scale=1"}],null,null,null,null,null,null,null,null,null,null,[]],[null,null,null,null],null,null,[null,null,null,null,null],null,null,null,null,[null,[["$","link",null,{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"any"}]],[],null]]
