<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Making an audio slideshow with ffmpeg</title><meta name="next-head-count" content="3"/><link rel="shortcut icon" href="favicon.ico"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><meta name="description" content="Blogging for the future"/><link rel="preload" href="/_next/static/css/97dc5fe527f5d592.css" as="style"/><link rel="stylesheet" href="/_next/static/css/97dc5fe527f5d592.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-8c0202d61bc61a66.js" defer=""></script><script src="/_next/static/chunks/framework-5ac2b14b431a77fa.js" defer=""></script><script src="/_next/static/chunks/main-008d0e41da4e3c22.js" defer=""></script><script src="/_next/static/chunks/pages/_app-577aa7b9aa74ad1d.js" defer=""></script><script src="/_next/static/chunks/996-5423f94aa1dfaf82.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-2f2d5b8e0ced3566.js" defer=""></script><script src="/_next/static/hGFmZNrZw2vhdQTVrgDpR/_buildManifest.js" defer=""></script><script src="/_next/static/hGFmZNrZw2vhdQTVrgDpR/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div><main><div><div style="margin-bottom:100px"><a href="/">Misc scribbles</a></div><article><div><h1>Making an audio slideshow with ffmpeg</h1><h4>2022-10-08</h4></div><div><p>Inspired by a new trend of posting "playlists" on youtube with visual
accompaniment (<a href="https://www.youtube.com/watch?v=zG92ss_2Vjw&#x26;t=1937s">https://www.youtube.com/watch?v=zG92ss_2Vjw&#x26;t=1937s</a>), I wanted to
try to make my own with a slideshow. I used ffmpeg as the heavy lifting tool</p>
<h2 id="step-1---prepare-your-playlist"><a aria-hidden="true" tabindex="-1" href="#step-1---prepare-your-playlist"><a href="#step-1---prepare-your-playlist" style="margin-right: 10px">#</a></a>Step 1 - prepare your playlist</h2>
<p>I like foobar2000, because it can combine multiple files into a single output
file.</p>
<p>Use right-click -> "Convert ..." in the foobar2000 playlist</p>
<p><img src="/media/foobar1.png" alt=""></p>
<p>Use "Merge all tracks into one file" in the "Convert..." dialog</p>
<p><img src="/media/foobar2.png" alt=""></p>
<p>Note: If you have a folder of mp3's only, you can directly concatenate them with
<code>cat *.mp3 > out.mp3</code> or use ffmpeg to concatenate them for a pure command-line
alternative.</p>
<h2 id="step-2---prepare-the-slideshow"><a aria-hidden="true" tabindex="-1" href="#step-2---prepare-the-slideshow"><a href="#step-2---prepare-the-slideshow" style="margin-right: 10px">#</a></a>Step 2 - prepare the slideshow</h2>
<p>Use 10 seconds per picture. Note the glob pattern is in quotes</p>
<pre class="shiki poimandres" style="background-color: #1b1e28"><code><span class="line"><span style="color: #91B4D5">ffmpeg</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">-framerate</span><span style="color: #A6ACCD"> </span><span style="color: #5DE4C7">1</span><span style="color: #ADD7FF">/</span><span style="color: #5DE4C7">10</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">-pattern_type</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">glob</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">-i</span><span style="color: #A6ACCD"> </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">*.jpg</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">pics.mp4</span></span></code></pre>
<h2 id="step-3---combine-the-slideshow-and-playlist"><a aria-hidden="true" tabindex="-1" href="#step-3---combine-the-slideshow-and-playlist"><a href="#step-3---combine-the-slideshow-and-playlist" style="margin-right: 10px">#</a></a>Step 3 - combine the slideshow and playlist</h2>
<pre class="shiki poimandres" style="background-color: #1b1e28"><code><span class="line"><span style="color: #91B4D5">ffmpeg</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">-stream_loop</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">-1</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">-i</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">pics.mp4</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">-i</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">playlist.wav</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">-shortest</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">-vcodec</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">copy</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">output.mp4</span></span></code></pre>
<p>Using <code>-stream_loop -1</code> on pics.mp4 will loop the pics until playlist.wav ends,
but then limit itself to the length of the playlist.wav with <code>-shortest</code></p>
<h2 id="step-4---upload-to-youtube"><a aria-hidden="true" tabindex="-1" href="#step-4---upload-to-youtube"><a href="#step-4---upload-to-youtube" style="margin-right: 10px">#</a></a>Step 4 - upload to youtube</h2>
<p>Done!</p>
<h3 id="footnote-1-what-if-you-just-want-a-single-picture"><a aria-hidden="true" tabindex="-1" href="#footnote-1-what-if-you-just-want-a-single-picture"><a href="#footnote-1-what-if-you-just-want-a-single-picture" style="margin-right: 10px">#</a></a>Footnote 1: What if you just want a single picture?</h3>
<p>Common for posting an album to youtube, you post the album art and some audio,
you can try searching from stackoverflow for options related to this</p>
<p>Example <a href="https://superuser.com/a/332867/415552">https://superuser.com/a/332867/415552</a></p>
<h3 id="footnote-2-distortion"><a aria-hidden="true" tabindex="-1" href="#footnote-2-distortion"><a href="#footnote-2-distortion" style="margin-right: 10px">#</a></a>Footnote 2: Distortion</h3>
<p>The pictures may get distorted to fit the video frame, I haven't experimented
with options that modify this behavior</p></div><div style="margin-top:200px"></div></article></div></main></div><footer style="margin-top:100px"><a href="/">Home</a> <a href="/archive">Blog archive</a> <a href="https://github.com/cmdcolin/">Github</a> <a href="https://twitter.com/cmdcolin">Twitter</a> <a href="/projects">Projects</a><a href="/photos">Photos</a> <a href="/rss.xml">RSS</a><a href="/about">About</a></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Making an audio slideshow with ffmpeg","date":"2022-10-08","slug":"2022-10-08-ffmpeg-slideshow","html":"\u003cp\u003eInspired by a new trend of posting \"playlists\" on youtube with visual\naccompaniment (\u003ca href=\"https://www.youtube.com/watch?v=zG92ss_2Vjw\u0026#x26;t=1937s\"\u003ehttps://www.youtube.com/watch?v=zG92ss_2Vjw\u0026#x26;t=1937s\u003c/a\u003e), I wanted to\ntry to make my own with a slideshow. I used ffmpeg as the heavy lifting tool\u003c/p\u003e\n\u003ch2 id=\"step-1---prepare-your-playlist\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-1---prepare-your-playlist\"\u003e\u003ca href=\"#step-1---prepare-your-playlist\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eStep 1 - prepare your playlist\u003c/h2\u003e\n\u003cp\u003eI like foobar2000, because it can combine multiple files into a single output\nfile.\u003c/p\u003e\n\u003cp\u003eUse right-click -\u003e \"Convert ...\" in the foobar2000 playlist\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/media/foobar1.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003eUse \"Merge all tracks into one file\" in the \"Convert...\" dialog\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/media/foobar2.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003eNote: If you have a folder of mp3's only, you can directly concatenate them with\n\u003ccode\u003ecat *.mp3 \u003e out.mp3\u003c/code\u003e or use ffmpeg to concatenate them for a pure command-line\nalternative.\u003c/p\u003e\n\u003ch2 id=\"step-2---prepare-the-slideshow\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-2---prepare-the-slideshow\"\u003e\u003ca href=\"#step-2---prepare-the-slideshow\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eStep 2 - prepare the slideshow\u003c/h2\u003e\n\u003cp\u003eUse 10 seconds per picture. Note the glob pattern is in quotes\u003c/p\u003e\n\u003cpre class=\"shiki poimandres\" style=\"background-color: #1b1e28\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #91B4D5\"\u003effmpeg\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e-framerate\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e1\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e/\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e10\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e-pattern_type\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eglob\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e-i\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e*.jpg\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003epics.mp4\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"step-3---combine-the-slideshow-and-playlist\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-3---combine-the-slideshow-and-playlist\"\u003e\u003ca href=\"#step-3---combine-the-slideshow-and-playlist\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eStep 3 - combine the slideshow and playlist\u003c/h2\u003e\n\u003cpre class=\"shiki poimandres\" style=\"background-color: #1b1e28\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #91B4D5\"\u003effmpeg\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e-stream_loop\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e-1\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e-i\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003epics.mp4\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e-i\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eplaylist.wav\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e-shortest\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e-vcodec\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003ecopy\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eoutput.mp4\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eUsing \u003ccode\u003e-stream_loop -1\u003c/code\u003e on pics.mp4 will loop the pics until playlist.wav ends,\nbut then limit itself to the length of the playlist.wav with \u003ccode\u003e-shortest\u003c/code\u003e\u003c/p\u003e\n\u003ch2 id=\"step-4---upload-to-youtube\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-4---upload-to-youtube\"\u003e\u003ca href=\"#step-4---upload-to-youtube\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eStep 4 - upload to youtube\u003c/h2\u003e\n\u003cp\u003eDone!\u003c/p\u003e\n\u003ch3 id=\"footnote-1-what-if-you-just-want-a-single-picture\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#footnote-1-what-if-you-just-want-a-single-picture\"\u003e\u003ca href=\"#footnote-1-what-if-you-just-want-a-single-picture\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eFootnote 1: What if you just want a single picture?\u003c/h3\u003e\n\u003cp\u003eCommon for posting an album to youtube, you post the album art and some audio,\nyou can try searching from stackoverflow for options related to this\u003c/p\u003e\n\u003cp\u003eExample \u003ca href=\"https://superuser.com/a/332867/415552\"\u003ehttps://superuser.com/a/332867/415552\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"footnote-2-distortion\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#footnote-2-distortion\"\u003e\u003ca href=\"#footnote-2-distortion\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eFootnote 2: Distortion\u003c/h3\u003e\n\u003cp\u003eThe pictures may get distorted to fit the video frame, I haven't experimented\nwith options that modify this behavior\u003c/p\u003e"}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"2022-10-08-ffmpeg-slideshow"},"buildId":"hGFmZNrZw2vhdQTVrgDpR","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>