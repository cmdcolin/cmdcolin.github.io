<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/6363413282d6540b.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-5c625475d344240d.js"/><script src="/_next/static/chunks/4bd1b696-891f7162621b223f.js" async=""></script><script src="/_next/static/chunks/587-1a6cc98c09618827.js" async=""></script><script src="/_next/static/chunks/main-app-f8a3c33ef6eddf2c.js" async=""></script><script src="/_next/static/chunks/app/page-4502ea2df100ba6f.js" async=""></script><script src="/_next/static/chunks/app/posts/%5Bid%5D/page-33881333b301afdd.js" async=""></script><title>Making an audio slideshow with ffmpeg</title><meta name="description" content="A blog"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body><div class="mb-8"><a href="/">Misc scribbles</a></div><div class="lg:w-1/2 m-auto"><div><h1>Making an audio slideshow with ffmpeg</h1><h4>2022-10-08</h4></div><div><p>Inspired by a new trend of posting "playlists" on youtube with visual
accompaniment (<a href="https://www.youtube.com/watch?v=zG92ss_2Vjw&#x26;t=1937s">https://www.youtube.com/watch?v=zG92ss_2Vjw&#x26;t=1937s</a>), I wanted to
try to make my own with a slideshow. I used ffmpeg as the heavy lifting tool</p>
<h2 id="step-1---prepare-your-playlist"><a aria-hidden="true" tabindex="-1" href="#step-1---prepare-your-playlist"><a href="#step-1---prepare-your-playlist" style="margin-right: 10px">#</a></a>Step 1 - prepare your playlist</h2>
<p>I like foobar2000, because it can combine multiple files into a single output
file.</p>
<p>Use right-click -> "Convert ..." in the foobar2000 playlist</p>
<p><img src="/media/foobar1.png" alt=""></p>
<p>Use "Merge all tracks into one file" in the "Convert..." dialog</p>
<p><img src="/media/foobar2.png" alt=""></p>
<p>Note: If you have a folder of mp3's only, you can directly concatenate them with
<code>cat *.mp3 > out.mp3</code> or use ffmpeg to concatenate them for a pure command-line
alternative.</p>
<h2 id="step-2---prepare-the-slideshow"><a aria-hidden="true" tabindex="-1" href="#step-2---prepare-the-slideshow"><a href="#step-2---prepare-the-slideshow" style="margin-right: 10px">#</a></a>Step 2 - prepare the slideshow</h2>
<p>Use 10 seconds per picture. Note the glob pattern is in quotes</p>
<pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#61AFEF">ffmpeg</span><span style="color:#D19A66"> -framerate</span><span style="color:#98C379"> 1/10</span><span style="color:#D19A66"> -pattern_type</span><span style="color:#98C379"> glob</span><span style="color:#D19A66"> -i</span><span style="color:#98C379"> '*.jpg'</span><span style="color:#98C379"> pics.mp4</span></span></code></pre>
<h2 id="step-3---combine-the-slideshow-and-playlist"><a aria-hidden="true" tabindex="-1" href="#step-3---combine-the-slideshow-and-playlist"><a href="#step-3---combine-the-slideshow-and-playlist" style="margin-right: 10px">#</a></a>Step 3 - combine the slideshow and playlist</h2>
<pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#61AFEF">ffmpeg</span><span style="color:#D19A66"> -stream_loop</span><span style="color:#D19A66"> -1</span><span style="color:#D19A66"> -i</span><span style="color:#98C379"> pics.mp4</span><span style="color:#D19A66"> -i</span><span style="color:#98C379"> playlist.wav</span><span style="color:#D19A66"> -shortest</span><span style="color:#D19A66"> -vcodec</span><span style="color:#98C379"> copy</span><span style="color:#98C379"> output.mp4</span></span></code></pre>
<p>Using <code>-stream_loop -1</code> on pics.mp4 will loop the pics until playlist.wav ends,
but then limit itself to the length of the playlist.wav with <code>-shortest</code></p>
<h2 id="step-4---upload-to-youtube"><a aria-hidden="true" tabindex="-1" href="#step-4---upload-to-youtube"><a href="#step-4---upload-to-youtube" style="margin-right: 10px">#</a></a>Step 4 - upload to youtube</h2>
<p>Done!</p>
<h3 id="footnote-1-what-if-you-just-want-a-single-picture"><a aria-hidden="true" tabindex="-1" href="#footnote-1-what-if-you-just-want-a-single-picture"><a href="#footnote-1-what-if-you-just-want-a-single-picture" style="margin-right: 10px">#</a></a>Footnote 1: What if you just want a single picture?</h3>
<p>Common for posting an album to youtube, you post the album art and some audio,
you can try searching from stackoverflow for options related to this</p>
<p>Example <a href="https://superuser.com/a/332867/415552">https://superuser.com/a/332867/415552</a></p>
<h3 id="footnote-2-distortion"><a aria-hidden="true" tabindex="-1" href="#footnote-2-distortion"><a href="#footnote-2-distortion" style="margin-right: 10px">#</a></a>Footnote 2: Distortion</h3>
<p>The pictures may get distorted to fit the video frame, I haven't experimented
with options that modify this behavior</p></div><div class="mt-5"></div></div><footer class="mt-16"><a class="m-2" href="/">Home</a><a class="m-2" href="/archive">Blog archive</a><a class="m-2" href="https://github.com/cmdcolin/">Github</a><a class="m-2" href="/projects">Projects</a><a class="m-2" href="/photos">Photos</a><a class="m-2" href="/books">Books</a><a class="m-2" href="/about">About</a><a class="m-2" href="/rss.xml">RSS</a></footer><script src="/_next/static/chunks/webpack-5c625475d344240d.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[8173,[\"974\",\"static/chunks/app/page-4502ea2df100ba6f.js\"],\"\"]\n3:I[5244,[],\"\"]\n4:I[3866,[],\"\"]\n6:I[6213,[],\"OutletBoundary\"]\n9:I[6213,[],\"ViewportBoundary\"]\nb:I[6213,[],\"MetadataBoundary\"]\nd:I[4835,[],\"\"]\n:HL[\"/_next/static/css/6363413282d6540b.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"YsyMe4oqUyIIhiTlnAwAj\",\"p\":\"\",\"c\":[\"\",\"posts\",\"2022-10-08-ffmpeg-slideshow\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"posts\",{\"children\":[[\"id\",\"2022-10-08-ffmpeg-slideshow\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/6363413282d6540b.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[\"$\",\"$L2\",null,{\"href\":\"/\",\"children\":\"Misc scribbles\"}]}],[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"$undefined\",[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}],[\"$\",\"footer\",null,{\"className\":\"mt-16\",\"children\":[[\"$\",\"$L2\",null,{\"className\":\"m-2\",\"href\":\"/\",\"children\":\"Home\"}],[\"$\",\"$L2\",null,{\"className\":\"m-2\",\"href\":\"/archive\",\"children\":\"Blog archive\"}],[\"$\",\"$L2\",null,{\"className\":\"m-2\",\"href\":\"https://github.com/cmdcolin/\",\"children\":\"Github\"}],[\"$\",\"$L2\",null,{\"className\":\"m-2\",\"href\":\"/projects\",\"children\":\"Projects\"}],[\"$\",\"$L2\",null,{\"className\":\"m-2\",\"href\":\"/photos\",\"children\":\"Photos\"}],[\"$\",\"$L2\",null,{\"className\":\"m-2\",\"href\":\"/books\",\"children\":\"Books\"}],[\"$\",\"$L2\",null,{\"className\":\"m-2\",\"href\":\"/about\",\"children\":\"About\"}],[\"$\",\"$L2\",null,{\"className\":\"m-2\",\"href\":\"/rss.xml\",\"children\":\"RSS\"}]]}]]}]}]]}],{\"children\":[\"posts\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"id\",\"2022-10-08-ffmpeg-slideshow\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",\"$undefined\",null,[\"$\",\"$L6\",null,{\"children\":[\"$L7\",\"$L8\",null]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"U5xIfePL9tCHTos5AtFom\",{\"children\":[[\"$\",\"$L9\",null,{\"children\":\"$La\"}],null]}],[\"$\",\"$Lb\",null,{\"children\":\"$Lc\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$d\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n7:null\n"])</script><script>self.__next_f.push([1,"f:I[7928,[\"880\",\"static/chunks/app/posts/%5Bid%5D/page-33881333b301afdd.js\"],\"default\"]\ne:Tfa9,"])</script><script>self.__next_f.push([1,"\u003cp\u003eInspired by a new trend of posting \"playlists\" on youtube with visual\naccompaniment (\u003ca href=\"https://www.youtube.com/watch?v=zG92ss_2Vjw\u0026#x26;t=1937s\"\u003ehttps://www.youtube.com/watch?v=zG92ss_2Vjw\u0026#x26;t=1937s\u003c/a\u003e), I wanted to\ntry to make my own with a slideshow. I used ffmpeg as the heavy lifting tool\u003c/p\u003e\n\u003ch2 id=\"step-1---prepare-your-playlist\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-1---prepare-your-playlist\"\u003e\u003ca href=\"#step-1---prepare-your-playlist\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eStep 1 - prepare your playlist\u003c/h2\u003e\n\u003cp\u003eI like foobar2000, because it can combine multiple files into a single output\nfile.\u003c/p\u003e\n\u003cp\u003eUse right-click -\u003e \"Convert ...\" in the foobar2000 playlist\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/media/foobar1.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003eUse \"Merge all tracks into one file\" in the \"Convert...\" dialog\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/media/foobar2.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003eNote: If you have a folder of mp3's only, you can directly concatenate them with\n\u003ccode\u003ecat *.mp3 \u003e out.mp3\u003c/code\u003e or use ffmpeg to concatenate them for a pure command-line\nalternative.\u003c/p\u003e\n\u003ch2 id=\"step-2---prepare-the-slideshow\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-2---prepare-the-slideshow\"\u003e\u003ca href=\"#step-2---prepare-the-slideshow\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eStep 2 - prepare the slideshow\u003c/h2\u003e\n\u003cp\u003eUse 10 seconds per picture. Note the glob pattern is in quotes\u003c/p\u003e\n\u003cpre class=\"shiki one-dark-pro\" style=\"background-color:#282c34;color:#abb2bf\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#61AFEF\"\u003effmpeg\u003c/span\u003e\u003cspan style=\"color:#D19A66\"\u003e -framerate\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e 1/10\u003c/span\u003e\u003cspan style=\"color:#D19A66\"\u003e -pattern_type\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e glob\u003c/span\u003e\u003cspan style=\"color:#D19A66\"\u003e -i\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e '*.jpg'\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e pics.mp4\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"step-3---combine-the-slideshow-and-playlist\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-3---combine-the-slideshow-and-playlist\"\u003e\u003ca href=\"#step-3---combine-the-slideshow-and-playlist\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eStep 3 - combine the slideshow and playlist\u003c/h2\u003e\n\u003cpre class=\"shiki one-dark-pro\" style=\"background-color:#282c34;color:#abb2bf\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#61AFEF\"\u003effmpeg\u003c/span\u003e\u003cspan style=\"color:#D19A66\"\u003e -stream_loop\u003c/span\u003e\u003cspan style=\"color:#D19A66\"\u003e -1\u003c/span\u003e\u003cspan style=\"color:#D19A66\"\u003e -i\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e pics.mp4\u003c/span\u003e\u003cspan style=\"color:#D19A66\"\u003e -i\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e playlist.wav\u003c/span\u003e\u003cspan style=\"color:#D19A66\"\u003e -shortest\u003c/span\u003e\u003cspan style=\"color:#D19A66\"\u003e -vcodec\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e copy\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e output.mp4\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eUsing \u003ccode\u003e-stream_loop -1\u003c/code\u003e on pics.mp4 will loop the pics until playlist.wav ends,\nbut then limit itself to the length of the playlist.wav with \u003ccode\u003e-shortest\u003c/code\u003e\u003c/p\u003e\n\u003ch2 id=\"step-4---upload-to-youtube\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-4---upload-to-youtube\"\u003e\u003ca href=\"#step-4---upload-to-youtube\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eStep 4 - upload to youtube\u003c/h2\u003e\n\u003cp\u003eDone!\u003c/p\u003e\n\u003ch3 id=\"footnote-1-what-if-you-just-want-a-single-picture\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#footnote-1-what-if-you-just-want-a-single-picture\"\u003e\u003ca href=\"#footnote-1-what-if-you-just-want-a-single-picture\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eFootnote 1: What if you just want a single picture?\u003c/h3\u003e\n\u003cp\u003eCommon for posting an album to youtube, you post the album art and some audio,\nyou can try searching from stackoverflow for options related to this\u003c/p\u003e\n\u003cp\u003eExample \u003ca href=\"https://superuser.com/a/332867/415552\"\u003ehttps://superuser.com/a/332867/415552\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"footnote-2-distortion\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#footnote-2-distortion\"\u003e\u003ca href=\"#footnote-2-distortion\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eFootnote 2: Distortion\u003c/h3\u003e\n\u003cp\u003eThe pictures may get distorted to fit the video frame, I haven't experimented\nwith options that modify this behavior\u003c/p\u003e"])</script><script>self.__next_f.push([1,"5:[\"$\",\"div\",null,{\"className\":\"lg:w-1/2 m-auto\",\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"h1\",null,{\"children\":\"Making an audio slideshow with ffmpeg\"}],[\"$\",\"h4\",null,{\"children\":\"2022-10-08\"}]]}],[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$e\"}}],[\"$\",\"$Lf\",null,{}]]}]\n8:null\nc:[[\"$\",\"title\",\"0\",{\"children\":\"Making an audio slideshow with ffmpeg\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"A blog\"}]]\n"])</script></body></html>