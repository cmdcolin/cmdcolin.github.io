<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/1d8bbbf8f3737189.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-446ef0bde4e4a401.js"/><script src="/_next/static/chunks/4bd1b696-5b771028f2b6de5d.js" async=""></script><script src="/_next/static/chunks/684-395f72a461cee843.js" async=""></script><script src="/_next/static/chunks/main-app-289de56c66005406.js" async=""></script><script src="/_next/static/chunks/874-a689ee4a52a3a837.js" async=""></script><script src="/_next/static/chunks/app/page-5d40f192aa75eac6.js" async=""></script><script src="/_next/static/chunks/app/posts/%5Bid%5D/page-ea4ed377e9c48f28.js" async=""></script><title>Plotting a coordinate on the screen</title><meta name="description" content="A blog"/><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body><div class="mb-8"><a href="/">Misc scribbles</a></div><div class="lg:w-1/2 m-auto"><div><h1>Plotting a coordinate on the screen</h1><h4>2017-02-16</h4></div><div><p>I always end up having to remember the math for plotting a coordinate on the
screen, for example an HTML5 canvas and end up stitching it together manually</p>
<p>If you step through the math it becomes very simple though</p>
<p>Say you have a coordinate range of 1000 to 2000 that you want to plot in a HTML5
canvas of size 100px</p>
<p>Let's do a quick example and then generalize. Let's say you want to plot the
value 1500, and put it into screen coordinates, so you take that and subtract
the minimum of the range</p>
<pre><code>1500-1000
</code></pre>
<p>Second, you know your point is going to be halfway in the range, and in general,
to get this position, you divide now by the size of the interval you are
plotting in, e.g. 2000-1000</p>
<pre><code>(1500-1000)/(2000-1000) = 0.5
</code></pre>
<p>We get 0.5 as expected. Then you multiply this proportion times the width of box
you are rendering in, e.g. 100 pixels wide, and get that you put your pixel at
position 50px</p>
<p>To summarize, the general formula for plotting a point x in a range (x1,x2) on a
screen of width w is</p>
<pre><code>w*(x -  x1) / (x2 - x1)
</code></pre>
<p>Of course same thing applies for y</p>
<pre><code>h*(y - y1) / (y2 - y1)
</code></pre>
<p>This does not take into account small possible adjustments for closed vs open
ranges, which could be important to avoid subpixel rendering on a canvas, but
that can be a further exercise</p></div><div class="mt-5"></div></div><!--$--><!--/$--><!--$--><!--/$--><footer class="mt-16"><a class="m-2" href="/">Home</a><a class="m-2" href="/archive">Blog archive</a><a class="m-2" href="https://github.com/cmdcolin/">Github</a><a class="m-2" href="/projects">Projects</a><a class="m-2" href="/books">Books</a><a class="m-2" href="/about">About</a><a class="m-2" href="/rss.xml">RSS</a></footer><script src="/_next/static/chunks/webpack-446ef0bde4e4a401.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[6874,[\"874\",\"static/chunks/874-a689ee4a52a3a837.js\",\"974\",\"static/chunks/app/page-5d40f192aa75eac6.js\"],\"\"]\n3:I[7555,[],\"\"]\n4:I[1295,[],\"\"]\n6:I[9665,[],\"MetadataBoundary\"]\n8:I[9665,[],\"OutletBoundary\"]\nb:I[4911,[],\"AsyncMetadataOutlet\"]\nd:I[9665,[],\"ViewportBoundary\"]\nf:I[6614,[],\"\"]\n:HL[\"/_next/static/css/1d8bbbf8f3737189.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"F-I-SssCslyFZKvUciSWh\",\"p\":\"\",\"c\":[\"\",\"posts\",\"2017-02-16\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"posts\",{\"children\":[[\"id\",\"2017-02-16\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/1d8bbbf8f3737189.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[\"$\",\"$L2\",null,{\"href\":\"/\",\"children\":\"Misc scribbles\"}]}],[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}],[\"$\",\"footer\",null,{\"className\":\"mt-16\",\"children\":[[\"$\",\"$L2\",null,{\"className\":\"m-2\",\"href\":\"/\",\"children\":\"Home\"}],[\"$\",\"$L2\",null,{\"className\":\"m-2\",\"href\":\"/archive\",\"children\":\"Blog archive\"}],[\"$\",\"$L2\",null,{\"className\":\"m-2\",\"href\":\"https://github.com/cmdcolin/\",\"children\":\"Github\"}],[\"$\",\"$L2\",null,{\"className\":\"m-2\",\"href\":\"/projects\",\"children\":\"Projects\"}],[\"$\",\"$L2\",null,{\"className\":\"m-2\",\"href\":\"/books\",\"children\":\"Books\"}],[\"$\",\"$L2\",null,{\"className\":\"m-2\",\"href\":\"/about\",\"children\":\"About\"}],[\"$\",\"$L2\",null,{\"className\":\"m-2\",\"href\":\"/rss.xml\",\"children\":\"RSS\"}]]}]]}]}]]}],{\"children\":[\"posts\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"id\",\"2017-02-16\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",[\"$\",\"$L6\",null,{\"children\":\"$L7\"}],null,[\"$\",\"$L8\",null,{\"children\":[\"$L9\",\"$La\",[\"$\",\"$Lb\",null,{\"promise\":\"$@c\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"Etd9pEF5rpKRu71CQE67H\",{\"children\":[[\"$\",\"$Ld\",null,{\"children\":\"$Le\"}],null]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$f\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"10:\"$Sreact.suspense\"\n11:I[4911,[],\"AsyncMetadata\"]\n7:[\"$\",\"$10\",null,{\"fallback\":null,\"children\":[\"$\",\"$L11\",null,{\"promise\":\"$@12\"}]}]\n"])</script><script>self.__next_f.push([1,"a:null\n"])</script><script>self.__next_f.push([1,"e:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n9:null\n"])</script><script>self.__next_f.push([1,"14:I[1401,[\"880\",\"static/chunks/app/posts/%5Bid%5D/page-ea4ed377e9c48f28.js\"],\"default\"]\n13:T591,\u003cp\u003eI always end up having to remember the math for plotting a coordinate on the\nscreen, for example an HTML5 canvas and end up stitching it together manually\u003c/p\u003e\n\u003cp\u003eIf you step through the math it becomes very simple though\u003c/p\u003e\n\u003cp\u003eSay you have a coordinate range of 1000 to 2000 that you want to plot in a HTML5\ncanvas of size 100px\u003c/p\u003e\n\u003cp\u003eLet's do a quick example and then generalize. Let's say you want to plot the\nvalue 1500, and put it into screen coordinates, so you take that and subtract\nthe minimum of the range\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e1500-1000\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSecond, you know your point is going to be halfway in the range, and in general,\nto get this position, you divide now by the size of the interval you are\nplotting in, e.g. 2000-1000\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e(1500-1000)/(2000-1000) = 0.5\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWe get 0.5 as expected. Then you multiply this proportion times the width of box\nyou are rendering in, e.g. 100 pixels wide, and get that you put your pixel at\nposition 50px\u003c/p\u003e\n\u003cp\u003eTo summarize, the general formula for plotting a point x in a range (x1,x2) on a\nscreen of width w is\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ew*(x -  x1) / (x2 - x1)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOf course same thing applies for y\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eh*(y - y1) / (y2 - y1)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis does not take into account small possible adjustments for closed vs open\nranges, which could be important to avoid subpixel rendering on a canvas, but\nthat can be a further exercise\u003c/p\u003e5:[\"$\",\"div\",null,{\"className\":\"lg:w-1/2 m-auto\",\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"h1\",null,{\"children\":\"Plotting a coordinate on the screen\"}],[\"$\",\"h4\",null,{\"children\":\"2017-02-16\"}]]}],[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$13\"}}],[\"$\",\"$L14\",null,{}]]}]\n12:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Plotting a coordinate on the screen\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"A blog\"}]],\"error\":null,\"digest\":\"$undefined\"}\nc:{\"metadata\":\"$12:metadata\",\"error\":null,\"digest\":\"$unde"])</script><script>self.__next_f.push([1,"fined\"}\n"])</script></body></html>