<!DOCTYPE html><html lang="en"><head><link rel="shortcut icon" href="favicon.ico"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><meta name="description" content="Blogging for the future"/><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js" integrity="sha512-hpZ5pDCF2bRCweL5WoA0/N1elet1KYL5mx3LP555Eg/0ZguaHawxNvEjF6O3rufAChs16HVNhEc6blF/rZoowQ==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>My next.js static blog setup</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/fd6c173fc46e1e45.css" as="style"/><link rel="stylesheet" href="/_next/static/css/fd6c173fc46e1e45.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-514908bffb652963.js" defer=""></script><script src="/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/_next/static/chunks/main-7c3bf82eed00c281.js" defer=""></script><script src="/_next/static/chunks/pages/_app-76cd57bf65f05d70.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-3f0808b29fe77886.js" defer=""></script><script src="/_next/static/Gia0oeAxGm7xyLlKNFDPG/_buildManifest.js" defer=""></script><script src="/_next/static/Gia0oeAxGm7xyLlKNFDPG/_ssgManifest.js" defer=""></script><script src="/_next/static/Gia0oeAxGm7xyLlKNFDPG/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div><main><div><div><a href="/">Misc scribbles</a></div><article><h1>My next.js static blog setup<!-- --> - <!-- -->2021-12-26</h1><p>My personal homepage originally used statocles, a perl-based static site
generator (<a href="http://preaction.me/statocles/">http://preaction.me/statocles/</a>). I didn&#x27;t reallty blog using it,
instead using tumblr for the blog. Posting links to tumblr for people though
gave people terrible popup ads and trackers. So, I switched to github
pages+next.js this year. I considered a number of alternative static site
systems, but next.js seemed to hit some nice goals</p><ul><li>Flexible</li><li>Extensible</li><li>React-based (as opposed to template-based like jekyll, eleventy, etc.)</li><li>Markdown driven, and can use MDX</li><li>RSS feed (bonus)</li><li>Active community</li></ul><p>Other systems almost worked and were attempted but aborted</p><p>The first iteration of my next.js blog put every blog post in the &quot;pages&quot; folder. This worked ok but I had to manually edit the index.mdx file to have <img src="manually_inserted_link_here" alt="link to new blogpost"/></p><p>The second iteration aimed to be a little more idiomatic and so I used the
next.js &quot;blog-template-typescript&quot; example folder from their monorepo
<a href="https://github.com/vercel/next.js/tree/canary/examples/blog-starter-typescript">monorepo</a>.
The new blog posts are generated from markdown files placed in the <code>_posts</code>
folder, and get rendered by <code>pages/posts/[slug].tsx</code> (yes, the filename
includes square brackets).</p><p>I also use a function in <a href="https://github.com/cmdcolin/cmdcolin.github.io/blob/master/lib/api.ts"><code>lib/api.ts</code></a> to get lists of the files in <!-- -->_<!-- -->posts to generate the blog <a href="https://github.com/cmdcolin/cmdcolin.github.io/blob/master/pages/archive.mdx"><code>archive.mdx</code></a> page (also, the index displays the first 8 elements of the archive, using the same <code>lib/api.ts</code> file)</p><h3>Stripping next.js example blog to more bare bones setup</h3><p>This template has a number of things that I don&#x27;t particularly like so I stripped out a lot of excess to try to get to a more minimal boilerplate</p><p>Example: they have a component folder with many tiny components, while my repo stripped out many of these leaving a fairly minimal setup</p><p><a href="https://github.com/vercel/next.js/tree/canary/examples/blog-starter-typescript/components">theirs</a> <a href="https://github.com/cmdcolin/cmdcolin.github.io/tree/master/components">mine</a></p><h3>Tailwind CSS challenges</h3><p>They also have a &quot;modern style&quot; using tailwind CSS.</p><p>Example html tags using tailwind CSS:</p><pre><code class="language-html">&lt;div className=&quot;container mx-auto px-5&quot;&gt;{children}&lt;/div&gt;
&lt;footer className=&quot;bg-accent-1 border-t border-accent-2&quot;&gt;&lt;/footer&gt;
&lt;div className=&quot;max-w-1xl mx-auto&quot;&gt;&lt;/div&gt;
&lt;div className=&quot;min-h-screen&quot;&gt;&lt;/div&gt;
&lt;a className=&quot;hover:underline&quot;&gt;&lt;/a&gt;
&lt;h1
  className=&quot;text-2xl md:text-2xl lg:text-2xl font-bold tracking-tighter leading-tight md:leading-none mb-12 text-center md:text-left&quot;
&gt;&lt;/h1&gt;
</code></pre><p>I personally found these quite hard to read, maybe there is an enterprise
niceness to it (the hivemind often refers to tailwind as being able to scale
CSS better) but didn&#x27;t seem that great for a personal blog. I tried to play
with it for a little while, glanced at some
docs to figure out how to do simple things like padding, but...I reached a breakpoint point with tailwind</p><p>Using tailwind CSS resets a lot of HTML styles so things like h1, h2, ul, li, and everything has no styling at all. I might have been able to restore this somehow:</p><ul><li><p><a href="https://stackoverflow.com/a/68853223/2129219">Example: restoring link underlines and blue color manually using CSS in
tailwind CSS</a></p></li><li><p><a href="https://stackoverflow.com/questions/69264976/cant-display-markdown-on-nextjs">Another example, quote: &quot;It looks like you&#x27;re using TailwindCSS, the default
styles for elements are reset, that&#x27;s why the h1 text will look like any other
text.&quot;</a></p></li></ul><p>There are interesting workarounds here, but I was not really a fan of this idea
that h1 is just like any other text.</p><p>I removed tailwind CSS, and instantly all
my markdown rendered properly with headings and lists nicer, so my blog now looks very 2001 or so, with very basic style. If I had font times new roman, it&#x27;d look even more ancient.</p><h2>Bonus - photos page</h2><p>I now added a photos page, which I am filling with sketches from a notebook I
got from my girlfriend for Christmas! Will add more photos as life goes on</p><p>Let me know what you think <a href="https://cmdcolin.github.io/photos">https://cmdcolin.github.io/photos</a></p><h2>Bonus - RSS feed</h2><p>I also followed this great guide to add a RSS file for my blog. Uses similar
code to the blog archive page
<a href="https://ashleemboyer.com/how-i-added-an-rss-feed-to-my-nextjs-site">https://ashleemboyer.com/how-i-added-an-rss-feed-to-my-nextjs-site</a></p><p>The RSS feed isn&#x27;t perfect because it displays raw markdown content but that is
likely something we can improve</p></article></div></main></div><footer style="margin-top:20px"><a href="/">Home</a> <a href="/archive">Blog archive</a> <a href="https://github.com/cmdcolin">Github</a> <a href="https://twitter.com/cmdcolin">Twitter</a> <a href="/projects">Projects</a> <a href="/photos">Photos</a> <a href="/rss.xml">RSS</a></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"My next.js static blog setup","date":"2021-12-26","slug":"2021-12-26-nextjs","mdxSource":{"compiledSource":"var h=Object.defineProperty,d=Object.defineProperties;var c=Object.getOwnPropertyDescriptors;var n=Object.getOwnPropertySymbols;var s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;var r=(e,t,a)=\u003et in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,o=(e,t)=\u003e{for(var a in t||(t={}))s.call(t,a)\u0026\u0026r(e,a,t[a]);if(n)for(var a of n(t))l.call(t,a)\u0026\u0026r(e,a,t[a]);return e},p=(e,t)=\u003ed(e,c(t));var m=(e,t)=\u003e{var a={};for(var i in e)s.call(e,i)\u0026\u0026t.indexOf(i)\u003c0\u0026\u0026(a[i]=e[i]);if(e!=null\u0026\u0026n)for(var i of n(e))t.indexOf(i)\u003c0\u0026\u0026l.call(e,i)\u0026\u0026(a[i]=e[i]);return a};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(a){var i=a,{components:e}=i,t=m(i,[\"components\"]);return mdx(MDXLayout,p(o(o({},layoutProps),t),{components:e,mdxType:\"MDXLayout\"}),mdx(\"p\",null,`My personal homepage originally used statocles, a perl-based static site\ngenerator (`,mdx(\"a\",o({parentName:\"p\"},{href:\"http://preaction.me/statocles/\"}),\"http://preaction.me/statocles/\"),`). I didn't reallty blog using it,\ninstead using tumblr for the blog. Posting links to tumblr for people though\ngave people terrible popup ads and trackers. So, I switched to github\npages+next.js this year. I considered a number of alternative static site\nsystems, but next.js seemed to hit some nice goals`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Flexible\"),mdx(\"li\",{parentName:\"ul\"},\"Extensible\"),mdx(\"li\",{parentName:\"ul\"},\"React-based (as opposed to template-based like jekyll, eleventy, etc.)\"),mdx(\"li\",{parentName:\"ul\"},\"Markdown driven, and can use MDX\"),mdx(\"li\",{parentName:\"ul\"},\"RSS feed (bonus)\"),mdx(\"li\",{parentName:\"ul\"},\"Active community\")),mdx(\"p\",null,\"Other systems almost worked and were attempted but aborted\"),mdx(\"p\",null,'The first iteration of my next.js blog put every blog post in the \"pages\" folder. This worked ok but I had to manually edit the index.mdx file to have ',mdx(\"img\",o({parentName:\"p\"},{src:\"manually_inserted_link_here\",alt:\"link to new blogpost\"}))),mdx(\"p\",null,`The second iteration aimed to be a little more idiomatic and so I used the\nnext.js \"blog-template-typescript\" example folder from their monorepo\n`,mdx(\"a\",o({parentName:\"p\"},{href:\"https://github.com/vercel/next.js/tree/canary/examples/blog-starter-typescript\"}),\"monorepo\"),`.\nThe new blog posts are generated from markdown files placed in the `,mdx(\"inlineCode\",{parentName:\"p\"},\"_posts\"),`\nfolder, and get rendered by `,mdx(\"inlineCode\",{parentName:\"p\"},\"pages/posts/[slug].tsx\"),` (yes, the filename\nincludes square brackets).`),mdx(\"p\",null,\"I also use a function in \",mdx(\"a\",o({parentName:\"p\"},{href:\"https://github.com/cmdcolin/cmdcolin.github.io/blob/master/lib/api.ts\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"lib/api.ts\")),\" to get lists of the files in \",\"_\",\"posts to generate the blog \",mdx(\"a\",o({parentName:\"p\"},{href:\"https://github.com/cmdcolin/cmdcolin.github.io/blob/master/pages/archive.mdx\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"archive.mdx\")),\" page (also, the index displays the first 8 elements of the archive, using the same \",mdx(\"inlineCode\",{parentName:\"p\"},\"lib/api.ts\"),\" file)\"),mdx(\"h3\",null,\"Stripping next.js example blog to more bare bones setup\"),mdx(\"p\",null,\"This template has a number of things that I don't particularly like so I stripped out a lot of excess to try to get to a more minimal boilerplate\"),mdx(\"p\",null,\"Example: they have a component folder with many tiny components, while my repo stripped out many of these leaving a fairly minimal setup\"),mdx(\"p\",null,mdx(\"a\",o({parentName:\"p\"},{href:\"https://github.com/vercel/next.js/tree/canary/examples/blog-starter-typescript/components\"}),\"theirs\"),\" \",mdx(\"a\",o({parentName:\"p\"},{href:\"https://github.com/cmdcolin/cmdcolin.github.io/tree/master/components\"}),\"mine\")),mdx(\"h3\",null,\"Tailwind CSS challenges\"),mdx(\"p\",null,'They also have a \"modern style\" using tailwind CSS.'),mdx(\"p\",null,\"Example html tags using tailwind CSS:\"),mdx(\"pre\",null,mdx(\"code\",o({parentName:\"pre\"},{className:\"language-html\"}),`\u003cdiv className=\"container mx-auto px-5\"\u003e{children}\u003c/div\u003e\n\u003cfooter className=\"bg-accent-1 border-t border-accent-2\"\u003e\u003c/footer\u003e\n\u003cdiv className=\"max-w-1xl mx-auto\"\u003e\u003c/div\u003e\n\u003cdiv className=\"min-h-screen\"\u003e\u003c/div\u003e\n\u003ca className=\"hover:underline\"\u003e\u003c/a\u003e\n\u003ch1\n  className=\"text-2xl md:text-2xl lg:text-2xl font-bold tracking-tighter leading-tight md:leading-none mb-12 text-center md:text-left\"\n\u003e\u003c/h1\u003e\n`)),mdx(\"p\",null,`I personally found these quite hard to read, maybe there is an enterprise\nniceness to it (the hivemind often refers to tailwind as being able to scale\nCSS better) but didn't seem that great for a personal blog. I tried to play\nwith it for a little while, glanced at some\ndocs to figure out how to do simple things like padding, but...I reached a breakpoint point with tailwind`),mdx(\"p\",null,\"Using tailwind CSS resets a lot of HTML styles so things like h1, h2, ul, li, and everything has no styling at all. I might have been able to restore this somehow:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},mdx(\"a\",o({parentName:\"p\"},{href:\"https://stackoverflow.com/a/68853223/2129219\"}),`Example: restoring link underlines and blue color manually using CSS in\ntailwind CSS`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},mdx(\"a\",o({parentName:\"p\"},{href:\"https://stackoverflow.com/questions/69264976/cant-display-markdown-on-nextjs\"}),`Another example, quote: \"It looks like you're using TailwindCSS, the default\nstyles for elements are reset, that's why the h1 text will look like any other\ntext.\"`)))),mdx(\"p\",null,`There are interesting workarounds here, but I was not really a fan of this idea\nthat h1 is just like any other text.`),mdx(\"p\",null,`I removed tailwind CSS, and instantly all\nmy markdown rendered properly with headings and lists nicer, so my blog now looks very 2001 or so, with very basic style. If I had font times new roman, it'd look even more ancient.`),mdx(\"h2\",null,\"Bonus - photos page\"),mdx(\"p\",null,`I now added a photos page, which I am filling with sketches from a notebook I\ngot from my girlfriend for Christmas! Will add more photos as life goes on`),mdx(\"p\",null,\"Let me know what you think \",mdx(\"a\",o({parentName:\"p\"},{href:\"https://cmdcolin.github.io/photos\"}),\"https://cmdcolin.github.io/photos\")),mdx(\"h2\",null,\"Bonus - RSS feed\"),mdx(\"p\",null,`I also followed this great guide to add a RSS file for my blog. Uses similar\ncode to the blog archive page\n`,mdx(\"a\",o({parentName:\"p\"},{href:\"https://ashleemboyer.com/how-i-added-an-rss-feed-to-my-nextjs-site\"}),\"https://ashleemboyer.com/how-i-added-an-rss-feed-to-my-nextjs-site\")),mdx(\"p\",null,`The RSS feed isn't perfect because it displays raw markdown content but that is\nlikely something we can improve`))}MDXContent.isMDXComponent=!0;\n","scope":{}}}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"2021-12-26-nextjs"},"buildId":"Gia0oeAxGm7xyLlKNFDPG","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>