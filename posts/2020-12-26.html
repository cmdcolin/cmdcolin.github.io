<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Making a serverless website for photo and video upload pt. 2</title><meta name="next-head-count" content="3"/><link rel="shortcut icon" href="favicon.ico"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><meta name="description" content="Blogging for the future"/><link rel="preload" href="/_next/static/css/97dc5fe527f5d592.css" as="style"/><link rel="stylesheet" href="/_next/static/css/97dc5fe527f5d592.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-8c0202d61bc61a66.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-37909fad120a8402.js" defer=""></script><script src="/_next/static/chunks/pages/_app-4496871bbc04f0bd.js" defer=""></script><script src="/_next/static/chunks/996-e3d2aceaf8a36213.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-9197bf6182cd93dc.js" defer=""></script><script src="/_next/static/oFI2sU_wIs81erqbWtJkU/_buildManifest.js" defer=""></script><script src="/_next/static/oFI2sU_wIs81erqbWtJkU/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div><main><div><div style="margin-bottom:100px"><a href="/">Misc scribbles</a></div><article><div><h1>Making a serverless website for photo and video upload pt. 2</h1><h4>2020-12-26</h4></div><div><p>This post follows onhttps://cmdcolin.github.io/2020-12-24.html</p>
<p>It is possible I zoomed ahead too fast to make this a continuous tutorial, but
overall I just wanted to post an update</p>
<p>In pt. 1 I learned how to use the <code>aws-sam</code> CLI tool. This was a great insight
for me about automating deployments. I can now simply run <code>sam deploy</code> and it
will create new dynamodb tables, lambda functions, etc.</p>
<p>After writing pt 1. I converted the existing vue-js app that was in the aws
tutorial and converted it to react. Then I extended the app to allow</p>
<ul>
<li>Posting comments on photos</li>
<li>Uploading multiple files</li>
<li>Uploading videos etc.</li>
</ul>
<p>It will be hard to summarize all the changes since now the app has taken off a
little bit but it looks like this:</p>
<p>Repo structure</p>
<pre class="shiki poimandres" style="background-color: #1b1e28" tabindex="0"><code><span class="line"><span style="color: #91B4D5">./frontend</span></span>
<span class="line"><span style="color: #91B4D5">./frontend/src/App.tsx</span></span>
<span class="line"><span style="color: #91B4D5">./lambdas/</span></span>
<span class="line"><span style="color: #91B4D5">./lambdas/postFile</span></span>
<span class="line"><span style="color: #91B4D5">./lambdas/getFiles</span></span>
<span class="line"><span style="color: #91B4D5">./lambdas/postComment</span></span>
<span class="line"><span style="color: #91B4D5">./lambdas/getComments</span></span></code></pre>
<p>Here is a detailed code for uploading the file. We upload one file at a time,
but the client code post to the lambda endpoint individually for each file</p>
<p>This generates a pre-signed URL to allow the client-side JS (not the lambda
itself) to directly upload to S3, and also posts a row in the S3 to the filename
that will. It is very similar code in to
<a href="https://cmdcolin.github.io/2020-12-24.html">https://cmdcolin.github.io/2020-12-24.html</a></p>
<p>./lambdas/postFile/app.js</p>
<pre class="shiki poimandres" style="background-color: #1b1e28" tabindex="0"><code><span class="line"><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">use strict</span><span style="color: #A6ACCD">'</span></span>
<span class="line"></span>
<span class="line"><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">AWS</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FBD0">require</span><span style="color: #A6ACCD">(</span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">aws-sdk</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">multipart</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FBD0">require</span><span style="color: #A6ACCD">(</span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">./multipart</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #ADD7FF">AWS</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FB">config</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FBD0">update</span><span style="color: #A6ACCD">({</span><span style="color: #E4F0FB"> </span><span style="color: #ADD7FF">region</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #E4F0FB">process</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FB">env</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FB">AWS_REGION</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">})</span></span>
<span class="line"><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">s3</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #5DE4C7">new</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">AWS</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FBD0">S3</span><span style="color: #A6ACCD">()</span></span>
<span class="line"></span>
<span class="line"><span style="color: #767C9DB0; font-style: italic">// Change this value to adjust the signed URL's expiration</span></span>
<span class="line"><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">URL_EXPIRATION_SECONDS</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #5DE4C7">300</span></span>
<span class="line"></span>
<span class="line"><span style="color: #767C9DB0; font-style: italic">// Main Lambda entry point</span></span>
<span class="line"><span style="color: #E4F0FB">exports</span><span style="color: #A6ACCD">.</span><span style="color: #ADD7FF">handler</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #5DE4C7">async</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">event</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=></span><span style="color: #A6ACCD"> {</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #5DE4C7C0">return</span><span style="color: #A6ACCD"> </span><span style="color: #5DE4C7C0">await</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FBD0">getUploadURL</span><span style="color: #A6ACCD">(</span><span style="color: #E4F0FB">event</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> { AWS_REGION: </span><span style="color: #E4F0FB">region</span><span style="color: #A6ACCD"> } </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">process</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FB">env</span></span>
<span class="line"></span>
<span class="line"><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">dynamodb</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #5DE4C7">new</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">AWS</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FBD0">DynamoDB</span><span style="color: #A6ACCD">({</span><span style="color: #E4F0FB"> </span><span style="color: #ADD7FF">apiVersion</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">2012-08-10</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span><span style="color: #E4F0FB"> region</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">})</span></span>
<span class="line"></span>
<span class="line"><span style="color: #5DE4C7">async</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">function</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">uploadPic</span><span style="color: #A6ACCD">({</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #E4F0FB">timestamp</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #E4F0FB">filename</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #E4F0FB">message</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #E4F0FB">user</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #E4F0FB">date</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #E4F0FB">contentType</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #A6ACCD">}) {</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">params</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> {</span></span>
<span class="line"><span style="color: #E4F0FB">    </span><span style="color: #ADD7FF">Item</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">{</span></span>
<span class="line"><span style="color: #E4F0FB">      </span><span style="color: #ADD7FF">timestamp</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">{</span></span>
<span class="line"><span style="color: #E4F0FB">        </span><span style="color: #ADD7FF">N</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">`${</span><span style="color: #E4F0FB">timestamp</span><span style="color: #A6ACCD">}`</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">      </span><span style="color: #A6ACCD">},</span></span>
<span class="line"><span style="color: #E4F0FB">      </span><span style="color: #ADD7FF">filename</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">{</span></span>
<span class="line"><span style="color: #E4F0FB">        </span><span style="color: #ADD7FF">S</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #E4F0FB">filename</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">      </span><span style="color: #A6ACCD">},</span></span>
<span class="line"><span style="color: #E4F0FB">      </span><span style="color: #ADD7FF">message</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">{</span></span>
<span class="line"><span style="color: #E4F0FB">        </span><span style="color: #ADD7FF">S</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #E4F0FB">message</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">      </span><span style="color: #A6ACCD">},</span></span>
<span class="line"><span style="color: #E4F0FB">      </span><span style="color: #ADD7FF">user</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">{</span></span>
<span class="line"><span style="color: #E4F0FB">        </span><span style="color: #ADD7FF">S</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #E4F0FB">user</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">      </span><span style="color: #A6ACCD">},</span></span>
<span class="line"><span style="color: #E4F0FB">      </span><span style="color: #ADD7FF">date</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">{</span></span>
<span class="line"><span style="color: #E4F0FB">        </span><span style="color: #ADD7FF">S</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #E4F0FB">date</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">      </span><span style="color: #A6ACCD">},</span></span>
<span class="line"><span style="color: #E4F0FB">      </span><span style="color: #ADD7FF">contentType</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">{</span></span>
<span class="line"><span style="color: #E4F0FB">        </span><span style="color: #ADD7FF">S</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #E4F0FB">contentType</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">      </span><span style="color: #A6ACCD">},</span></span>
<span class="line"><span style="color: #E4F0FB">    </span><span style="color: #A6ACCD">},</span></span>
<span class="line"><span style="color: #E4F0FB">    </span><span style="color: #ADD7FF">TableName</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">files</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">  </span><span style="color: #A6ACCD">}</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #5DE4C7C0">return</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">dynamodb</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FBD0">putItem</span><span style="color: #A6ACCD">(</span><span style="color: #E4F0FB">params</span><span style="color: #A6ACCD">).</span><span style="color: #E4F0FBD0">promise</span><span style="color: #A6ACCD">()</span></span>
<span class="line"><span style="color: #A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">getUploadURL</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #5DE4C7">async</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">function</span><span style="color: #A6ACCD"> (</span><span style="color: #E4F0FB">event</span><span style="color: #A6ACCD">) {</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #D0679D">try</span><span style="color: #A6ACCD"> {</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">data</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">multipart</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FBD0">parse</span><span style="color: #A6ACCD">(</span><span style="color: #E4F0FB">event</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> { </span><span style="color: #E4F0FB">filename</span><span style="color: #A6ACCD">, </span><span style="color: #E4F0FB">contentType</span><span style="color: #A6ACCD">, </span><span style="color: #E4F0FB">user</span><span style="color: #A6ACCD">, </span><span style="color: #E4F0FB">message</span><span style="color: #A6ACCD">, </span><span style="color: #E4F0FB">date</span><span style="color: #A6ACCD"> } </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">data</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">timestamp</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">+</span><span style="color: #E4F0FB">Date</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FBD0">now</span><span style="color: #A6ACCD">()</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">Key</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #A6ACCD">`${</span><span style="color: #E4F0FB">timestamp</span><span style="color: #A6ACCD">}</span><span style="color: #5DE4C7">-</span><span style="color: #A6ACCD">${</span><span style="color: #E4F0FB">filename</span><span style="color: #A6ACCD">}`</span><span style="color: #A6ACCD"> </span><span style="color: #767C9DB0; font-style: italic">// Get signed URL from S3</span></span>
<span class="line"></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">s3Params</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> {</span></span>
<span class="line"><span style="color: #E4F0FB">      </span><span style="color: #ADD7FF">Bucket</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #E4F0FB">process</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FB">env</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FB">UploadBucket</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">      Key</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">      </span><span style="color: #ADD7FF">Expires</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #E4F0FB">URL_EXPIRATION_SECONDS</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">      </span><span style="color: #ADD7FF">ContentType</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #E4F0FB">contentType</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #767C9DB0; font-style: italic">// This ACL makes the uploaded object publicly readable. You must also</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #767C9DB0; font-style: italic">// uncomment the extra permission for the Lambda function in the SAM</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #767C9DB0; font-style: italic">// template.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E4F0FB">      </span><span style="color: #ADD7FF">ACL</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">public-read</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">    </span><span style="color: #A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">uploadURL</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #5DE4C7C0">await</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">s3</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FBD0">getSignedUrlPromise</span><span style="color: #A6ACCD">(</span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">putObject</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">, </span><span style="color: #E4F0FB">s3Params</span><span style="color: #A6ACCD">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #5DE4C7C0">await</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FBD0">uploadPic</span><span style="color: #A6ACCD">({</span></span>
<span class="line"><span style="color: #E4F0FB">      timestamp</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">      </span><span style="color: #ADD7FF">filename</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #E4F0FB">Key</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">      message</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">      user</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">      date</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">      contentType</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">    </span><span style="color: #A6ACCD">})</span></span>
<span class="line"></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #5DE4C7C0">return</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">JSON</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FBD0">stringify</span><span style="color: #A6ACCD">({</span></span>
<span class="line"><span style="color: #E4F0FB">      uploadURL</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">      Key</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">    </span><span style="color: #A6ACCD">})</span></span>
<span class="line"><span style="color: #A6ACCD">  } </span><span style="color: #D0679D">catch</span><span style="color: #A6ACCD"> (</span><span style="color: #E4F0FB">e</span><span style="color: #A6ACCD">) {</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">response</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> {</span></span>
<span class="line"><span style="color: #E4F0FB">      </span><span style="color: #ADD7FF">statusCode</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #5DE4C7">500</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">      </span><span style="color: #ADD7FF">body</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> JSON</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FBD0">stringify</span><span style="color: #A6ACCD">({</span><span style="color: #E4F0FB"> </span><span style="color: #ADD7FF">message</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">`${</span><span style="color: #E4F0FB">e</span><span style="color: #A6ACCD">}`</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">}),</span></span>
<span class="line"><span style="color: #E4F0FB">    </span><span style="color: #A6ACCD">}</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #5DE4C7C0">return</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">response</span></span>
<span class="line"><span style="color: #A6ACCD">  }</span></span>
<span class="line"><span style="color: #A6ACCD">}</span></span></code></pre>
<p>./lambdas/getFiles/app.js</p>
<pre class="shiki poimandres" style="background-color: #1b1e28" tabindex="0"><code><span class="line"><span style="color: #767C9DB0; font-style: italic">// eslint-disable-next-line import/no-unresolved</span></span>
<span class="line"><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">AWS</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FBD0">require</span><span style="color: #A6ACCD">(</span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">aws-sdk</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> { AWS_REGION: </span><span style="color: #E4F0FB">region</span><span style="color: #A6ACCD"> } </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">process</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FB">env</span></span>
<span class="line"></span>
<span class="line"><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">docClient</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #5DE4C7">new</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">AWS</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FB">DynamoDB</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FBD0">DocumentClient</span><span style="color: #A6ACCD">()</span></span>
<span class="line"></span>
<span class="line"><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">getItems</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">function</span><span style="color: #A6ACCD"> () {</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">params</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> {</span></span>
<span class="line"><span style="color: #E4F0FB">    </span><span style="color: #ADD7FF">TableName</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">files</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">  </span><span style="color: #A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #5DE4C7C0">return</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">docClient</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FBD0">scan</span><span style="color: #A6ACCD">(</span><span style="color: #E4F0FB">params</span><span style="color: #A6ACCD">).</span><span style="color: #E4F0FBD0">promise</span><span style="color: #A6ACCD">()</span></span>
<span class="line"><span style="color: #A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E4F0FB">exports</span><span style="color: #A6ACCD">.</span><span style="color: #ADD7FF">handler</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #5DE4C7">async</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">event</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=></span><span style="color: #A6ACCD"> {</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #D0679D">try</span><span style="color: #A6ACCD"> {</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">result</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #5DE4C7C0">await</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FBD0">getItems</span><span style="color: #A6ACCD">()</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #5DE4C7C0">return</span><span style="color: #A6ACCD"> {</span></span>
<span class="line"><span style="color: #E4F0FB">      </span><span style="color: #ADD7FF">statusCode</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #5DE4C7">200</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">      </span><span style="color: #ADD7FF">body</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> JSON</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FBD0">stringify</span><span style="color: #A6ACCD">(</span><span style="color: #E4F0FB">result</span><span style="color: #A6ACCD">),</span></span>
<span class="line"><span style="color: #E4F0FB">    </span><span style="color: #A6ACCD">}</span></span>
<span class="line"><span style="color: #A6ACCD">  } </span><span style="color: #D0679D">catch</span><span style="color: #A6ACCD"> (</span><span style="color: #E4F0FB">e</span><span style="color: #A6ACCD">) {</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #5DE4C7C0">return</span><span style="color: #A6ACCD"> {</span></span>
<span class="line"><span style="color: #E4F0FB">      </span><span style="color: #ADD7FF">statusCode</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #5DE4C7">400</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">      </span><span style="color: #ADD7FF">body</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> JSON</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FBD0">stringify</span><span style="color: #A6ACCD">({</span><span style="color: #E4F0FB"> </span><span style="color: #ADD7FF">message</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">`${</span><span style="color: #E4F0FB">e</span><span style="color: #A6ACCD">}`</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">}),</span></span>
<span class="line"><span style="color: #E4F0FB">    </span><span style="color: #A6ACCD">}</span></span>
<span class="line"><span style="color: #A6ACCD">  }</span></span>
<span class="line"><span style="color: #A6ACCD">}</span></span></code></pre>
<p>./frontend/src/App.tsx (excerpt)</p>
<pre class="shiki poimandres" style="background-color: #1b1e28" tabindex="0"><code><span class="line"><span style="color: #5DE4C7">async</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">function</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">myfetch</span><span style="color: #A6ACCD">(</span><span style="color: #E4F0FB">params</span><span style="color: #91B4D5">:</span><span style="color: #A6ACCD"> </span><span style="color: #A6ACCDC0">string</span><span style="color: #A6ACCD">, </span><span style="color: #E4F0FB">opts</span><span style="color: #91B4D5">?:</span><span style="color: #A6ACCD"> </span><span style="color: #A6ACCDC0">any</span><span style="color: #A6ACCD">) {</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">response</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #5DE4C7C0">await</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FBD0">fetch</span><span style="color: #A6ACCD">(</span><span style="color: #E4F0FB">params</span><span style="color: #A6ACCD">, </span><span style="color: #E4F0FB">opts</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #A6ACCD">  if (</span><span style="color: #91B4D5">!</span><span style="color: #E4F0FB">response</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FB">ok</span><span style="color: #A6ACCD">) {</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #D0679D">throw</span><span style="color: #A6ACCD"> </span><span style="color: #5DE4C7">new</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FBD0">Error</span><span style="color: #A6ACCD">(</span><span style="color: #A6ACCD">`</span><span style="color: #5DE4C7">HTTP </span><span style="color: #A6ACCD">${</span><span style="color: #E4F0FB">response</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FB">status</span><span style="color: #A6ACCD">}</span><span style="color: #5DE4C7"> </span><span style="color: #A6ACCD">${</span><span style="color: #E4F0FB">response</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FB">statusText</span><span style="color: #A6ACCD">}`</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #A6ACCD">  }</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #5DE4C7C0">return</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">response</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FBD0">json</span><span style="color: #A6ACCD">()</span></span>
<span class="line"><span style="color: #A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #91B4D5">function</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">UploadDialog</span><span style="color: #A6ACCD">({</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #E4F0FB">open</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #E4F0FB">onClose</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #A6ACCD">}</span><span style="color: #91B4D5">:</span><span style="color: #A6ACCD"> {</span></span>
<span class="line"><span style="color: #A6ACCD">  open</span><span style="color: #91B4D5">:</span><span style="color: #A6ACCD"> </span><span style="color: #A6ACCDC0">boolean</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #ADD7FF">onClose</span><span style="color: #91B4D5">:</span><span style="color: #A6ACCD"> () </span><span style="color: #91B4D5">=></span><span style="color: #A6ACCD"> </span><span style="color: #A6ACCDC0">void</span></span>
<span class="line"><span style="color: #A6ACCD">}) {</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> [</span><span style="color: #E4F0FB">images</span><span style="color: #A6ACCD">, </span><span style="color: #E4F0FB">setImages</span><span style="color: #A6ACCD">] </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FBD0">useState</span><span style="color: #A6ACCD">&#x3C;</span><span style="color: #A6ACCDC0">FileList</span><span style="color: #A6ACCD">>()</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> [</span><span style="color: #E4F0FB">error</span><span style="color: #A6ACCD">, </span><span style="color: #E4F0FB">setError</span><span style="color: #A6ACCD">] </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FBD0">useState</span><span style="color: #A6ACCD">&#x3C;</span><span style="color: #A6ACCDC0">Error</span><span style="color: #A6ACCD">>()</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> [</span><span style="color: #E4F0FB">loading</span><span style="color: #A6ACCD">, </span><span style="color: #E4F0FB">setLoading</span><span style="color: #A6ACCD">] </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FBD0">useState</span><span style="color: #A6ACCD">(</span><span style="color: #D0679D">false</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> [</span><span style="color: #E4F0FB">total</span><span style="color: #A6ACCD">, </span><span style="color: #E4F0FB">setTotal</span><span style="color: #A6ACCD">] </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FBD0">useState</span><span style="color: #A6ACCD">(</span><span style="color: #5DE4C7">0</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> [</span><span style="color: #E4F0FB">completed</span><span style="color: #A6ACCD">, </span><span style="color: #E4F0FB">setCompleted</span><span style="color: #A6ACCD">] </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FBD0">useState</span><span style="color: #A6ACCD">(</span><span style="color: #5DE4C7">0</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> [</span><span style="color: #E4F0FB">user</span><span style="color: #A6ACCD">, </span><span style="color: #E4F0FB">setUser</span><span style="color: #A6ACCD">] </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FBD0">useState</span><span style="color: #A6ACCD">(</span><span style="color: #A6ACCD">''</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> [</span><span style="color: #E4F0FB">message</span><span style="color: #A6ACCD">, </span><span style="color: #E4F0FB">setMessage</span><span style="color: #A6ACCD">] </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FBD0">useState</span><span style="color: #A6ACCD">(</span><span style="color: #A6ACCD">''</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">classes</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FBD0">useStyles</span><span style="color: #A6ACCD">()</span></span>
<span class="line"></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">handleClose</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> () </span><span style="color: #91B4D5">=></span><span style="color: #A6ACCD"> {</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #E4F0FBD0">setError</span><span style="color: #A6ACCD">(</span><span style="color: #D0679D">undefined</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #E4F0FBD0">setLoading</span><span style="color: #A6ACCD">(</span><span style="color: #D0679D">false</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #E4F0FBD0">setImages</span><span style="color: #A6ACCD">(</span><span style="color: #D0679D">undefined</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #E4F0FBD0">setCompleted</span><span style="color: #A6ACCD">(</span><span style="color: #5DE4C7">0</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #E4F0FBD0">setTotal</span><span style="color: #A6ACCD">(</span><span style="color: #5DE4C7">0</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #E4F0FBD0">setMessage</span><span style="color: #A6ACCD">(</span><span style="color: #A6ACCD">''</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #E4F0FBD0">onClose</span><span style="color: #A6ACCD">()</span></span>
<span class="line"><span style="color: #A6ACCD">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #5DE4C7C0">return</span><span style="color: #A6ACCD"> (</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #E4F0FB">&#x3C;</span><span style="color: #5DE4C7">Dialog</span><span style="color: #E4F0FB"> </span><span style="color: #91B4D5; font-style: italic">onClose</span><span style="color: #91B4D5">=</span><span style="color: #E4F0FB">{handleClose} </span><span style="color: #91B4D5; font-style: italic">open</span><span style="color: #91B4D5">=</span><span style="color: #E4F0FB">{open}></span></span>
<span class="line"><span style="color: #E4F0FB">      &#x3C;</span><span style="color: #5DE4C7">DialogTitle</span><span style="color: #E4F0FB">>upload a file (supports picture or video)&#x3C;/</span><span style="color: #5DE4C7">DialogTitle</span><span style="color: #E4F0FB">></span></span>
<span class="line"><span style="color: #E4F0FB">      &#x3C;</span><span style="color: #5DE4C7">DialogContent</span><span style="color: #E4F0FB">></span></span>
<span class="line"><span style="color: #E4F0FB">        &#x3C;</span><span style="color: #5DE4C7">label</span><span style="color: #E4F0FB"> </span><span style="color: #91B4D5; font-style: italic">htmlFor</span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">user</span><span style="color: #A6ACCD">"</span><span style="color: #E4F0FB">>name (optional) &#x3C;/</span><span style="color: #5DE4C7">label</span><span style="color: #E4F0FB">></span></span>
<span class="line"><span style="color: #E4F0FB">        &#x3C;</span><span style="color: #5DE4C7">input</span></span>
<span class="line"><span style="color: #E4F0FB">          </span><span style="color: #91B4D5; font-style: italic">type</span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">text</span><span style="color: #A6ACCD">"</span></span>
<span class="line"><span style="color: #E4F0FB">          </span><span style="color: #91B4D5; font-style: italic">value</span><span style="color: #91B4D5">=</span><span style="color: #E4F0FB">{user}</span></span>
<span class="line"><span style="color: #E4F0FB">          </span><span style="color: #91B4D5; font-style: italic">onChange</span><span style="color: #91B4D5">=</span><span style="color: #E4F0FB">{event </span><span style="color: #91B4D5">=></span><span style="color: #E4F0FB"> </span><span style="color: #E4F0FBD0">setUser</span><span style="color: #A6ACCD">(</span><span style="color: #E4F0FB">event</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FB">target</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FB">value</span><span style="color: #A6ACCD">)</span><span style="color: #E4F0FB">}</span></span>
<span class="line"><span style="color: #E4F0FB">          </span><span style="color: #91B4D5; font-style: italic">id</span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">user</span><span style="color: #A6ACCD">"</span></span>
<span class="line"><span style="color: #E4F0FB">        /></span></span>
<span class="line"><span style="color: #E4F0FB">        &#x3C;</span><span style="color: #5DE4C7">br</span><span style="color: #E4F0FB"> /> &#x3C;</span><span style="color: #5DE4C7">label</span><span style="color: #E4F0FB"> </span><span style="color: #91B4D5; font-style: italic">htmlFor</span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">user</span><span style="color: #A6ACCD">"</span><span style="color: #E4F0FB">>message (optional) &#x3C;/</span><span style="color: #5DE4C7">label</span><span style="color: #E4F0FB">></span></span>
<span class="line"><span style="color: #E4F0FB">        &#x3C;</span><span style="color: #5DE4C7">input</span></span>
<span class="line"><span style="color: #E4F0FB">          </span><span style="color: #91B4D5; font-style: italic">type</span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">text</span><span style="color: #A6ACCD">"</span></span>
<span class="line"><span style="color: #E4F0FB">          </span><span style="color: #91B4D5; font-style: italic">value</span><span style="color: #91B4D5">=</span><span style="color: #E4F0FB">{message}</span></span>
<span class="line"><span style="color: #E4F0FB">          </span><span style="color: #91B4D5; font-style: italic">onChange</span><span style="color: #91B4D5">=</span><span style="color: #E4F0FB">{event </span><span style="color: #91B4D5">=></span><span style="color: #E4F0FB"> </span><span style="color: #E4F0FBD0">setMessage</span><span style="color: #A6ACCD">(</span><span style="color: #E4F0FB">event</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FB">target</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FB">value</span><span style="color: #A6ACCD">)</span><span style="color: #E4F0FB">}</span></span>
<span class="line"><span style="color: #E4F0FB">          </span><span style="color: #91B4D5; font-style: italic">id</span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">message</span><span style="color: #A6ACCD">"</span></span>
<span class="line"><span style="color: #E4F0FB">        /></span></span>
<span class="line"><span style="color: #E4F0FB">        &#x3C;</span><span style="color: #5DE4C7">br</span><span style="color: #E4F0FB"> /></span></span>
<span class="line"><span style="color: #E4F0FB">        &#x3C;</span><span style="color: #5DE4C7">input</span></span>
<span class="line"><span style="color: #E4F0FB">          </span><span style="color: #91B4D5; font-style: italic">multiple</span></span>
<span class="line"><span style="color: #E4F0FB">          </span><span style="color: #91B4D5; font-style: italic">type</span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">file</span><span style="color: #A6ACCD">"</span></span>
<span class="line"><span style="color: #E4F0FB">          </span><span style="color: #91B4D5; font-style: italic">onChange</span><span style="color: #91B4D5">=</span><span style="color: #E4F0FB">{e </span><span style="color: #91B4D5">=></span><span style="color: #E4F0FB"> </span><span style="color: #A6ACCD">{</span></span>
<span class="line"><span style="color: #E4F0FB">            </span><span style="color: #91B4D5">let</span><span style="color: #E4F0FB"> files </span><span style="color: #91B4D5">=</span><span style="color: #E4F0FB"> e</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FB">target</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FB">files</span></span>
<span class="line"><span style="color: #E4F0FB">            </span><span style="color: #A6ACCD">if</span><span style="color: #E4F0FB"> </span><span style="color: #A6ACCD">(</span><span style="color: #E4F0FB">files </span><span style="color: #91B4D5">&#x26;&#x26;</span><span style="color: #E4F0FB"> files</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FB">length</span><span style="color: #A6ACCD">)</span><span style="color: #E4F0FB"> </span><span style="color: #A6ACCD">{</span></span>
<span class="line"><span style="color: #E4F0FB">              </span><span style="color: #E4F0FBD0">setImages</span><span style="color: #A6ACCD">(</span><span style="color: #E4F0FB">files</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #E4F0FB">            </span><span style="color: #A6ACCD">}</span></span>
<span class="line"><span style="color: #E4F0FB">          </span><span style="color: #A6ACCD">}</span><span style="color: #E4F0FB">}</span></span>
<span class="line"><span style="color: #E4F0FB">        /> {error </span><span style="color: #91B4D5">?</span><span style="color: #E4F0FB"> </span><span style="color: #A6ACCD">(</span></span>
<span class="line"><span style="color: #E4F0FB">          &#x3C;</span><span style="color: #5DE4C7">div</span><span style="color: #E4F0FB"> </span><span style="color: #91B4D5; font-style: italic">className</span><span style="color: #91B4D5">=</span><span style="color: #E4F0FB">{classes</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FB">error}>{</span><span style="color: #A6ACCD">`${</span><span style="color: #E4F0FB">error</span><span style="color: #A6ACCD">}`</span><span style="color: #E4F0FB">}&#x3C;/</span><span style="color: #5DE4C7">div</span><span style="color: #E4F0FB">></span></span>
<span class="line"><span style="color: #E4F0FB">        </span><span style="color: #A6ACCD">)</span><span style="color: #E4F0FB"> </span><span style="color: #91B4D5">:</span><span style="color: #E4F0FB"> loading </span><span style="color: #91B4D5">?</span><span style="color: #E4F0FB"> </span><span style="color: #A6ACCD">(</span></span>
<span class="line"><span style="color: #E4F0FB">          </span><span style="color: #A6ACCD">`</span><span style="color: #5DE4C7">Uploading...</span><span style="color: #A6ACCD">${</span><span style="color: #E4F0FB">completed</span><span style="color: #A6ACCD">}</span><span style="color: #5DE4C7">/</span><span style="color: #A6ACCD">${</span><span style="color: #E4F0FB">total</span><span style="color: #A6ACCD">}`</span></span>
<span class="line"><span style="color: #E4F0FB">        </span><span style="color: #A6ACCD">)</span><span style="color: #E4F0FB"> </span><span style="color: #91B4D5">:</span><span style="color: #E4F0FB"> completed </span><span style="color: #91B4D5">?</span><span style="color: #E4F0FB"> </span><span style="color: #A6ACCD">(</span></span>
<span class="line"><span style="color: #E4F0FB">          &#x3C;</span><span style="color: #5DE4C7">h2</span><span style="color: #E4F0FB">>Uploaded &#x3C;/</span><span style="color: #5DE4C7">h2</span><span style="color: #E4F0FB">></span></span>
<span class="line"><span style="color: #E4F0FB">        </span><span style="color: #A6ACCD">)</span><span style="color: #E4F0FB"> </span><span style="color: #91B4D5">:</span><span style="color: #E4F0FB"> </span><span style="color: #D0679D">null</span><span style="color: #E4F0FB">} &#x3C;</span><span style="color: #5DE4C7">DialogActions</span><span style="color: #E4F0FB">></span></span>
<span class="line"><span style="color: #E4F0FB">          &#x3C;</span><span style="color: #5DE4C7">Button</span></span>
<span class="line"><span style="color: #E4F0FB">            </span><span style="color: #91B4D5; font-style: italic">style</span><span style="color: #91B4D5">=</span><span style="color: #E4F0FB">{</span><span style="color: #A6ACCD">{</span><span style="color: #E4F0FB"> </span><span style="color: #ADD7FF">textTransform</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">none</span><span style="color: #A6ACCD">'</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">}</span><span style="color: #E4F0FB">}</span></span>
<span class="line"><span style="color: #E4F0FB">            </span><span style="color: #91B4D5; font-style: italic">onClick</span><span style="color: #91B4D5">=</span><span style="color: #E4F0FB">{</span><span style="color: #5DE4C7">async</span><span style="color: #E4F0FB"> </span><span style="color: #A6ACCD">()</span><span style="color: #E4F0FB"> </span><span style="color: #91B4D5">=></span><span style="color: #E4F0FB"> </span><span style="color: #A6ACCD">{</span></span>
<span class="line"><span style="color: #E4F0FB">              </span><span style="color: #D0679D">try</span><span style="color: #E4F0FB"> </span><span style="color: #A6ACCD">{</span></span>
<span class="line"><span style="color: #E4F0FB">                </span><span style="color: #A6ACCD">if</span><span style="color: #E4F0FB"> </span><span style="color: #A6ACCD">(</span><span style="color: #E4F0FB">images</span><span style="color: #A6ACCD">)</span><span style="color: #E4F0FB"> </span><span style="color: #A6ACCD">{</span></span>
<span class="line"><span style="color: #E4F0FB">                  </span><span style="color: #E4F0FBD0">setLoading</span><span style="color: #A6ACCD">(</span><span style="color: #5DE4C7">true</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #E4F0FB">                  </span><span style="color: #E4F0FBD0">setError</span><span style="color: #A6ACCD">(</span><span style="color: #D0679D">undefined</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #E4F0FB">                  </span><span style="color: #E4F0FBD0">setCompleted</span><span style="color: #A6ACCD">(</span><span style="color: #5DE4C7">0</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #E4F0FB">                  </span><span style="color: #E4F0FBD0">setTotal</span><span style="color: #A6ACCD">(</span><span style="color: #E4F0FB">images</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FB">length</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #E4F0FB">                  </span><span style="color: #5DE4C7C0">await</span><span style="color: #E4F0FB"> </span><span style="color: #ADD7FF">Promise</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FBD0">all</span><span style="color: #A6ACCD">(</span></span>
<span class="line"><span style="color: #E4F0FB">                    Array</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FBD0">from</span><span style="color: #A6ACCD">(</span><span style="color: #E4F0FB">images</span><span style="color: #A6ACCD">).</span><span style="color: #E4F0FBD0">map</span><span style="color: #A6ACCD">(</span><span style="color: #5DE4C7">async</span><span style="color: #E4F0FB"> image </span><span style="color: #91B4D5">=></span><span style="color: #E4F0FB"> </span><span style="color: #A6ACCD">{</span></span>
<span class="line"><span style="color: #E4F0FB">                      </span><span style="color: #91B4D5">const</span><span style="color: #E4F0FB"> data </span><span style="color: #91B4D5">=</span><span style="color: #E4F0FB"> </span><span style="color: #5DE4C7">new</span><span style="color: #E4F0FB"> </span><span style="color: #E4F0FBD0">FormData</span><span style="color: #A6ACCD">()</span></span>
<span class="line"><span style="color: #E4F0FB">                      data</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FBD0">append</span><span style="color: #A6ACCD">(</span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">message</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span><span style="color: #E4F0FB"> message</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #E4F0FB">                      data</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FBD0">append</span><span style="color: #A6ACCD">(</span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">user</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span><span style="color: #E4F0FB"> user</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #E4F0FB">                      data</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FBD0">append</span><span style="color: #A6ACCD">(</span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">date</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span><span style="color: #E4F0FB"> </span><span style="color: #5DE4C7">new</span><span style="color: #E4F0FB"> </span><span style="color: #E4F0FBD0">Date</span><span style="color: #A6ACCD">().</span><span style="color: #E4F0FBD0">toLocaleString</span><span style="color: #A6ACCD">())</span></span>
<span class="line"><span style="color: #E4F0FB">                      data</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FBD0">append</span><span style="color: #A6ACCD">(</span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">filename</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span><span style="color: #E4F0FB"> image</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FB">name</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #E4F0FB">                      data</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FBD0">append</span><span style="color: #A6ACCD">(</span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">contentType</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span><span style="color: #E4F0FB"> image</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FB">type</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #E4F0FB">                      </span><span style="color: #91B4D5">const</span><span style="color: #E4F0FB"> res </span><span style="color: #91B4D5">=</span><span style="color: #E4F0FB"> </span><span style="color: #5DE4C7C0">await</span><span style="color: #E4F0FB"> </span><span style="color: #E4F0FBD0">myfetch</span><span style="color: #A6ACCD">(</span><span style="color: #E4F0FB">API_ENDPOINT </span><span style="color: #91B4D5">+</span><span style="color: #E4F0FB"> </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">/postFile</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span><span style="color: #E4F0FB"> </span><span style="color: #A6ACCD">{</span></span>
<span class="line"><span style="color: #E4F0FB">                        </span><span style="color: #ADD7FF">method</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">POST</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">                        </span><span style="color: #ADD7FF">body</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #E4F0FB">data</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">                      </span><span style="color: #A6ACCD">})</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E4F0FB">                      </span><span style="color: #5DE4C7C0">await</span><span style="color: #E4F0FB"> </span><span style="color: #E4F0FBD0">myfetch</span><span style="color: #A6ACCD">(</span><span style="color: #E4F0FB">res</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FB">uploadURL</span><span style="color: #A6ACCD">,</span><span style="color: #E4F0FB"> </span><span style="color: #A6ACCD">{</span></span>
<span class="line"><span style="color: #E4F0FB">                        </span><span style="color: #ADD7FF">method</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">PUT</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">                        </span><span style="color: #ADD7FF">body</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #E4F0FB">image</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">                      </span><span style="color: #A6ACCD">})</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E4F0FB">                      </span><span style="color: #E4F0FBD0">setCompleted</span><span style="color: #A6ACCD">(</span><span style="color: #E4F0FB">completed </span><span style="color: #91B4D5">=></span><span style="color: #E4F0FB"> completed </span><span style="color: #91B4D5">+</span><span style="color: #E4F0FB"> </span><span style="color: #5DE4C7">1</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #E4F0FB">                    </span><span style="color: #A6ACCD">}),</span></span>
<span class="line"><span style="color: #E4F0FB">                  </span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #E4F0FB">                  </span><span style="color: #E4F0FBD0">setTimeout</span><span style="color: #A6ACCD">(()</span><span style="color: #E4F0FB"> </span><span style="color: #91B4D5">=></span><span style="color: #E4F0FB"> </span><span style="color: #A6ACCD">{</span></span>
<span class="line"><span style="color: #E4F0FB">                    </span><span style="color: #E4F0FBD0">handleClose</span><span style="color: #A6ACCD">()</span></span>
<span class="line"><span style="color: #E4F0FB">                  </span><span style="color: #A6ACCD">},</span><span style="color: #E4F0FB"> </span><span style="color: #5DE4C7">500</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #E4F0FB">                </span><span style="color: #A6ACCD">}</span></span>
<span class="line"><span style="color: #E4F0FB">              </span><span style="color: #A6ACCD">}</span><span style="color: #E4F0FB"> </span><span style="color: #D0679D">catch</span><span style="color: #E4F0FB"> </span><span style="color: #A6ACCD">(</span><span style="color: #E4F0FB">e</span><span style="color: #A6ACCD">)</span><span style="color: #E4F0FB"> </span><span style="color: #A6ACCD">{</span></span>
<span class="line"><span style="color: #E4F0FB">                </span><span style="color: #E4F0FBD0">setError</span><span style="color: #A6ACCD">(</span><span style="color: #E4F0FB">e</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #E4F0FB">              </span><span style="color: #A6ACCD">}</span></span>
<span class="line"><span style="color: #E4F0FB">            </span><span style="color: #A6ACCD">}</span><span style="color: #E4F0FB">}</span></span>
<span class="line"><span style="color: #E4F0FB">            </span><span style="color: #91B4D5; font-style: italic">color</span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">primary</span><span style="color: #A6ACCD">"</span></span>
<span class="line"><span style="color: #E4F0FB">          ></span></span>
<span class="line"><span style="color: #E4F0FB">            upload</span></span>
<span class="line"><span style="color: #E4F0FB">          &#x3C;/</span><span style="color: #5DE4C7">Button</span><span style="color: #E4F0FB">></span></span>
<span class="line"><span style="color: #E4F0FB">          &#x3C;</span><span style="color: #5DE4C7">Button</span></span>
<span class="line"><span style="color: #E4F0FB">            </span><span style="color: #91B4D5; font-style: italic">onClick</span><span style="color: #91B4D5">=</span><span style="color: #E4F0FB">{handleClose}</span></span>
<span class="line"><span style="color: #E4F0FB">            </span><span style="color: #91B4D5; font-style: italic">color</span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">primary</span><span style="color: #A6ACCD">"</span></span>
<span class="line"><span style="color: #E4F0FB">            </span><span style="color: #91B4D5; font-style: italic">style</span><span style="color: #91B4D5">=</span><span style="color: #E4F0FB">{</span><span style="color: #A6ACCD">{</span><span style="color: #E4F0FB"> </span><span style="color: #ADD7FF">textTransform</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">none</span><span style="color: #A6ACCD">'</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">}</span><span style="color: #E4F0FB">}</span></span>
<span class="line"><span style="color: #E4F0FB">          ></span></span>
<span class="line"><span style="color: #E4F0FB">            cancel</span></span>
<span class="line"><span style="color: #E4F0FB">          &#x3C;/</span><span style="color: #5DE4C7">Button</span><span style="color: #E4F0FB">></span></span>
<span class="line"><span style="color: #E4F0FB">        &#x3C;/</span><span style="color: #5DE4C7">DialogActions</span><span style="color: #E4F0FB">></span></span>
<span class="line"><span style="color: #E4F0FB">      &#x3C;/</span><span style="color: #5DE4C7">DialogContent</span><span style="color: #E4F0FB">></span></span>
<span class="line"><span style="color: #E4F0FB">    &#x3C;/</span><span style="color: #5DE4C7">Dialog</span><span style="color: #E4F0FB">></span></span>
<span class="line"><span style="color: #A6ACCD">  )</span></span>
<span class="line"><span style="color: #A6ACCD">}</span></span></code></pre>
<p>template.yaml for AWS</p>
<pre class="shiki poimandres" style="background-color: #1b1e28" tabindex="0"><code><span class="line"><span style="color: #5DE4C7">AWSTemplateFormatVersion</span><span style="color: #A6ACCD">: 2010-09-09</span></span>
<span class="line"><span style="color: #5DE4C7">Transform</span><span style="color: #A6ACCD">: </span><span style="color: #ADD7FF">AWS::Serverless-2016-10-31</span></span>
<span class="line"><span style="color: #5DE4C7">Description</span><span style="color: #A6ACCD">: </span><span style="color: #ADD7FF">S3 Uploader</span></span>
<span class="line"></span>
<span class="line"><span style="color: #5DE4C7">Resources</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #5DE4C7">filesDynamoDBTable</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #5DE4C7">Type</span><span style="color: #A6ACCD">: </span><span style="color: #ADD7FF">AWS::DynamoDB::Table</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #5DE4C7">Properties</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #5DE4C7">AttributeDefinitions</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">        - </span><span style="color: #5DE4C7">AttributeName</span><span style="color: #A6ACCD">: </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">timestamp</span><span style="color: #A6ACCD">'</span></span>
<span class="line"><span style="color: #A6ACCD">          </span><span style="color: #5DE4C7">AttributeType</span><span style="color: #A6ACCD">: </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">N</span><span style="color: #A6ACCD">'</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #5DE4C7">KeySchema</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">        - </span><span style="color: #5DE4C7">AttributeName</span><span style="color: #A6ACCD">: </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">timestamp</span><span style="color: #A6ACCD">'</span></span>
<span class="line"><span style="color: #A6ACCD">          </span><span style="color: #5DE4C7">KeyType</span><span style="color: #A6ACCD">: </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">HASH</span><span style="color: #A6ACCD">'</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #5DE4C7">ProvisionedThroughput</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">        </span><span style="color: #5DE4C7">ReadCapacityUnits</span><span style="color: #A6ACCD">: </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">5</span><span style="color: #A6ACCD">'</span></span>
<span class="line"><span style="color: #A6ACCD">        </span><span style="color: #5DE4C7">WriteCapacityUnits</span><span style="color: #A6ACCD">: </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">5</span><span style="color: #A6ACCD">'</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #5DE4C7">TableName</span><span style="color: #A6ACCD">: </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">files</span><span style="color: #A6ACCD">'</span></span>
<span class="line"></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #767C9DB0; font-style: italic"># HTTP API</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #5DE4C7">MyApi</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #5DE4C7">Type</span><span style="color: #A6ACCD">: </span><span style="color: #ADD7FF">AWS::Serverless::HttpApi</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #5DE4C7">Properties</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #767C9DB0; font-style: italic"># CORS configuration - this is open for development only and should be restricted in prod.</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #767C9DB0; font-style: italic"># See https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/sam-property-httpapi-httpapicorsconfiguration.html</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #5DE4C7">CorsConfiguration</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">        </span><span style="color: #5DE4C7">AllowMethods</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">          - </span><span style="color: #ADD7FF">GET</span></span>
<span class="line"><span style="color: #A6ACCD">          - </span><span style="color: #ADD7FF">POST</span></span>
<span class="line"><span style="color: #A6ACCD">          - </span><span style="color: #ADD7FF">DELETE</span></span>
<span class="line"><span style="color: #A6ACCD">          - </span><span style="color: #ADD7FF">OPTIONS</span></span>
<span class="line"><span style="color: #A6ACCD">        </span><span style="color: #5DE4C7">AllowHeaders</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">          - </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">*</span><span style="color: #A6ACCD">'</span></span>
<span class="line"><span style="color: #A6ACCD">        </span><span style="color: #5DE4C7">AllowOrigins</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">          - </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">*</span><span style="color: #A6ACCD">'</span></span>
<span class="line"></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #5DE4C7">UploadRequestFunction</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #5DE4C7">Type</span><span style="color: #A6ACCD">: </span><span style="color: #ADD7FF">AWS::Serverless::Function</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #5DE4C7">Properties</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #5DE4C7">CodeUri</span><span style="color: #A6ACCD">: </span><span style="color: #ADD7FF">lambdas/postFile/</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #5DE4C7">Handler</span><span style="color: #A6ACCD">: </span><span style="color: #ADD7FF">app.handler</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #5DE4C7">Runtime</span><span style="color: #A6ACCD">: </span><span style="color: #ADD7FF">nodejs12.x</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #5DE4C7">Timeout</span><span style="color: #A6ACCD">: </span><span style="color: #5DE4C7">3</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #5DE4C7">MemorySize</span><span style="color: #A6ACCD">: </span><span style="color: #5DE4C7">128</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #5DE4C7">Environment</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">        </span><span style="color: #5DE4C7">Variables</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">          </span><span style="color: #5DE4C7">UploadBucket</span><span style="color: #A6ACCD">: </span><span style="color: #91B4D5">!Ref</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">S3UploadBucket</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #5DE4C7">Policies</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">        - </span><span style="color: #ADD7FF">AmazonDynamoDBFullAccess</span></span>
<span class="line"><span style="color: #A6ACCD">        - </span><span style="color: #5DE4C7">S3WritePolicy</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">            </span><span style="color: #5DE4C7">BucketName</span><span style="color: #A6ACCD">: </span><span style="color: #91B4D5">!Ref</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">S3UploadBucket</span></span>
<span class="line"><span style="color: #A6ACCD">        - </span><span style="color: #5DE4C7">Statement</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">            - </span><span style="color: #5DE4C7">Effect</span><span style="color: #A6ACCD">: </span><span style="color: #ADD7FF">Allow</span></span>
<span class="line"><span style="color: #A6ACCD">              </span><span style="color: #5DE4C7">Resource</span><span style="color: #A6ACCD">: </span><span style="color: #91B4D5">!Sub</span><span style="color: #A6ACCD"> </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">arn:aws:s3:::${S3UploadBucket}/</span><span style="color: #A6ACCD">'</span></span>
<span class="line"><span style="color: #A6ACCD">              </span><span style="color: #5DE4C7">Action</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">                - </span><span style="color: #ADD7FF">s3:putObjectAcl</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #5DE4C7">Events</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">        </span><span style="color: #5DE4C7">UploadAssetAPI</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">          </span><span style="color: #5DE4C7">Type</span><span style="color: #A6ACCD">: </span><span style="color: #ADD7FF">HttpApi</span></span>
<span class="line"><span style="color: #A6ACCD">          </span><span style="color: #5DE4C7">Properties</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">            </span><span style="color: #5DE4C7">Path</span><span style="color: #A6ACCD">: </span><span style="color: #ADD7FF">/postFile</span></span>
<span class="line"><span style="color: #A6ACCD">            </span><span style="color: #5DE4C7">Method</span><span style="color: #A6ACCD">: </span><span style="color: #ADD7FF">post</span></span>
<span class="line"><span style="color: #A6ACCD">            </span><span style="color: #5DE4C7">ApiId</span><span style="color: #A6ACCD">: </span><span style="color: #91B4D5">!Ref</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">MyApi</span></span>
<span class="line"></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #5DE4C7">FileReadFunction</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #5DE4C7">Type</span><span style="color: #A6ACCD">: </span><span style="color: #ADD7FF">AWS::Serverless::Function</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #5DE4C7">Properties</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #5DE4C7">CodeUri</span><span style="color: #A6ACCD">: </span><span style="color: #ADD7FF">lambdas/getFiles/</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #5DE4C7">Handler</span><span style="color: #A6ACCD">: </span><span style="color: #ADD7FF">app.handler</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #5DE4C7">Runtime</span><span style="color: #A6ACCD">: </span><span style="color: #ADD7FF">nodejs12.x</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #5DE4C7">Timeout</span><span style="color: #A6ACCD">: </span><span style="color: #5DE4C7">3</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #5DE4C7">MemorySize</span><span style="color: #A6ACCD">: </span><span style="color: #5DE4C7">128</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #5DE4C7">Policies</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">        - </span><span style="color: #ADD7FF">AmazonDynamoDBFullAccess</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #5DE4C7">Events</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">        </span><span style="color: #5DE4C7">UploadAssetAPI</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">          </span><span style="color: #5DE4C7">Type</span><span style="color: #A6ACCD">: </span><span style="color: #ADD7FF">HttpApi</span></span>
<span class="line"><span style="color: #A6ACCD">          </span><span style="color: #5DE4C7">Properties</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">            </span><span style="color: #5DE4C7">Path</span><span style="color: #A6ACCD">: </span><span style="color: #ADD7FF">/getFiles</span></span>
<span class="line"><span style="color: #A6ACCD">            </span><span style="color: #5DE4C7">Method</span><span style="color: #A6ACCD">: </span><span style="color: #ADD7FF">get</span></span>
<span class="line"><span style="color: #A6ACCD">            </span><span style="color: #5DE4C7">ApiId</span><span style="color: #A6ACCD">: </span><span style="color: #91B4D5">!Ref</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">MyApi</span></span>
<span class="line"></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #767C9DB0; font-style: italic">## S3 bucket</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #5DE4C7">S3UploadBucket</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #5DE4C7">Type</span><span style="color: #A6ACCD">: </span><span style="color: #ADD7FF">AWS::S3::Bucket</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #5DE4C7">Properties</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #5DE4C7">CorsConfiguration</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">        </span><span style="color: #5DE4C7">CorsRules</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">          - </span><span style="color: #5DE4C7">AllowedHeaders</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">              - </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">*</span><span style="color: #A6ACCD">'</span></span>
<span class="line"><span style="color: #A6ACCD">            </span><span style="color: #5DE4C7">AllowedMethods</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">              - </span><span style="color: #ADD7FF">GET</span></span>
<span class="line"><span style="color: #A6ACCD">              - </span><span style="color: #ADD7FF">PUT</span></span>
<span class="line"><span style="color: #A6ACCD">              - </span><span style="color: #ADD7FF">HEAD</span></span>
<span class="line"><span style="color: #A6ACCD">            </span><span style="color: #5DE4C7">AllowedOrigins</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">              - </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">*</span><span style="color: #A6ACCD">'</span></span>
<span class="line"></span>
<span class="line"><span style="color: #767C9DB0; font-style: italic">## Take a note of the outputs for deploying the workflow templates in this sample application</span></span>
<span class="line"><span style="color: #5DE4C7">Outputs</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #5DE4C7">APIendpoint</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #5DE4C7">Description</span><span style="color: #A6ACCD">: </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">HTTP API endpoint URL</span><span style="color: #A6ACCD">'</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #5DE4C7">Value</span><span style="color: #A6ACCD">: </span><span style="color: #91B4D5">!Sub</span><span style="color: #A6ACCD"> </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">https://${MyApi}.execute-api.${AWS::Region}.amazonaws.com</span><span style="color: #A6ACCD">'</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #5DE4C7">S3UploadBucketName</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #5DE4C7">Description</span><span style="color: #A6ACCD">: </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">S3 bucket for application uploads</span><span style="color: #A6ACCD">'</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #5DE4C7">Value</span><span style="color: #A6ACCD">: </span><span style="color: #91B4D5">!Ref</span><span style="color: #A6ACCD"> </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">S3UploadBucket</span><span style="color: #A6ACCD">'</span></span></code></pre>
<p>To display all the pictures I use a switch from video or img tag based on
contentType.startsWith('video'). I also use the "figcaption" HTML tag to have a
little caption on the pics/videos</p>
<p>./frontend/src/App.tsx</p>
<pre class="shiki poimandres" style="background-color: #1b1e28" tabindex="0"><code><span class="line"><span style="color: #91B4D5">function</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">Media</span><span style="color: #A6ACCD">({</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #E4F0FB">file</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #E4F0FB">style</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #E4F0FB">onClick</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #E4F0FB">children</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #A6ACCD">}</span><span style="color: #91B4D5">:</span><span style="color: #A6ACCD"> {</span></span>
<span class="line"><span style="color: #A6ACCD">  file</span><span style="color: #91B4D5">:</span><span style="color: #A6ACCD"> </span><span style="color: #A6ACCDC0">File</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #ADD7FF">onClick</span><span style="color: #91B4D5">?:</span><span style="color: #A6ACCD"> </span><span style="color: #A6ACCDC0">Function</span></span>
<span class="line"><span style="color: #A6ACCD">  style</span><span style="color: #91B4D5">?:</span><span style="color: #A6ACCD"> </span><span style="color: #A6ACCDC0">React</span><span style="color: #A6ACCD">.</span><span style="color: #A6ACCDC0">CSSProperties</span></span>
<span class="line"><span style="color: #A6ACCD">  children</span><span style="color: #91B4D5">?:</span><span style="color: #A6ACCD"> </span><span style="color: #A6ACCDC0">React</span><span style="color: #A6ACCD">.</span><span style="color: #A6ACCDC0">ReactNode</span></span>
<span class="line"><span style="color: #A6ACCD">}) {</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> { </span><span style="color: #E4F0FB">filename</span><span style="color: #A6ACCD">, </span><span style="color: #E4F0FB">contentType</span><span style="color: #A6ACCD"> } </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">file</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #91B4D5">const</span><span style="color: #A6ACCD"> </span><span style="color: #E4F0FB">src</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD"> </span><span style="color: #A6ACCD">`${</span><span style="color: #E4F0FB">BUCKET</span><span style="color: #A6ACCD">}</span><span style="color: #5DE4C7">/</span><span style="color: #A6ACCD">${</span><span style="color: #E4F0FB">filename</span><span style="color: #A6ACCD">}`</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #5DE4C7C0">return</span><span style="color: #A6ACCD"> (</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #E4F0FB">&#x3C;</span><span style="color: #5DE4C7">figure</span><span style="color: #E4F0FB"> </span><span style="color: #91B4D5; font-style: italic">style</span><span style="color: #91B4D5">=</span><span style="color: #E4F0FB">{</span><span style="color: #A6ACCD">{</span><span style="color: #E4F0FB"> </span><span style="color: #ADD7FF">display</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">inline-block</span><span style="color: #A6ACCD">'</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">}</span><span style="color: #E4F0FB">}></span></span>
<span class="line"><span style="color: #E4F0FB">      &#x3C;</span><span style="color: #5DE4C7">picture</span><span style="color: #E4F0FB">></span></span>
<span class="line"><span style="color: #E4F0FB">        {contentType</span><span style="color: #A6ACCD">.</span><span style="color: #E4F0FBD0">startsWith</span><span style="color: #A6ACCD">(</span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">video</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">)</span><span style="color: #E4F0FB"> </span><span style="color: #91B4D5">?</span><span style="color: #E4F0FB"> </span><span style="color: #A6ACCD">(</span></span>
<span class="line"><span style="color: #E4F0FB">          &#x3C;</span><span style="color: #5DE4C7">video</span><span style="color: #E4F0FB"> </span><span style="color: #91B4D5; font-style: italic">style</span><span style="color: #91B4D5">=</span><span style="color: #E4F0FB">{style} </span><span style="color: #91B4D5; font-style: italic">src</span><span style="color: #91B4D5">=</span><span style="color: #E4F0FB">{src} </span><span style="color: #91B4D5; font-style: italic">controls</span><span style="color: #E4F0FB"> </span><span style="color: #91B4D5; font-style: italic">onClick</span><span style="color: #91B4D5">=</span><span style="color: #E4F0FB">{onClick </span><span style="color: #A6ACCDC0">as</span><span style="color: #E4F0FB"> </span><span style="color: #A6ACCDC0">any</span><span style="color: #E4F0FB">} /></span></span>
<span class="line"><span style="color: #E4F0FB">        </span><span style="color: #A6ACCD">)</span><span style="color: #E4F0FB"> </span><span style="color: #91B4D5">:</span><span style="color: #E4F0FB"> </span><span style="color: #A6ACCD">(</span></span>
<span class="line"><span style="color: #E4F0FB">          &#x3C;</span><span style="color: #5DE4C7">img</span><span style="color: #E4F0FB"> </span><span style="color: #91B4D5; font-style: italic">style</span><span style="color: #91B4D5">=</span><span style="color: #E4F0FB">{style} </span><span style="color: #91B4D5; font-style: italic">src</span><span style="color: #91B4D5">=</span><span style="color: #E4F0FB">{src} </span><span style="color: #91B4D5; font-style: italic">onClick</span><span style="color: #91B4D5">=</span><span style="color: #E4F0FB">{onClick </span><span style="color: #A6ACCDC0">as</span><span style="color: #E4F0FB"> </span><span style="color: #A6ACCDC0">any</span><span style="color: #E4F0FB">} /></span></span>
<span class="line"><span style="color: #E4F0FB">        </span><span style="color: #A6ACCD">)</span><span style="color: #E4F0FB">}</span></span>
<span class="line"><span style="color: #E4F0FB">      &#x3C;/</span><span style="color: #5DE4C7">picture</span><span style="color: #E4F0FB">></span></span>
<span class="line"><span style="color: #E4F0FB">      &#x3C;</span><span style="color: #5DE4C7">figcaption</span><span style="color: #E4F0FB">>{children}&#x3C;/</span><span style="color: #5DE4C7">figcaption</span><span style="color: #E4F0FB">></span></span>
<span class="line"><span style="color: #E4F0FB">    &#x3C;/</span><span style="color: #5DE4C7">figure</span><span style="color: #E4F0FB">></span></span>
<span class="line"><span style="color: #A6ACCD">  )</span></span>
<span class="line"><span style="color: #A6ACCD">}</span></span></code></pre>
<p>Now the really fun part: if you get an image of a picture frame like
<a href="https://www.amazon.com/Paintings-Frames-Antique-Shatterproof-Osafs2-Gld-A3/dp/B06XNQ8W9T">https://www.amazon.com/Paintings-Frames-Antique-Shatterproof-Osafs2-Gld-A3/dp/B06XNQ8W9T</a></p>
<p>You can make it a border for any image or video using border-image CSS</p>
<pre class="shiki poimandres" style="background-color: #1b1e28" tabindex="0"><code><span class="line"><span style="color: #E4F0FB">style</span><span style="color: #A6ACCD"> </span><span style="color: #91B4D5">=</span><span style="color: #E4F0FB"> </span><span style="color: #A6ACCD">{</span></span>
<span class="line"><span style="color: #E4F0FB">  </span><span style="color: #ADD7FF">border</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">30px solid</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">  </span><span style="color: #ADD7FF">borderImage</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">`</span><span style="color: #5DE4C7">url(borders/</span><span style="color: #A6ACCD">${</span><span style="color: #E4F0FB">border</span><span style="color: #A6ACCD">}</span><span style="color: #5DE4C7">) 30 round</span><span style="color: #A6ACCD">`</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #A6ACCD">}</span></span></code></pre>
<p><img src="/media/638602799897329664_0.png" alt=""></p>
<h2 id="summary"><a aria-hidden="true" tabindex="-1" href="#summary"><a href="#summary" style="margin-right: 10px">#</a></a>Summary</h2>
<p>The template.yaml automatically deploys the lambdas for postFile/getFile and the
files table in dynamoDB</p>
<p>The React app uses postFile for each file in an <code>&#x3C;input type="file"/></code>, the code
uses React hooks and functional components but is hopefully not too complex</p>
<p>I also added commenting on photos. The code is not shown here but you can look
in the source code for details</p>
<p><img src="/media/638602799897329664_1.png" alt=""></p>
<p>Overall this has been a good experience learning to develop this app and
learning to automate the cloud deployment is really good for ensuring
reliability and fast iteration.</p>
<p>Also quick note on serverless CLI vs aws-sam. I had tried a serverless CLI
tutorial from another user but it didn't click with me, while the aws-sam
tutorial from
<a href="https://searchvoidstar.tumblr.com/post/638408397901987840/making-a-serverless-website-for-photo-upload-pt-1">https://searchvoidstar.tumblr.com/post/638408397901987840/making-a-serverless-website-for-photo-upload-pt-1</a>
was a great kick start for me. I am sure the serverless CLI is great too and it
ensures a bit less vendor lock in, but then is also a little bit removed from
the native aws config schemas. Probably fine though</p>
<h2 id="source-code"><a aria-hidden="true" tabindex="-1" href="#source-code"><a href="#source-code" style="margin-right: 10px">#</a></a>Source code</h2>
<p><a href="https://github.com/cmdcolin/aws_photo_gallery/">https://github.com/cmdcolin/aws_photo_gallery/</a></p></div><div style="margin-top:200px"></div></article></div></main></div><footer style="margin-top:100px"><a href="/">Home</a> <a href="/archive">Blog archive</a> <a href="https://github.com/cmdcolin/">Github</a> <a href="https://twitter.com/cmdcolin">Twitter</a> <a href="/projects">Projects</a><a href="/photos">Photos</a> <a href="/rss.xml">RSS</a><a href="/about">About</a></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Making a serverless website for photo and video upload pt. 2","date":"2020-12-26","slug":"2020-12-26","html":"\u003cp\u003eThis post follows onhttps://cmdcolin.github.io/2020-12-24.html\u003c/p\u003e\n\u003cp\u003eIt is possible I zoomed ahead too fast to make this a continuous tutorial, but\noverall I just wanted to post an update\u003c/p\u003e\n\u003cp\u003eIn pt. 1 I learned how to use the \u003ccode\u003eaws-sam\u003c/code\u003e CLI tool. This was a great insight\nfor me about automating deployments. I can now simply run \u003ccode\u003esam deploy\u003c/code\u003e and it\nwill create new dynamodb tables, lambda functions, etc.\u003c/p\u003e\n\u003cp\u003eAfter writing pt 1. I converted the existing vue-js app that was in the aws\ntutorial and converted it to react. Then I extended the app to allow\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ePosting comments on photos\u003c/li\u003e\n\u003cli\u003eUploading multiple files\u003c/li\u003e\n\u003cli\u003eUploading videos etc.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eIt will be hard to summarize all the changes since now the app has taken off a\nlittle bit but it looks like this:\u003c/p\u003e\n\u003cp\u003eRepo structure\u003c/p\u003e\n\u003cpre class=\"shiki poimandres\" style=\"background-color: #1b1e28\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #91B4D5\"\u003e./frontend\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #91B4D5\"\u003e./frontend/src/App.tsx\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #91B4D5\"\u003e./lambdas/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #91B4D5\"\u003e./lambdas/postFile\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #91B4D5\"\u003e./lambdas/getFiles\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #91B4D5\"\u003e./lambdas/postComment\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #91B4D5\"\u003e./lambdas/getComments\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eHere is a detailed code for uploading the file. We upload one file at a time,\nbut the client code post to the lambda endpoint individually for each file\u003c/p\u003e\n\u003cp\u003eThis generates a pre-signed URL to allow the client-side JS (not the lambda\nitself) to directly upload to S3, and also posts a row in the S3 to the filename\nthat will. It is very similar code in to\n\u003ca href=\"https://cmdcolin.github.io/2020-12-24.html\"\u003ehttps://cmdcolin.github.io/2020-12-24.html\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e./lambdas/postFile/app.js\u003c/p\u003e\n\u003cpre class=\"shiki poimandres\" style=\"background-color: #1b1e28\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003euse strict\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eAWS\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003erequire\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eaws-sdk\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003emultipart\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003erequire\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e./multipart\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #ADD7FF\"\u003eAWS\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003econfig\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003eupdate\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e({\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eregion\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eprocess\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eenv\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eAWS_REGION\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e})\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003es3\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003enew\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eAWS\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003eS3\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #767C9DB0; font-style: italic\"\u003e// Change this value to adjust the signed URL's expiration\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eURL_EXPIRATION_SECONDS\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e300\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #767C9DB0; font-style: italic\"\u003e// Main Lambda entry point\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003eexports\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003ehandler\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eevent\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #5DE4C7C0\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #5DE4C7C0\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003egetUploadURL\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eevent\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e { AWS_REGION: \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eregion\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e } \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eprocess\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eenv\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003edynamodb\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003enew\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eAWS\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003eDynamoDB\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e({\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eapiVersion\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e2012-08-10\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e region\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e})\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #5DE4C7\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003efunction\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003euploadPic\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003etimestamp\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003efilename\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003emessage\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003euser\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003edate\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003econtentType\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eparams\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eItem\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003etimestamp\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eN\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e`${\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003etimestamp\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}`\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e},\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003efilename\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eS\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003efilename\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e},\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003emessage\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eS\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003emessage\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e},\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003euser\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eS\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003euser\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e},\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003edate\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eS\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003edate\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e},\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003econtentType\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eS\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003econtentType\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e},\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e},\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eTableName\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003efiles\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #5DE4C7C0\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003edynamodb\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003eputItem\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eparams\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e).\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003epromise\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003egetUploadURL\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003efunction\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e (\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eevent\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #D0679D\"\u003etry\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003edata\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003emultipart\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003eparse\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eevent\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e { \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003efilename\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003econtentType\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003euser\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003emessage\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003edate\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e } \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003edata\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003etimestamp\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e+\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eDate\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003enow\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eKey\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e`${\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003etimestamp\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e${\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003efilename\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}`\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #767C9DB0; font-style: italic\"\u003e// Get signed URL from S3\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003es3Params\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eBucket\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eprocess\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eenv\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eUploadBucket\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      Key\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eExpires\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eURL_EXPIRATION_SECONDS\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eContentType\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003econtentType\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #767C9DB0; font-style: italic\"\u003e// This ACL makes the uploaded object publicly readable. You must also\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #767C9DB0; font-style: italic\"\u003e// uncomment the extra permission for the Lambda function in the SAM\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #767C9DB0; font-style: italic\"\u003e// template.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eACL\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003epublic-read\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003euploadURL\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #5DE4C7C0\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003es3\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003egetSignedUrlPromise\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eputObject\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003es3Params\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #5DE4C7C0\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003euploadPic\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      timestamp\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003efilename\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eKey\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      message\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      user\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      date\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      contentType\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e})\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #5DE4C7C0\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eJSON\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003estringify\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      uploadURL\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      Key\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e})\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  } \u003c/span\u003e\u003cspan style=\"color: #D0679D\"\u003ecatch\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e (\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003ee\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eresponse\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003estatusCode\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e500\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003ebody\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e JSON\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003estringify\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e({\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003emessage\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e`${\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003ee\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}`\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}),\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #5DE4C7C0\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eresponse\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e./lambdas/getFiles/app.js\u003c/p\u003e\n\u003cpre class=\"shiki poimandres\" style=\"background-color: #1b1e28\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #767C9DB0; font-style: italic\"\u003e// eslint-disable-next-line import/no-unresolved\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eAWS\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003erequire\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eaws-sdk\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e { AWS_REGION: \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eregion\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e } \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eprocess\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eenv\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003edocClient\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003enew\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eAWS\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eDynamoDB\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003eDocumentClient\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003egetItems\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003efunction\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e () {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eparams\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eTableName\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003efiles\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #5DE4C7C0\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003edocClient\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003escan\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eparams\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e).\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003epromise\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003eexports\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003ehandler\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eevent\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #D0679D\"\u003etry\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eresult\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #5DE4C7C0\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003egetItems\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #5DE4C7C0\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003estatusCode\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e200\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003ebody\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e JSON\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003estringify\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eresult\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e),\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  } \u003c/span\u003e\u003cspan style=\"color: #D0679D\"\u003ecatch\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e (\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003ee\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #5DE4C7C0\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003estatusCode\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e400\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003ebody\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e JSON\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003estringify\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e({\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003emessage\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e`${\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003ee\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}`\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}),\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e./frontend/src/App.tsx (excerpt)\u003c/p\u003e\n\u003cpre class=\"shiki poimandres\" style=\"background-color: #1b1e28\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #5DE4C7\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003efunction\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003emyfetch\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eparams\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCDC0\"\u003estring\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eopts\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e?:\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCDC0\"\u003eany\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eresponse\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #5DE4C7C0\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003efetch\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eparams\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eopts\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  if (\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e!\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eresponse\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eok\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #D0679D\"\u003ethrow\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003enew\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003eError\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e`\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eHTTP \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e${\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eresponse\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003estatus\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e${\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eresponse\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003estatusText\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}`\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #5DE4C7C0\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eresponse\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003ejson\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #91B4D5\"\u003efunction\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eUploadDialog\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eopen\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eonClose\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  open\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCDC0\"\u003eboolean\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eonClose\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e () \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCDC0\"\u003evoid\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e [\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eimages\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003esetImages\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e] \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003euseState\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #A6ACCDC0\"\u003eFileList\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e [\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eerror\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003esetError\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e] \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003euseState\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #A6ACCDC0\"\u003eError\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e [\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eloading\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003esetLoading\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e] \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003euseState\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #D0679D\"\u003efalse\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e [\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003etotal\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003esetTotal\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e] \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003euseState\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e0\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e [\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003ecompleted\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003esetCompleted\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e] \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003euseState\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e0\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e [\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003euser\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003esetUser\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e] \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003euseState\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e''\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e [\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003emessage\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003esetMessage\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e] \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003euseState\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e''\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eclasses\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003euseStyles\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003ehandleClose\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e () \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003esetError\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #D0679D\"\u003eundefined\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003esetLoading\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #D0679D\"\u003efalse\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003esetImages\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #D0679D\"\u003eundefined\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003esetCompleted\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e0\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003esetTotal\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e0\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003esetMessage\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e''\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003eonClose\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #5DE4C7C0\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e (\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eDialog\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003eonClose\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e{handleClose} \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003eopen\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e{open}\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eDialogTitle\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e\u003eupload a file (supports picture or video)\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eDialogTitle\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eDialogContent\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e        \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003elabel\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003ehtmlFor\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003euser\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e\u003ename (optional) \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003elabel\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e        \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003einput\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e          \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003etype\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003etext\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e          \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003evalue\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e{user}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e          \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003eonChange\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e{event \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003esetUser\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eevent\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003etarget\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003evalue\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e          \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003eid\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003euser\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e        /\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e        \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003ebr\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e /\u003e \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003elabel\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003ehtmlFor\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003euser\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e\u003emessage (optional) \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003elabel\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e        \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003einput\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e          \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003etype\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003etext\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e          \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003evalue\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e{message}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e          \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003eonChange\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e{event \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003esetMessage\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eevent\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003etarget\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003evalue\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e          \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003eid\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003emessage\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e        /\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e        \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003ebr\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e /\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e        \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003einput\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e          \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003emultiple\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e          \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003etype\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003efile\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e          \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003eonChange\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e{e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e            \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003elet\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e files \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e e\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003etarget\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003efiles\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e            \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003eif\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003efiles \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e files\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003elength\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e              \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003esetImages\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003efiles\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e            \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e          \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e        /\u003e {error \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e?\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e          \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003ediv\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003eclassName\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e{classes\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eerror}\u003e{\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e`${\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eerror\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}`\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e}\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003ediv\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e loading \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e?\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e          \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e`\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eUploading...\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e${\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003ecompleted\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e/\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e${\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003etotal\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}`\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e completed \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e?\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e          \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eh2\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e\u003eUploaded \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eh2\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D0679D\"\u003enull\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e} \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eDialogActions\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e          \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eButton\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e            \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003estyle\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e{\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e{\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003etextTransform\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003enone\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e            \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003eonClick\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e{\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e()\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e              \u003c/span\u003e\u003cspan style=\"color: #D0679D\"\u003etry\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003eif\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eimages\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                  \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003esetLoading\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003etrue\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                  \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003esetError\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #D0679D\"\u003eundefined\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                  \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003esetCompleted\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e0\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                  \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003esetTotal\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eimages\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003elength\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                  \u003c/span\u003e\u003cspan style=\"color: #5DE4C7C0\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003ePromise\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003eall\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                    Array\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003efrom\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eimages\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e).\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003emap\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e image \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                      \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e data \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003enew\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003eFormData\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                      data\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003eappend\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003emessage\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e message\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                      data\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003eappend\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003euser\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e user\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                      data\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003eappend\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003edate\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003enew\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003eDate\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e().\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003etoLocaleString\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e())\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                      data\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003eappend\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003efilename\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e image\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003ename\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                      data\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003eappend\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003econtentType\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e image\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003etype\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                      \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e res \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #5DE4C7C0\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003emyfetch\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eAPI_ENDPOINT \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e+\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e/postFile\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                        \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003emethod\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003ePOST\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                        \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003ebody\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003edata\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                      \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e})\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                      \u003c/span\u003e\u003cspan style=\"color: #5DE4C7C0\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003emyfetch\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eres\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003euploadURL\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                        \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003emethod\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003ePUT\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                        \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003ebody\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eimage\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                      \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e})\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                      \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003esetCompleted\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003ecompleted \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e completed \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e+\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e1\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                    \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}),\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                  \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                  \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003esetTimeout\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(()\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                    \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003ehandleClose\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                  \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e},\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e500\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e              \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D0679D\"\u003ecatch\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003ee\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e                \u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003esetError\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003ee\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e              \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e            \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e            \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003ecolor\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eprimary\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e          \u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e            upload\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e          \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eButton\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e          \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eButton\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e            \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003eonClick\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e{handleClose}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e            \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003ecolor\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eprimary\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e            \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003estyle\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e{\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e{\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003etextTransform\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003enone\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e          \u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e            cancel\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e          \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eButton\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e        \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eDialogActions\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eDialogContent\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e    \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eDialog\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003etemplate.yaml for AWS\u003c/p\u003e\n\u003cpre class=\"shiki poimandres\" style=\"background-color: #1b1e28\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #5DE4C7\"\u003eAWSTemplateFormatVersion\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: 2010-09-09\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #5DE4C7\"\u003eTransform\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eAWS::Serverless-2016-10-31\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #5DE4C7\"\u003eDescription\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eS3 Uploader\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #5DE4C7\"\u003eResources\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003efilesDynamoDBTable\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eType\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eAWS::DynamoDB::Table\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eProperties\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eAttributeDefinitions\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e        - \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eAttributeName\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003etimestamp\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e          \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eAttributeType\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eN\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eKeySchema\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e        - \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eAttributeName\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003etimestamp\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e          \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eKeyType\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eHASH\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eProvisionedThroughput\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eReadCapacityUnits\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e5\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eWriteCapacityUnits\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e5\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eTableName\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003efiles\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #767C9DB0; font-style: italic\"\u003e# HTTP API\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eMyApi\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eType\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eAWS::Serverless::HttpApi\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eProperties\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #767C9DB0; font-style: italic\"\u003e# CORS configuration - this is open for development only and should be restricted in prod.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #767C9DB0; font-style: italic\"\u003e# See https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/sam-property-httpapi-httpapicorsconfiguration.html\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eCorsConfiguration\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eAllowMethods\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e          - \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eGET\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e          - \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003ePOST\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e          - \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eDELETE\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e          - \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eOPTIONS\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eAllowHeaders\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e          - \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e*\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eAllowOrigins\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e          - \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e*\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eUploadRequestFunction\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eType\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eAWS::Serverless::Function\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eProperties\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eCodeUri\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003elambdas/postFile/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eHandler\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eapp.handler\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eRuntime\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003enodejs12.x\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eTimeout\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e3\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eMemorySize\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e128\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eEnvironment\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eVariables\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e          \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eUploadBucket\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e!Ref\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eS3UploadBucket\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003ePolicies\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e        - \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eAmazonDynamoDBFullAccess\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e        - \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eS3WritePolicy\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e            \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eBucketName\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e!Ref\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eS3UploadBucket\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e        - \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eStatement\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e            - \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eEffect\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eAllow\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e              \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eResource\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e!Sub\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003earn:aws:s3:::${S3UploadBucket}/\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e              \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eAction\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e                - \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003es3:putObjectAcl\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eEvents\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eUploadAssetAPI\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e          \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eType\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eHttpApi\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e          \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eProperties\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e            \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003ePath\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e/postFile\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e            \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eMethod\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003epost\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e            \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eApiId\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e!Ref\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eMyApi\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eFileReadFunction\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eType\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eAWS::Serverless::Function\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eProperties\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eCodeUri\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003elambdas/getFiles/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eHandler\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eapp.handler\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eRuntime\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003enodejs12.x\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eTimeout\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e3\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eMemorySize\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e128\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003ePolicies\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e        - \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eAmazonDynamoDBFullAccess\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eEvents\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eUploadAssetAPI\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e          \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eType\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eHttpApi\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e          \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eProperties\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e            \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003ePath\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e/getFiles\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e            \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eMethod\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eget\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e            \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eApiId\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e!Ref\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eMyApi\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #767C9DB0; font-style: italic\"\u003e## S3 bucket\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eS3UploadBucket\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eType\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eAWS::S3::Bucket\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eProperties\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eCorsConfiguration\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eCorsRules\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e          - \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eAllowedHeaders\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e              - \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e*\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e            \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eAllowedMethods\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e              - \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eGET\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e              - \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003ePUT\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e              - \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eHEAD\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e            \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eAllowedOrigins\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e              - \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e*\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #767C9DB0; font-style: italic\"\u003e## Take a note of the outputs for deploying the workflow templates in this sample application\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #5DE4C7\"\u003eOutputs\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eAPIendpoint\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eDescription\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eHTTP API endpoint URL\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eValue\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e!Sub\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003ehttps://${MyApi}.execute-api.${AWS::Region}.amazonaws.com\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eS3UploadBucketName\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eDescription\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eS3 bucket for application uploads\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eValue\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e!Ref\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eS3UploadBucket\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eTo display all the pictures I use a switch from video or img tag based on\ncontentType.startsWith('video'). I also use the \"figcaption\" HTML tag to have a\nlittle caption on the pics/videos\u003c/p\u003e\n\u003cp\u003e./frontend/src/App.tsx\u003c/p\u003e\n\u003cpre class=\"shiki poimandres\" style=\"background-color: #1b1e28\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #91B4D5\"\u003efunction\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eMedia\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003efile\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003estyle\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eonClick\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003echildren\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  file\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCDC0\"\u003eFile\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eonClick\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e?:\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCDC0\"\u003eFunction\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  style\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e?:\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCDC0\"\u003eReact\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #A6ACCDC0\"\u003eCSSProperties\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  children\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e?:\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCDC0\"\u003eReact\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #A6ACCDC0\"\u003eReactNode\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e { \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003efilename\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003econtentType\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e } \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003efile\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003esrc\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e`${\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eBUCKET\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e/\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e${\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003efilename\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}`\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #5DE4C7C0\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e (\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003efigure\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003estyle\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e{\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e{\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003edisplay\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003einline-block\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e}\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003epicture\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e        {contentType\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003evideo\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e?\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e          \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003evideo\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003estyle\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e{style} \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003esrc\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e{src} \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003econtrols\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003eonClick\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e{onClick \u003c/span\u003e\u003cspan style=\"color: #A6ACCDC0\"\u003eas\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCDC0\"\u003eany\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e} /\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e          \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eimg\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003estyle\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e{style} \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003esrc\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e{src} \u003c/span\u003e\u003cspan style=\"color: #91B4D5; font-style: italic\"\u003eonClick\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e{onClick \u003c/span\u003e\u003cspan style=\"color: #A6ACCDC0\"\u003eas\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCDC0\"\u003eany\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e} /\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003epicture\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e      \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003efigcaption\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e\u003e{children}\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003efigcaption\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e    \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003efigure\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNow the really fun part: if you get an image of a picture frame like\n\u003ca href=\"https://www.amazon.com/Paintings-Frames-Antique-Shatterproof-Osafs2-Gld-A3/dp/B06XNQ8W9T\"\u003ehttps://www.amazon.com/Paintings-Frames-Antique-Shatterproof-Osafs2-Gld-A3/dp/B06XNQ8W9T\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eYou can make it a border for any image or video using border-image CSS\u003c/p\u003e\n\u003cpre class=\"shiki poimandres\" style=\"background-color: #1b1e28\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003estyle\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eborder\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e30px solid\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003eborderImage\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #ADD7FF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e`\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eurl(borders/\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e${\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eborder\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e) 30 round\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e`\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/media/638602799897329664_0.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003ch2 id=\"summary\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#summary\"\u003e\u003ca href=\"#summary\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eSummary\u003c/h2\u003e\n\u003cp\u003eThe template.yaml automatically deploys the lambdas for postFile/getFile and the\nfiles table in dynamoDB\u003c/p\u003e\n\u003cp\u003eThe React app uses postFile for each file in an \u003ccode\u003e\u0026#x3C;input type=\"file\"/\u003e\u003c/code\u003e, the code\nuses React hooks and functional components but is hopefully not too complex\u003c/p\u003e\n\u003cp\u003eI also added commenting on photos. The code is not shown here but you can look\nin the source code for details\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/media/638602799897329664_1.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003eOverall this has been a good experience learning to develop this app and\nlearning to automate the cloud deployment is really good for ensuring\nreliability and fast iteration.\u003c/p\u003e\n\u003cp\u003eAlso quick note on serverless CLI vs aws-sam. I had tried a serverless CLI\ntutorial from another user but it didn't click with me, while the aws-sam\ntutorial from\n\u003ca href=\"https://searchvoidstar.tumblr.com/post/638408397901987840/making-a-serverless-website-for-photo-upload-pt-1\"\u003ehttps://searchvoidstar.tumblr.com/post/638408397901987840/making-a-serverless-website-for-photo-upload-pt-1\u003c/a\u003e\nwas a great kick start for me. I am sure the serverless CLI is great too and it\nensures a bit less vendor lock in, but then is also a little bit removed from\nthe native aws config schemas. Probably fine though\u003c/p\u003e\n\u003ch2 id=\"source-code\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#source-code\"\u003e\u003ca href=\"#source-code\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eSource code\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/cmdcolin/aws_photo_gallery/\"\u003ehttps://github.com/cmdcolin/aws_photo_gallery/\u003c/a\u003e\u003c/p\u003e"}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"2020-12-26"},"buildId":"oFI2sU_wIs81erqbWtJkU","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>