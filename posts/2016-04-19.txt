1:HL["/_next/static/css/97dc5fe527f5d592.css",{"as":"style"}]
0:["J_XM3zH-WOZ4XRhzr5Yel",[[["",{"children":["posts",{"children":[["id","2016-04-19","d"],{"children":["__PAGE__?{\"id\":\"2016-04-19\"}",{}]}]}]},"$undefined","$undefined",true],"$L2",[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/97dc5fe527f5d592.css","precedence":"next"}]],"$L3"]]]]
4:I{"id":6685,"chunks":["685:static/chunks/685-3ae734227e2e8975.js","185:static/chunks/app/layout-3759995e3b279a75.js"],"name":"","async":false}
5:I{"id":7767,"chunks":["272:static/chunks/webpack-40edba06f6f71edb.js","971:static/chunks/fd9d1056-2b15443312687f8a.js","596:static/chunks/596-adeabdb313a347d9.js"],"name":"default","async":false}
6:I{"id":7920,"chunks":["272:static/chunks/webpack-40edba06f6f71edb.js","971:static/chunks/fd9d1056-2b15443312687f8a.js","596:static/chunks/596-adeabdb313a347d9.js"],"name":"default","async":false}
2:[null,["$","html",null,{"lang":"en","children":["$","body",null,{"children":[["$","div",null,{"style":{"marginBottom":100},"children":["$","$L4",null,{"href":"/","children":"Misc scribbles"}]}],["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"childProp":{"current":["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children"],"loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children",["id","2016-04-19","d"],"children"],"loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$L7","$L8",null],"segment":"__PAGE__?{\"id\":\"2016-04-19\"}"},"styles":[]}],"segment":["id","2016-04-19","d"]},"styles":[]}],"segment":"posts"},"styles":[]}],["$","footer",null,{"style":{"marginTop":100},"children":[["$","$L4",null,{"href":"/","children":"Home"}]," ",["$","$L4",null,{"href":"/archive","children":"Blog archive"}]," ",["$","$L4",null,{"href":"https://github.com/cmdcolin/","children":"Github"}]," ",["$","$L4",null,{"href":"https://twitter.com/cmdcolin","children":"Twitter"}]," ",["$","$L4",null,{"href":"/projects","children":"Projects"}]," ",["$","$L4",null,{"href":"/photos","children":"Photos"}]," ",["$","$L4",null,{"href":"/about","children":"About"}]]}]]}]}],null]
3:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"Creating a testing framework for JBrowse plugins"}],["$","meta","2",{"name":"description","content":"A blog"}],["$","meta","3",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","link","4",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"128x128"}]]
a:I{"id":6306,"chunks":["722:static/chunks/app/posts/[id]/page-8cf76b3c924a344e.js"],"name":"","async":false}
9:T636c,<p>Testing client side apps requires a couple of tedious steps: Organizing the git
clone, the dependencies, wrangling up a web server, the test framework, etc.</p>
<p>When testing a plugin for jbrowse, the dependency tree is interesting because
the plugin "depends" on JBrowse to run, but we will use travis-CI and bower
inside the git repo for our plugin to accomplish this.</p>
<p>In this scenario, we will</p>
<ol>
<li>
<p>Use bower to install jasmine and JBrowse (our platform that we write the
plugin for)</p>
</li>
<li>
<p>Use nginx to launch a webserver on travis-CI</p>
</li>
<li>
<p>Use the phantomjs run-jasmine.js script to check jasmine test results</p>
</li>
</ol>
<p>Without further ado</p>
<p>Here is the .travis.yml</p>
<pre class="shiki poimandres" style="background-color: #1b1e28" tabindex="0"><code><span class="line"><span style="color: #5DE4C7">sudo</span><span style="color: #A6ACCD">: </span><span style="color: #5DE4C7">false</span></span>
<span class="line"><span style="color: #5DE4C7">addons</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #5DE4C7">apt</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #5DE4C7">packages</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">      - </span><span style="color: #ADD7FF">nginx</span></span>
<span class="line"><span style="color: #5DE4C7">cache</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #5DE4C7">apt</span><span style="color: #A6ACCD">: </span><span style="color: #5DE4C7">true</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #5DE4C7">directories</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">    - </span><span style="color: #ADD7FF">$HOME/.cache/bower</span></span>
<span class="line"><span style="color: #5DE4C7">before_install</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">  - </span><span style="color: #ADD7FF">npm install -g jshint bower</span></span>
<span class="line"><span style="color: #5DE4C7">install</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">  - </span><span style="color: #ADD7FF">bower install</span></span>
<span class="line"><span style="color: #5DE4C7">before_script</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">  - </span><span style="color: #ADD7FF">cat test/travis.conf | envsubst > test/travis-envsubst.conf</span></span>
<span class="line"><span style="color: #A6ACCD">  - </span><span style="color: #ADD7FF">nginx -c `pwd`/test/travis-envsubst.conf</span></span>
<span class="line"><span style="color: #5DE4C7">script</span><span style="color: #A6ACCD">:</span></span>
<span class="line"><span style="color: #A6ACCD">  - </span><span style="color: #ADD7FF">phantomjs test/run-jasmine.js http://localhost:9000/test/</span></span>
<span class="line"><span style="color: #A6ACCD">  - </span><span style="color: #ADD7FF">jshint js</span></span></code></pre>
<p>Refer to
<a href="http://searchvoidstar.tumblr.com/post/141858047213/running-nginx-on-containerised-travis-ci-pt-2">http://searchvoidstar.tumblr.com/post/141858047213/running-nginx-on-containerised-travis-ci-pt-2</a>
for details on the nginx setup</p>
<p>Here is the bower.json</p>
<pre class="shiki poimandres" style="background-color: #1b1e28" tabindex="0"><code><span class="line"><span style="color: #A6ACCD">{</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #A6ACCD">"</span><span style="color: #E4F0FB">name</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">: </span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">sashimiplot</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #A6ACCD">"</span><span style="color: #E4F0FB">homepage</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">: </span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">https://github.com/cmdcolin/sashimiplot</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #A6ACCD">"</span><span style="color: #E4F0FB">description</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">: </span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">Sashimi track type for jbrowse</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #A6ACCD">"</span><span style="color: #E4F0FB">main</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">: </span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">js/main.js</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #A6ACCD">"</span><span style="color: #E4F0FB">keywords</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">: [</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">bioinformatics</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">, </span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">jbrowse</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">],</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #A6ACCD">"</span><span style="color: #E4F0FB">license</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">: </span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">MIT</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #A6ACCD">"</span><span style="color: #E4F0FB">ignore</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">: [</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">**/.*</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">node_modules</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">bower_components</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">src</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">test</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">tests</span><span style="color: #A6ACCD">"</span></span>
<span class="line"><span style="color: #A6ACCD">  ],</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #A6ACCD">"</span><span style="color: #E4F0FB">devDependencies</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">: {</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #A6ACCD">"</span><span style="color: #ADD7FF">jasmine-core</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">: </span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">jasmine#^2.4.1</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #A6ACCD">"</span><span style="color: #ADD7FF">jbrowse</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">: </span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">git://github.com/GMOD/jbrowse.git#master</span><span style="color: #A6ACCD">"</span></span>
<span class="line"><span style="color: #A6ACCD">  }</span></span>
<span class="line"><span style="color: #A6ACCD">}</span></span></code></pre>
<p>The key thing here is that it installs jasmine and JBrowse. I set .bowerrc to
install both jasmine and JBrowse to the "test" directory</p>
<pre class="shiki poimandres" style="background-color: #1b1e28" tabindex="0"><code><span class="line"><span style="color: #A6ACCD">{</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #A6ACCD">"</span><span style="color: #E4F0FB">directory</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">: </span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">test</span><span style="color: #A6ACCD">"</span></span>
<span class="line"><span style="color: #A6ACCD">}</span></span></code></pre>
<p>With this setup, bower will make a "flat dependency tree" in the test directory,
so it will look like this</p>
<pre class="shiki poimandres" style="background-color: #1b1e28" tabindex="0"><code><span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">$</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">ls</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">-1</span><span style="color: #A6ACCD"> </span><span style="color: #ADD7FF">test</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">FileSaver</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">dbind</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">dgrid</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">dijit</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">dojo</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">dojox</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">*index.html*</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">jDataView</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">jasmine-core</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">jbrowse</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">json-schema</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">jszlib</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">lazyload</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">put-selector</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">*run-jasmine.js*</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">*spec*</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">*travis.conf*</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">util</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #91B4D5">xstyle</span></span></code></pre>
<p>Here the asterisks indicate things that are part of our app, other's are
automatically installed by bower (jbrowse, jasmine-core, the dojo dependencies,
and other things)</p>
<p>Then we can create the jasmine test/index.html to be something like this</p>
<pre class="shiki poimandres" style="background-color: #1b1e28" tabindex="0"><code><span class="line"><span style="color: #E4F0FB">&#x3C;!</span><span style="color: #5DE4C7">DOCTYPE</span><span style="color: #E4F0FB"> </span><span style="color: #5FB3A1; font-style: italic">html</span><span style="color: #E4F0FB"> </span><span style="color: #5FB3A1; font-style: italic">PUBLIC</span><span style="color: #E4F0FB"> </span><span style="color: #5DE4C7">"-//W3C//DTD HTML 4.01 Transitional//EN"</span><span style="color: #E4F0FB"> </span><span style="color: #5DE4C7">"http://www.w3.org/TR/html4/loose.dtd"</span><span style="color: #E4F0FB">></span></span>
<span class="line"></span>
<span class="line"><span style="color: #E4F0FB">&#x3C;</span><span style="color: #5DE4C7">meta</span><span style="color: #E4F0FB"> /></span></span>
<span class="line"><span style="color: #A6ACCD">Jasmine Spec Runner</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E4F0FB">&#x3C;</span><span style="color: #5DE4C7">link</span><span style="color: #E4F0FB"> </span><span style="color: #5FB3A1; font-style: italic">rel</span><span style="color: #A6ACCD">=</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">stylesheet</span><span style="color: #A6ACCD">"</span><span style="color: #E4F0FB"> </span><span style="color: #5FB3A1; font-style: italic">href</span><span style="color: #A6ACCD">=</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">jasmine-core/lib/jasmine-core/jasmine.css</span><span style="color: #A6ACCD">"</span><span style="color: #E4F0FB"> /></span></span>
<span class="line"><span style="color: #E4F0FB">&#x3C;</span><span style="color: #5DE4C7">script</span><span style="color: #E4F0FB"> </span><span style="color: #5FB3A1; font-style: italic">src</span><span style="color: #A6ACCD">=</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">jasmine-core/lib/jasmine-core/jasmine.js</span><span style="color: #A6ACCD">"</span><span style="color: #E4F0FB">>&#x3C;/</span><span style="color: #5DE4C7">script</span><span style="color: #E4F0FB">></span></span>
<span class="line"><span style="color: #E4F0FB">&#x3C;</span><span style="color: #5DE4C7">script</span><span style="color: #E4F0FB"> </span><span style="color: #5FB3A1; font-style: italic">src</span><span style="color: #A6ACCD">=</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">jasmine-core/lib/jasmine-core/boot.js</span><span style="color: #A6ACCD">"</span><span style="color: #E4F0FB">>&#x3C;/</span><span style="color: #5DE4C7">script</span><span style="color: #E4F0FB">></span></span>
<span class="line"><span style="color: #E4F0FB">&#x3C;</span><span style="color: #5DE4C7">script</span></span>
<span class="line"><span style="color: #E4F0FB">  </span><span style="color: #5FB3A1; font-style: italic">type</span><span style="color: #A6ACCD">=</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">text/javascript</span><span style="color: #A6ACCD">"</span></span>
<span class="line"><span style="color: #E4F0FB">  </span><span style="color: #5FB3A1; font-style: italic">src</span><span style="color: #A6ACCD">=</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">dojo/dojo.js</span><span style="color: #A6ACCD">"</span></span>
<span class="line"><span style="color: #E4F0FB">  </span><span style="color: #5FB3A1; font-style: italic">data-dojo-config</span><span style="color: #A6ACCD">=</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">async: 1</span><span style="color: #A6ACCD">"</span></span>
<span class="line"><span style="color: #E4F0FB">>&#x3C;/</span><span style="color: #5DE4C7">script</span><span style="color: #E4F0FB">></span></span>
<span class="line"><span style="color: #E4F0FB">&#x3C;</span><span style="color: #5DE4C7">script</span><span style="color: #E4F0FB"> </span><span style="color: #5FB3A1; font-style: italic">type</span><span style="color: #A6ACCD">=</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">text/javascript</span><span style="color: #A6ACCD">"</span><span style="color: #E4F0FB">></span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #E4F0FBD0">require</span><span style="color: #A6ACCD">({</span></span>
<span class="line"><span style="color: #E4F0FB">    </span><span style="color: #ADD7FF">baseUrl</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">.</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #E4F0FB">    </span><span style="color: #ADD7FF">packages</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">[</span></span>
<span class="line"><span style="color: #ADD7FF">      </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">dojo</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #ADD7FF">      </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">dijit</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #ADD7FF">      </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">dojox</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #ADD7FF">      </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">jszlib</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #ADD7FF">      </span><span style="color: #A6ACCD">{</span><span style="color: #E4F0FB"> </span><span style="color: #ADD7FF">name</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">lazyload</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span><span style="color: #E4F0FB"> </span><span style="color: #ADD7FF">location</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">lazyload</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span><span style="color: #E4F0FB"> </span><span style="color: #ADD7FF">main</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">lazyload</span><span style="color: #A6ACCD">'</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">},</span></span>
<span class="line"><span style="color: #ADD7FF">      </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">dgrid</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #ADD7FF">      </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">xstyle</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #ADD7FF">      </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">put-selector</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #ADD7FF">      </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">FileSaver</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span></span>
<span class="line"><span style="color: #ADD7FF">      </span><span style="color: #A6ACCD">{</span><span style="color: #E4F0FB"> </span><span style="color: #ADD7FF">name</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">jDataView</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span><span style="color: #E4F0FB"> </span><span style="color: #ADD7FF">location</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">jDataView/src</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span><span style="color: #E4F0FB"> </span><span style="color: #ADD7FF">main</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">jdataview</span><span style="color: #A6ACCD">'</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">},</span></span>
<span class="line"><span style="color: #ADD7FF">      </span><span style="color: #A6ACCD">{</span><span style="color: #E4F0FB"> </span><span style="color: #ADD7FF">name</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">JBrowse</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span><span style="color: #E4F0FB"> </span><span style="color: #ADD7FF">location</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">jbrowse/src/JBrowse</span><span style="color: #A6ACCD">'</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">},</span></span>
<span class="line"><span style="color: #ADD7FF">      </span><span style="color: #A6ACCD">{</span><span style="color: #E4F0FB"> </span><span style="color: #ADD7FF">name</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">SashimiPlot</span><span style="color: #A6ACCD">'</span><span style="color: #A6ACCD">,</span><span style="color: #E4F0FB"> </span><span style="color: #ADD7FF">location</span><span style="color: #A6ACCD">:</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">../js</span><span style="color: #A6ACCD">'</span><span style="color: #ADD7FF"> </span><span style="color: #A6ACCD">},</span></span>
<span class="line"><span style="color: #ADD7FF">    </span><span style="color: #A6ACCD">],</span></span>
<span class="line"><span style="color: #E4F0FB">  </span><span style="color: #A6ACCD">})</span></span>
<span class="line"><span style="color: #E4F0FB">&#x3C;/</span><span style="color: #5DE4C7">script</span><span style="color: #E4F0FB">></span></span>
<span class="line"><span style="color: #E4F0FB">&#x3C;</span><span style="color: #5DE4C7">script</span><span style="color: #E4F0FB"> </span><span style="color: #5FB3A1; font-style: italic">type</span><span style="color: #A6ACCD">=</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">text/javascript</span><span style="color: #A6ACCD">"</span><span style="color: #E4F0FB"> </span><span style="color: #5FB3A1; font-style: italic">src</span><span style="color: #A6ACCD">=</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">spec/SashimiPlot.spec.js</span><span style="color: #A6ACCD">"</span><span style="color: #E4F0FB">>&#x3C;/</span><span style="color: #5DE4C7">script</span><span style="color: #E4F0FB">></span></span>
<span class="line"><span style="color: #E4F0FB">&#x3C;</span><span style="color: #5DE4C7">div</span><span style="color: #E4F0FB"> </span><span style="color: #5FB3A1; font-style: italic">id</span><span style="color: #A6ACCD">=</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">sandbox</span><span style="color: #A6ACCD">"</span><span style="color: #E4F0FB"> </span><span style="color: #5FB3A1; font-style: italic">style</span><span style="color: #A6ACCD">=</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">overflow:hidden; height:1px;</span><span style="color: #A6ACCD">"</span><span style="color: #E4F0FB">>&#x3C;/</span><span style="color: #5DE4C7">div</span><span style="color: #E4F0FB">></span></span></code></pre>
<p>The "packages" in the require statement puts all these packages in the right
"namespace" for the AMD includes, and the "specs" are defined like
<code>&#x3C;script type="text/javascript" src="spec/Projection.spec.js">&#x3C;/script></code></p>
<p>Finally, run-jasmine.js is used to check the results of the jasmine tests (it is
run via phantomjs in the travis-CI script). It is a special version for the most
recent version of jasmine (2.4)
<a href="https://gist.github.com/vmeln/b6cbb319d9a0efc816be">https://gist.github.com/vmeln/b6cbb319d9a0efc816be</a></p>
<p>For an example of the project using this, see
<a href="https://github.com/cmdcolin/sashimiplot">https://github.com/cmdcolin/sashimiplot</a></p>8:["$","article",null,{"children":[["$","div",null,{"children":[["$","h1",null,{"children":"Creating a testing framework for JBrowse plugins"}],["$","h4",null,{"children":"2016-04-19"}]]}],["$","div",null,{"dangerouslySetInnerHTML":{"__html":"$9"}}],["$","$La",null,{}]]}]
7:null
