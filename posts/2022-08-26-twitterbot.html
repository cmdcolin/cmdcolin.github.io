<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/53ac0649e8acd1de.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-5c625475d344240d.js"/><script src="/_next/static/chunks/4bd1b696-7bed151428114f76.js" async=""></script><script src="/_next/static/chunks/517-b7d557e68f3808c7.js" async=""></script><script src="/_next/static/chunks/main-app-bba03a714545c59d.js" async=""></script><script src="/_next/static/chunks/173-c4204d8a61969f1d.js" async=""></script><script src="/_next/static/chunks/app/page-587629221be7b0d2.js" async=""></script><script src="/_next/static/chunks/app/posts/%5Bid%5D/page-cc4771b5e3a551f2.js" async=""></script><title>Making a twitter bot in the year 2022 with node.js</title><meta name="description" content="A blog"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body><div class="mb-8"><a href="/">Misc scribbles</a></div><div class="lg:w-1/2 m-auto"><div><h1>Making a twitter bot in the year 2022 with node.js</h1><h4>2022-08-26</h4></div><div><p>Recently, we made the logistic map fractal visualizer app, but, how do we keep
USER ENGAGEMENT METRICS up? Gotta make a twitter bot to post fractals, that's
how!</p>
<p>I found it somewhat tricky to get this working, because there is a lot of odd
lingo out there. There are libraries that may help you, but this post goes
through making an OAuth client in node.js to post to the twitter API with fairly
unabstracted code. OAuth still confuses me, but if you follow these steps, you
can make a bot!</p>
<h3 id="step-1"><a aria-hidden="true" tabindex="-1" href="#step-1"><a href="#step-1" style="margin-right: 10px">#</a></a>Step 1</h3>
<p>Get your keys. I forget the exact procedure for this but go to
<a href="https://developer.twitter.com">https://developer.twitter.com</a> and sign up, register an "app" with them, and poke
around for awhile. This github repo provides a couple more details about the
process of registering
<a href="https://github.com/manzt/cron-tweet#create-a-standalone-app-in-the-developer-portal">https://github.com/manzt/cron-tweet#create-a-standalone-app-in-the-developer-portal</a></p>
<p>After sometime, you should get a screen that looks like this. Keep this around
for Step 4. Note: I did not have to apply for any elevated access for this
article, just the basic level you get from the initial registration! I believe
in twitter terms, this article only requires "Essential" access and not any
"Elevated" access.</p>
<p><img src="https://github.com/cmdcolin/twitter_fractal_bot/blob/master/img/devpanel.png?raw=true" alt=""></p>
<h3 id="step-2"><a aria-hidden="true" tabindex="-1" href="#step-2"><a href="#step-2" style="margin-right: 10px">#</a></a>Step 2</h3>
<p>Make a repo with a couple dependencies</p>
<pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#61AFEF">mkdir</span><span style="color:#98C379"> mybot</span></span>
<span class="line"><span style="color:#56B6C2">cd</span><span style="color:#98C379"> mybot</span></span>
<span class="line"><span style="color:#61AFEF">yarn</span><span style="color:#98C379"> init</span></span>
<span class="line"><span style="color:#61AFEF">yarn</span><span style="color:#98C379"> add</span><span style="color:#98C379"> node-fetch</span><span style="color:#98C379"> formdata-node</span><span style="color:#98C379"> oauth</span><span style="color:#98C379"> dotenv</span><span style="color:#98C379"> typescript</span></span></code></pre>
<h3 id="step-3"><a aria-hidden="true" tabindex="-1" href="#step-3"><a href="#step-3" style="margin-right: 10px">#</a></a>Step 3</h3>
<p>Update <code>package.json</code> with a couple scripts to build these typescript files
(alternatively use <code>ts-node</code> or similar to run the ts files directly)</p>
<pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#ABB2BF">{</span></span>
<span class="line"><span style="color:#E06C75">  "dependencies"</span><span style="color:#ABB2BF">: {</span></span>
<span class="line"><span style="color:#E06C75">    "dotenv"</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"^16.0.1"</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">    "formdata-node"</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"^4.4.1"</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">    "node-fetch"</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"^3.2.10"</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">    "oauth"</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"^0.10.0"</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">    "typescript"</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"^4.7.4"</span></span>
<span class="line"><span style="color:#ABB2BF">  },</span></span>
<span class="line"><span style="color:#E06C75">  "license"</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"MIT"</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">  "type"</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"module"</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">  "devDependencies"</span><span style="color:#ABB2BF">: {</span></span>
<span class="line"><span style="color:#E06C75">    "@types/node"</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"^18.7.9"</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">    "@types/oauth"</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"^0.9.1"</span></span>
<span class="line"><span style="color:#ABB2BF">  },</span></span>
<span class="line"><span style="color:#E06C75">  "scripts"</span><span style="color:#ABB2BF">: {</span></span>
<span class="line"><span style="color:#E06C75">    "build"</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"tsc"</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">    "prepost"</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"yarn build"</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">    "post"</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"node dist/bot.js"</span></span>
<span class="line"><span style="color:#ABB2BF">  }</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre>
<p>And <code>tsconfig.json</code> file</p>
<pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#ABB2BF">{</span></span>
<span class="line"><span style="color:#E06C75">  "include"</span><span style="color:#ABB2BF">: [</span><span style="color:#98C379">"src"</span><span style="color:#ABB2BF">],</span></span>
<span class="line"><span style="color:#E06C75">  "compilerOptions"</span><span style="color:#ABB2BF">: {</span></span>
<span class="line"><span style="color:#E06C75">    "target"</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"esnext"</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">    "outDir"</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"dist"</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">    "moduleResolution"</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"node"</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">    "declaration"</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">true</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">    "strict"</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">true</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">    "esModuleInterop"</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">true</span></span>
<span class="line"><span style="color:#ABB2BF">  }</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre>
<p>This compiles the <code>src</code> folder and outputs js files to the <code>dist</code> directory, and
we can run the <code>node dist/bot.js</code> file with node to post the file</p>
<h3 id="step-4"><a aria-hidden="true" tabindex="-1" href="#step-4"><a href="#step-4" style="margin-right: 10px">#</a></a>Step 4</h3>
<p>Create a .env file with your keys that you found in the above screenshot
corresponding to the box1 (which gives you API_KEY/API_SECRET, sometimes also
referred to as consumer keys in other documents) and box2 (which gives you
ACCESS_TOKEN and ACCESS_TOKEN_SECRET) from the above screenshot</p>
<pre><code>API_KEY="xxxxxxxxxxxxxxxxxxxxxxxxx"
API_SECRET="yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy"
ACCESS_TOKEN="aaaaaaaaaaaaaaaaaaa-aaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"
ACCESS_TOKEN_SECRET="bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"
</code></pre>
<p>Important: Also add the .env to your .gitignore, you don't want to commit this
to github!</p>
<h3 id="step-5"><a aria-hidden="true" tabindex="-1" href="#step-5"><a href="#step-5" style="margin-right: 10px">#</a></a>Step 5</h3>
<p>Make the bot! Create <code>src/bot.ts</code></p>
<pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#C678DD">import</span><span style="color:#E06C75"> fs</span><span style="color:#C678DD"> from</span><span style="color:#98C379"> 'fs'</span></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#D19A66"> *</span><span style="color:#C678DD"> as</span><span style="color:#E06C75"> dotenv</span><span style="color:#C678DD"> from</span><span style="color:#98C379"> 'dotenv'</span></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#E06C75"> OAuth</span><span style="color:#C678DD"> from</span><span style="color:#98C379"> 'oauth'</span></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#E06C75"> fetch</span><span style="color:#ABB2BF">, { </span><span style="color:#E06C75">RequestInit</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> 'node-fetch'</span></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">FormData</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75">File</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> 'formdata-node'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B">dotenv</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">config</span><span style="color:#ABB2BF">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">async</span><span style="color:#C678DD"> function</span><span style="color:#61AFEF"> mfetch</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75;font-style:italic">url</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">string</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75;font-style:italic">params</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">RequestInit</span><span style="color:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#C678DD">  const</span><span style="color:#E5C07B"> response</span><span style="color:#56B6C2"> =</span><span style="color:#C678DD"> await</span><span style="color:#61AFEF"> fetch</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">url</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75">params</span><span style="color:#ABB2BF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">  if</span><span style="color:#ABB2BF"> (</span><span style="color:#56B6C2">!</span><span style="color:#E5C07B">response</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">ok</span><span style="color:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#C678DD">    const</span><span style="color:#E5C07B"> text</span><span style="color:#56B6C2"> =</span><span style="color:#C678DD"> await</span><span style="color:#E5C07B"> response</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">text</span><span style="color:#ABB2BF">()</span></span>
<span class="line"><span style="color:#C678DD">    throw</span><span style="color:#C678DD"> new</span><span style="color:#61AFEF"> Error</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">`HTTP </span><span style="color:#C678DD">${</span><span style="color:#E5C07B">response</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">status</span><span style="color:#C678DD">}</span><span style="color:#C678DD"> ${</span><span style="color:#E06C75">text</span><span style="color:#C678DD">}</span><span style="color:#98C379">`</span><span style="color:#ABB2BF">)</span></span>
<span class="line"><span style="color:#ABB2BF">  }</span></span>
<span class="line"><span style="color:#C678DD">  return</span><span style="color:#E5C07B"> response</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">json</span><span style="color:#ABB2BF">() </span><span style="color:#C678DD">as</span><span style="color:#E5C07B"> Promise</span><span style="color:#ABB2BF">&#x3C;</span><span style="color:#E5C07B">Record</span><span style="color:#ABB2BF">&#x3C;</span><span style="color:#E5C07B">string</span><span style="color:#ABB2BF">, </span><span style="color:#E5C07B">unknown</span><span style="color:#ABB2BF">>></span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">function</span><span style="color:#61AFEF"> getAuthHeader</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75;font-style:italic">oauth</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">OAuth</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">OAuth</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75;font-style:italic">url</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">string</span><span style="color:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#C678DD">  return</span><span style="color:#E5C07B"> oauth</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">authHeader</span><span style="color:#ABB2BF">(</span></span>
<span class="line"><span style="color:#E06C75">    url</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E5C07B">    process</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">env</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">ACCESS_TOKEN</span><span style="color:#C678DD"> as</span><span style="color:#E5C07B"> string</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E5C07B">    process</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">env</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">ACCESS_TOKEN_SECRET</span><span style="color:#C678DD"> as</span><span style="color:#E5C07B"> string</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#98C379">    'post'</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#ABB2BF">  )</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF">;(</span><span style="color:#C678DD">async</span><span style="color:#ABB2BF"> () </span><span style="color:#C678DD">=></span><span style="color:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#C678DD">  try</span><span style="color:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#C678DD">    const</span><span style="color:#E5C07B"> client</span><span style="color:#56B6C2"> =</span><span style="color:#C678DD"> new</span><span style="color:#E5C07B"> OAuth</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">OAuth</span><span style="color:#ABB2BF">(</span></span>
<span class="line"><span style="color:#98C379">      'https://api.twitter.com/oauth/request_token'</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#98C379">      'https://api.twitter.com/oauth/access_token'</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E5C07B">      process</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">env</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">API_KEY</span><span style="color:#C678DD"> as</span><span style="color:#E5C07B"> string</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E5C07B">      process</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">env</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">API_SECRET</span><span style="color:#C678DD"> as</span><span style="color:#E5C07B"> string</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#98C379">      '1.0A'</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#D19A66">      null</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#98C379">      'HMAC-SHA1'</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#ABB2BF">    )</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">    const</span><span style="color:#E5C07B"> picEndpoint</span><span style="color:#56B6C2"> =</span><span style="color:#98C379"> 'https://upload.twitter.com/1.1/media/upload.json'</span></span>
<span class="line"><span style="color:#C678DD">    const</span><span style="color:#E5C07B"> tweetEndpoint</span><span style="color:#56B6C2"> =</span><span style="color:#98C379"> 'https://api.twitter.com/2/tweets'</span></span>
<span class="line"><span style="color:#C678DD">    const</span><span style="color:#E5C07B"> clientName</span><span style="color:#56B6C2"> =</span><span style="color:#98C379"> 'v3CreateTweetJS'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">    const</span><span style="color:#E5C07B"> form</span><span style="color:#56B6C2"> =</span><span style="color:#C678DD"> new</span><span style="color:#61AFEF"> FormData</span><span style="color:#ABB2BF">()</span></span>
<span class="line"><span style="color:#E5C07B">    form</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">set</span><span style="color:#ABB2BF">(</span></span>
<span class="line"><span style="color:#98C379">      'media'</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#C678DD">      new</span><span style="color:#61AFEF"> File</span><span style="color:#ABB2BF">([</span><span style="color:#E5C07B">fs</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">readFileSync</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">'yourpicture.png'</span><span style="color:#ABB2BF">)], </span><span style="color:#98C379">'yourpicture.png'</span><span style="color:#ABB2BF">),</span></span>
<span class="line"><span style="color:#ABB2BF">    )</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic">    // first post a picture</span></span>
<span class="line"><span style="color:#C678DD">    const</span><span style="color:#E5C07B"> response1</span><span style="color:#56B6C2"> =</span><span style="color:#C678DD"> await</span><span style="color:#61AFEF"> mfetch</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">picEndpoint</span><span style="color:#ABB2BF">, {</span></span>
<span class="line"><span style="color:#E06C75">      headers</span><span style="color:#ABB2BF">: {</span></span>
<span class="line"><span style="color:#E06C75">        Authorization</span><span style="color:#ABB2BF">: </span><span style="color:#61AFEF">getAuthHeader</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">client</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75">picEndpoint</span><span style="color:#ABB2BF">),</span></span>
<span class="line"><span style="color:#98C379">        'user-agent'</span><span style="color:#ABB2BF">: </span><span style="color:#E06C75">clientName</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#ABB2BF">      },</span></span>
<span class="line"><span style="color:#E06C75">      method</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">'POST'</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">      //@ts-ignore</span></span>
<span class="line"><span style="color:#E06C75">      body</span><span style="color:#ABB2BF">: </span><span style="color:#E06C75">form</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#ABB2BF">    })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic">    // then post a tweet, referring to the media_id_string from response1</span></span>
<span class="line"><span style="color:#C678DD">    const</span><span style="color:#E5C07B"> response2</span><span style="color:#56B6C2"> =</span><span style="color:#C678DD"> await</span><span style="color:#61AFEF"> mfetch</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">tweetEndpoint</span><span style="color:#ABB2BF">, {</span></span>
<span class="line"><span style="color:#E06C75">      headers</span><span style="color:#ABB2BF">: {</span></span>
<span class="line"><span style="color:#E06C75">        Authorization</span><span style="color:#ABB2BF">: </span><span style="color:#61AFEF">getAuthHeader</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">client</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75">tweetEndpoint</span><span style="color:#ABB2BF">),</span></span>
<span class="line"><span style="color:#98C379">        'user-agent'</span><span style="color:#ABB2BF">: </span><span style="color:#E06C75">clientName</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#98C379">        'content-type'</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">'application/json'</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">        accept</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">'application/json'</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#ABB2BF">      },</span></span>
<span class="line"><span style="color:#E06C75">      body</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">JSON</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">stringify</span><span style="color:#ABB2BF">({</span></span>
<span class="line"><span style="color:#E06C75">        media</span><span style="color:#ABB2BF">: { </span><span style="color:#E06C75">media_ids</span><span style="color:#ABB2BF">: [</span><span style="color:#E5C07B">response1</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">media_id_string</span><span style="color:#ABB2BF">] },</span></span>
<span class="line"><span style="color:#E06C75">        text</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">'Hello world!'</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#ABB2BF">      }),</span></span>
<span class="line"><span style="color:#E06C75">      method</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">'post'</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#ABB2BF">    })</span></span>
<span class="line"><span style="color:#E5C07B">    console</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">log</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">response2</span><span style="color:#ABB2BF">)</span></span>
<span class="line"><span style="color:#ABB2BF">  } </span><span style="color:#C678DD">catch</span><span style="color:#ABB2BF"> (</span><span style="color:#E06C75">e</span><span style="color:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#E5C07B">    console</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">error</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">e</span><span style="color:#ABB2BF">)</span></span>
<span class="line"><span style="color:#E5C07B">    process</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">exit</span><span style="color:#ABB2BF">(</span><span style="color:#D19A66">1</span><span style="color:#ABB2BF">)</span></span>
<span class="line"><span style="color:#ABB2BF">  }</span></span>
<span class="line"><span style="color:#ABB2BF">})()</span></span></code></pre>
<h3 id="step-6"><a aria-hidden="true" tabindex="-1" href="#step-6"><a href="#step-6" style="margin-right: 10px">#</a></a>Step 6</h3>
<p>Now that you have the bot, you can run it locally with <code>yarn post</code> (runs the
"post" script in <code>package.json</code>) to test it out</p>
<h3 id="step-7"><a aria-hidden="true" tabindex="-1" href="#step-7"><a href="#step-7" style="margin-right: 10px">#</a></a>Step 7</h3>
<p>Now to create a github action to run the bot.</p>
<p>Navigate to your repo's settings page, then go to Secrets->Actions and paste the
keys one by one, see below screenshot</p>
<p><img src="https://user-images.githubusercontent.com/6511937/187038172-80b35e34-03dd-4613-b6f6-9f8e25d2fc34.png" alt=""></p>
<h3 id="step-8"><a aria-hidden="true" tabindex="-1" href="#step-8"><a href="#step-8" style="margin-right: 10px">#</a></a>Step 8</h3>
<p>Create a file with the path <code>.github/workflows/post.yml</code> in your repo to make
the post</p>
<p>You can use a cron/scheduled workflow in the github action, which the below
example does
<a href="https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#schedule">https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#schedule</a></p>
<p>The below github action posts every 5 hours on the hour (see
<a href="https://crontab.guru/">https://crontab.guru/</a> for more info on cron syntax)</p>
<pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#E06C75">name</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">Post tweet</span></span>
<span class="line"><span style="color:#D19A66">on</span><span style="color:#ABB2BF">:</span></span>
<span class="line"><span style="color:#E06C75">  schedule</span><span style="color:#ABB2BF">:</span></span>
<span class="line"><span style="color:#ABB2BF">    - </span><span style="color:#E06C75">cron</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">'0 */5 * * *'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75">jobs</span><span style="color:#ABB2BF">:</span></span>
<span class="line"><span style="color:#E06C75">  test</span><span style="color:#ABB2BF">:</span></span>
<span class="line"><span style="color:#E06C75">    name</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">Post tweet</span></span>
<span class="line"><span style="color:#E06C75">    runs-on</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">ubuntu-latest</span></span>
<span class="line"><span style="color:#E06C75">    steps</span><span style="color:#ABB2BF">:</span></span>
<span class="line"><span style="color:#ABB2BF">      - </span><span style="color:#E06C75">uses</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">actions/checkout@v2</span></span>
<span class="line"><span style="color:#ABB2BF">      - </span><span style="color:#E06C75">name</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">Use Node.js 14.x</span></span>
<span class="line"><span style="color:#E06C75">        uses</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">actions/setup-node@v2</span></span>
<span class="line"><span style="color:#E06C75">        with</span><span style="color:#ABB2BF">:</span></span>
<span class="line"><span style="color:#E06C75">          node-version</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">'14'</span></span>
<span class="line"><span style="color:#ABB2BF">      - </span><span style="color:#E06C75">name</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">Install deps (with cache)</span></span>
<span class="line"><span style="color:#E06C75">        uses</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">bahmutov/npm-install@v1</span></span>
<span class="line"><span style="color:#ABB2BF">      - </span><span style="color:#E06C75">name</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">Post tweet</span></span>
<span class="line"><span style="color:#E06C75">        env</span><span style="color:#ABB2BF">:</span></span>
<span class="line"><span style="color:#E06C75">          API_KEY</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">${{ secrets.API_KEY }}</span></span>
<span class="line"><span style="color:#E06C75">          API_SECRET</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">${{ secrets.API_SECRET }}</span></span>
<span class="line"><span style="color:#E06C75">          ACCESS_TOKEN</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">${{ secrets.ACCESS_TOKEN }}</span></span>
<span class="line"><span style="color:#E06C75">          ACCESS_TOKEN_SECRET</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">${{ secrets.ACCESS_TOKEN_SECRET }}</span></span>
<span class="line"><span style="color:#E06C75">        run</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">yarn post</span></span></code></pre>
<h2 id="conclusion"><a aria-hidden="true" tabindex="-1" href="#conclusion"><a href="#conclusion" style="margin-right: 10px">#</a></a>Conclusion</h2>
<p>See <a href="https://github.com/cmdcolin/twitter_fractal_bot">https://github.com/cmdcolin/twitter_fractal_bot</a> for working example. I could
have, in retrospect, used a library like <code>twit</code>
(<a href="https://www.npmjs.com/package/twit">https://www.npmjs.com/package/twit</a>) but this code sample is not substantially
more complicated than using the <code>twit</code> library.</p>
<p>You can also adapt this to post only when you push to your repo, or release a
new version from your repo!</p>
<h2 id="footnote-1-examples-of-odd-lingo-or-stumbling-blocks-you-might-come-across"><a aria-hidden="true" tabindex="-1" href="#footnote-1-examples-of-odd-lingo-or-stumbling-blocks-you-might-come-across"><a href="#footnote-1-examples-of-odd-lingo-or-stumbling-blocks-you-might-come-across" style="margin-right: 10px">#</a></a>Footnote 1: Examples of odd lingo or stumbling blocks you might come across</h2>
<ul>
<li>Bearer token - The Bearer token is an alternative method of authenticating,
but it cannot be used to post tweets</li>
<li>Twitter API v1 vs v2 - We use a mix of v1 and v2, it's just the different URLs
that we are posting to and can be mixed in our example</li>
<li>Consumer key vs API key - they are the same thing in our example. If you look
closely at the box 1 in the screenshot it says "Consumer keys" and then gives
you an API key below *</li>
</ul>
<h2 id="footnote-2-posting-on-release-with-a-github-action"><a aria-hidden="true" tabindex="-1" href="#footnote-2-posting-on-release-with-a-github-action"><a href="#footnote-2-posting-on-release-with-a-github-action" style="margin-right: 10px">#</a></a>Footnote 2: Posting on release with a github action</h2>
<p>Replace the cron section of the github action with</p>
<pre><code>on: release
</code></pre>
<h2 id="footnote-3-additional-reading"><a aria-hidden="true" tabindex="-1" href="#footnote-3-additional-reading"><a href="#footnote-3-additional-reading" style="margin-right: 10px">#</a></a>Footnote 3: Additional reading</h2>
<p><a href="https://aaronparecki.com/oauth-2-simplified/">https://aaronparecki.com/oauth-2-simplified/</a></p></div><div class="mt-5"></div></div><footer class="mt-16"><a class="m-2" href="/">Home</a><a class="m-2" href="/archive">Blog archive</a><a class="m-2" href="https://github.com/cmdcolin/">Github</a><a class="m-2" href="/projects">Projects</a><a class="m-2" href="/photos">Photos</a><a class="m-2" href="/books">Books</a><a class="m-2" href="/about">About</a><a class="m-2" href="/rss.xml">RSS</a></footer><script src="/_next/static/chunks/webpack-5c625475d344240d.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[8173,[\"173\",\"static/chunks/173-c4204d8a61969f1d.js\",\"974\",\"static/chunks/app/page-587629221be7b0d2.js\"],\"\"]\n3:I[5244,[],\"\"]\n4:I[3866,[],\"\"]\n6:I[6213,[],\"OutletBoundary\"]\n8:I[6213,[],\"MetadataBoundary\"]\na:I[6213,[],\"ViewportBoundary\"]\nc:I[4835,[],\"\"]\n:HL[\"/_next/static/css/53ac0649e8acd1de.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"Kfjg2fhd8pLJRHFxZeLnS\",\"p\":\"\",\"c\":[\"\",\"posts\",\"2022-08-26-twitterbot\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"posts\",{\"children\":[[\"id\",\"2022-08-26-twitterbot\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/53ac0649e8acd1de.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[\"$\",\"$L2\",null,{\"href\":\"/\",\"children\":\"Misc scribbles\"}]}],[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[],[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}],[\"$\",\"footer\",null,{\"className\":\"mt-16\",\"children\":[[\"$\",\"$L2\",null,{\"className\":\"m-2\",\"href\":\"/\",\"children\":\"Home\"}],[\"$\",\"$L2\",null,{\"className\":\"m-2\",\"href\":\"/archive\",\"children\":\"Blog archive\"}],[\"$\",\"$L2\",null,{\"className\":\"m-2\",\"href\":\"https://github.com/cmdcolin/\",\"children\":\"Github\"}],[\"$\",\"$L2\",null,{\"className\":\"m-2\",\"href\":\"/projects\",\"children\":\"Projects\"}],[\"$\",\"$L2\",null,{\"className\":\"m-2\",\"href\":\"/photos\",\"children\":\"Photos\"}],[\"$\",\"$L2\",null,{\"className\":\"m-2\",\"href\":\"/books\",\"children\":\"Books\"}],[\"$\",\"$L2\",null,{\"className\":\"m-2\",\"href\":\"/about\",\"children\":\"About\"}],[\"$\",\"$L2\",null,{\"className\":\"m-2\",\"href\":\"/rss.xml\",\"children\":\"RSS\"}]]}]]}]}]]}],{\"children\":[\"posts\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"id\",\"2022-08-26-twitterbot\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",\"$0:f:0:1:2:children:2:children:0\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",null,[\"$\",\"$L6\",null,{\"children\":\"$L7\"}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"3Z2nWsBVf9GGbIsivWIRt\",{\"children\":[[\"$\",\"$L8\",null,{\"children\":\"$L9\"}],[\"$\",\"$La\",null,{\"children\":\"$Lb\"}],null]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$c\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"e:I[7928,[\"880\",\"static/chunks/app/posts/%5Bid%5D/page-cc4771b5e3a551f2.js\"],\"default\"]\nd:T7df5,"])</script><script>self.__next_f.push([1,"\u003cp\u003eRecently, we made the logistic map fractal visualizer app, but, how do we keep\nUSER ENGAGEMENT METRICS up? Gotta make a twitter bot to post fractals, that's\nhow!\u003c/p\u003e\n\u003cp\u003eI found it somewhat tricky to get this working, because there is a lot of odd\nlingo out there. There are libraries that may help you, but this post goes\nthrough making an OAuth client in node.js to post to the twitter API with fairly\nunabstracted code. OAuth still confuses me, but if you follow these steps, you\ncan make a bot!\u003c/p\u003e\n\u003ch3 id=\"step-1\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-1\"\u003e\u003ca href=\"#step-1\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eStep 1\u003c/h3\u003e\n\u003cp\u003eGet your keys. I forget the exact procedure for this but go to\n\u003ca href=\"https://developer.twitter.com\"\u003ehttps://developer.twitter.com\u003c/a\u003e and sign up, register an \"app\" with them, and poke\naround for awhile. This github repo provides a couple more details about the\nprocess of registering\n\u003ca href=\"https://github.com/manzt/cron-tweet#create-a-standalone-app-in-the-developer-portal\"\u003ehttps://github.com/manzt/cron-tweet#create-a-standalone-app-in-the-developer-portal\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eAfter sometime, you should get a screen that looks like this. Keep this around\nfor Step 4. Note: I did not have to apply for any elevated access for this\narticle, just the basic level you get from the initial registration! I believe\nin twitter terms, this article only requires \"Essential\" access and not any\n\"Elevated\" access.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://github.com/cmdcolin/twitter_fractal_bot/blob/master/img/devpanel.png?raw=true\" alt=\"\"\u003e\u003c/p\u003e\n\u003ch3 id=\"step-2\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-2\"\u003e\u003ca href=\"#step-2\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eStep 2\u003c/h3\u003e\n\u003cp\u003eMake a repo with a couple dependencies\u003c/p\u003e\n\u003cpre class=\"shiki one-dark-pro\" style=\"background-color:#282c34;color:#abb2bf\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#61AFEF\"\u003emkdir\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e mybot\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#56B6C2\"\u003ecd\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e mybot\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#61AFEF\"\u003eyarn\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e init\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#61AFEF\"\u003eyarn\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e add\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e node-fetch\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e formdata-node\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e oauth\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e dotenv\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e typescript\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"step-3\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-3\"\u003e\u003ca href=\"#step-3\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eStep 3\u003c/h3\u003e\n\u003cp\u003eUpdate \u003ccode\u003epackage.json\u003c/code\u003e with a couple scripts to build these typescript files\n(alternatively use \u003ccode\u003ets-node\u003c/code\u003e or similar to run the ts files directly)\u003c/p\u003e\n\u003cpre class=\"shiki one-dark-pro\" style=\"background-color:#282c34;color:#abb2bf\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e  \"dependencies\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e    \"dotenv\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e\"^16.0.1\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e    \"formdata-node\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e\"^4.4.1\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e    \"node-fetch\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e\"^3.2.10\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e    \"oauth\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e\"^0.10.0\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e    \"typescript\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e\"^4.7.4\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e  },\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e  \"license\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e\"MIT\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e  \"type\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e\"module\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e  \"devDependencies\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e    \"@types/node\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e\"^18.7.9\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e    \"@types/oauth\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e\"^0.9.1\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e  },\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e  \"scripts\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e    \"build\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e\"tsc\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e    \"prepost\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e\"yarn build\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e    \"post\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e\"node dist/bot.js\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAnd \u003ccode\u003etsconfig.json\u003c/code\u003e file\u003c/p\u003e\n\u003cpre class=\"shiki one-dark-pro\" style=\"background-color:#282c34;color:#abb2bf\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e  \"include\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: [\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e\"src\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e],\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e  \"compilerOptions\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e    \"target\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e\"esnext\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e    \"outDir\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e\"dist\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e    \"moduleResolution\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e\"node\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e    \"declaration\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#D19A66\"\u003etrue\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e    \"strict\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#D19A66\"\u003etrue\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e    \"esModuleInterop\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#D19A66\"\u003etrue\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis compiles the \u003ccode\u003esrc\u003c/code\u003e folder and outputs js files to the \u003ccode\u003edist\u003c/code\u003e directory, and\nwe can run the \u003ccode\u003enode dist/bot.js\u003c/code\u003e file with node to post the file\u003c/p\u003e\n\u003ch3 id=\"step-4\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-4\"\u003e\u003ca href=\"#step-4\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eStep 4\u003c/h3\u003e\n\u003cp\u003eCreate a .env file with your keys that you found in the above screenshot\ncorresponding to the box1 (which gives you API_KEY/API_SECRET, sometimes also\nreferred to as consumer keys in other documents) and box2 (which gives you\nACCESS_TOKEN and ACCESS_TOKEN_SECRET) from the above screenshot\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eAPI_KEY=\"xxxxxxxxxxxxxxxxxxxxxxxxx\"\nAPI_SECRET=\"yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy\"\nACCESS_TOKEN=\"aaaaaaaaaaaaaaaaaaa-aaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\"\nACCESS_TOKEN_SECRET=\"bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb\"\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eImportant: Also add the .env to your .gitignore, you don't want to commit this\nto github!\u003c/p\u003e\n\u003ch3 id=\"step-5\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-5\"\u003e\u003ca href=\"#step-5\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eStep 5\u003c/h3\u003e\n\u003cp\u003eMake the bot! Create \u003ccode\u003esrc/bot.ts\u003c/code\u003e\u003c/p\u003e\n\u003cpre class=\"shiki one-dark-pro\" style=\"background-color:#282c34;color:#abb2bf\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#C678DD\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003e fs\u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003e from\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e 'fs'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#C678DD\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#D19A66\"\u003e *\u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003e as\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003e dotenv\u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003e from\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e 'dotenv'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#C678DD\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003e OAuth\u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003e from\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e 'oauth'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#C678DD\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003e fetch\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e, { \u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003eRequestInit\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e } \u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003efrom\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e 'node-fetch'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#C678DD\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e { \u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003eFormData\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003eFile\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e } \u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003efrom\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e 'formdata-node'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E5C07B\"\u003edotenv\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#61AFEF\"\u003econfig\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#C678DD\"\u003easync\u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#61AFEF\"\u003e mfetch\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E06C75;font-style:italic\"\u003eurl\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#E06C75;font-style:italic\"\u003eparams\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003eRequestInit\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#C678DD\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003e response\u003c/span\u003e\u003cspan style=\"color:#56B6C2\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#61AFEF\"\u003e fetch\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003eurl\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003eparams\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#C678DD\"\u003e  if\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#56B6C2\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003eresponse\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003eok\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#C678DD\"\u003e    const\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003e text\u003c/span\u003e\u003cspan style=\"color:#56B6C2\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003e response\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#61AFEF\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#C678DD\"\u003e    throw\u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#61AFEF\"\u003e Error\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e`HTTP \u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003eresponse\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003estatus\u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003e ${\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#C678DD\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003e response\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#61AFEF\"\u003ejson\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e() \u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003eas\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003e Promise\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003eRecord\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003eunknown\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#C678DD\"\u003efunction\u003c/span\u003e\u003cspan style=\"color:#61AFEF\"\u003e getAuthHeader\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E06C75;font-style:italic\"\u003eoauth\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003eOAuth\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003eOAuth\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#E06C75;font-style:italic\"\u003eurl\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#C678DD\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003e oauth\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#61AFEF\"\u003eauthHeader\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e    url\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E5C07B\"\u003e    process\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003eACCESS_TOKEN\u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003e as\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E5C07B\"\u003e    process\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003eACCESS_TOKEN_SECRET\u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003e as\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#98C379\"\u003e    'post'\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e  )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e;(\u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003easync\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e () \u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#C678DD\"\u003e  try\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#C678DD\"\u003e    const\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003e client\u003c/span\u003e\u003cspan style=\"color:#56B6C2\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003e OAuth\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#61AFEF\"\u003eOAuth\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#98C379\"\u003e      'https://api.twitter.com/oauth/request_token'\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#98C379\"\u003e      'https://api.twitter.com/oauth/access_token'\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E5C07B\"\u003e      process\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003eAPI_KEY\u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003e as\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E5C07B\"\u003e      process\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003eAPI_SECRET\u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003e as\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#98C379\"\u003e      '1.0A'\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D19A66\"\u003e      null\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#98C379\"\u003e      'HMAC-SHA1'\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e    )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#C678DD\"\u003e    const\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003e picEndpoint\u003c/span\u003e\u003cspan style=\"color:#56B6C2\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e 'https://upload.twitter.com/1.1/media/upload.json'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#C678DD\"\u003e    const\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003e tweetEndpoint\u003c/span\u003e\u003cspan style=\"color:#56B6C2\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e 'https://api.twitter.com/2/tweets'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#C678DD\"\u003e    const\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003e clientName\u003c/span\u003e\u003cspan style=\"color:#56B6C2\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e 'v3CreateTweetJS'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#C678DD\"\u003e    const\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003e form\u003c/span\u003e\u003cspan style=\"color:#56B6C2\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#61AFEF\"\u003e FormData\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E5C07B\"\u003e    form\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#61AFEF\"\u003eset\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#98C379\"\u003e      'media'\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#C678DD\"\u003e      new\u003c/span\u003e\u003cspan style=\"color:#61AFEF\"\u003e File\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e([\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003efs\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#61AFEF\"\u003ereadFileSync\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e'yourpicture.png'\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e)], \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e'yourpicture.png'\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e),\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e    )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#7F848E;font-style:italic\"\u003e    // first post a picture\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#C678DD\"\u003e    const\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003e response1\u003c/span\u003e\u003cspan style=\"color:#56B6C2\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#61AFEF\"\u003e mfetch\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003epicEndpoint\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e, {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e      headers\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e        Authorization\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#61AFEF\"\u003egetAuthHeader\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003eclient\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003epicEndpoint\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e),\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#98C379\"\u003e        'user-agent'\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003eclientName\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e      },\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e      method\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e'POST'\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#7F848E;font-style:italic\"\u003e      //@ts-ignore\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e      body\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003eform\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e    })\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#7F848E;font-style:italic\"\u003e    // then post a tweet, referring to the media_id_string from response1\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#C678DD\"\u003e    const\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003e response2\u003c/span\u003e\u003cspan style=\"color:#56B6C2\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#61AFEF\"\u003e mfetch\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003etweetEndpoint\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e, {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e      headers\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e        Authorization\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#61AFEF\"\u003egetAuthHeader\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003eclient\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003etweetEndpoint\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e),\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#98C379\"\u003e        'user-agent'\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003eclientName\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#98C379\"\u003e        'content-type'\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e'application/json'\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e        accept\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e'application/json'\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e      },\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e      body\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003eJSON\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#61AFEF\"\u003estringify\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e        media\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: { \u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003emedia_ids\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: [\u003c/span\u003e\u003cspan style=\"color:#E5C07B\"\u003eresponse1\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003emedia_id_string\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e] },\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e        text\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e'Hello world!'\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e      }),\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e      method\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e'post'\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e    })\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E5C07B\"\u003e    console\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#61AFEF\"\u003elog\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003eresponse2\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e  } \u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003ecatch\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003ee\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E5C07B\"\u003e    console\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#61AFEF\"\u003eerror\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003ee\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E5C07B\"\u003e    process\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#61AFEF\"\u003eexit\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#D19A66\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e})()\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"step-6\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-6\"\u003e\u003ca href=\"#step-6\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eStep 6\u003c/h3\u003e\n\u003cp\u003eNow that you have the bot, you can run it locally with \u003ccode\u003eyarn post\u003c/code\u003e (runs the\n\"post\" script in \u003ccode\u003epackage.json\u003c/code\u003e) to test it out\u003c/p\u003e\n\u003ch3 id=\"step-7\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-7\"\u003e\u003ca href=\"#step-7\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eStep 7\u003c/h3\u003e\n\u003cp\u003eNow to create a github action to run the bot.\u003c/p\u003e\n\u003cp\u003eNavigate to your repo's settings page, then go to Secrets-\u003eActions and paste the\nkeys one by one, see below screenshot\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://user-images.githubusercontent.com/6511937/187038172-80b35e34-03dd-4613-b6f6-9f8e25d2fc34.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003ch3 id=\"step-8\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-8\"\u003e\u003ca href=\"#step-8\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eStep 8\u003c/h3\u003e\n\u003cp\u003eCreate a file with the path \u003ccode\u003e.github/workflows/post.yml\u003c/code\u003e in your repo to make\nthe post\u003c/p\u003e\n\u003cp\u003eYou can use a cron/scheduled workflow in the github action, which the below\nexample does\n\u003ca href=\"https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#schedule\"\u003ehttps://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#schedule\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eThe below github action posts every 5 hours on the hour (see\n\u003ca href=\"https://crontab.guru/\"\u003ehttps://crontab.guru/\u003c/a\u003e for more info on cron syntax)\u003c/p\u003e\n\u003cpre class=\"shiki one-dark-pro\" style=\"background-color:#282c34;color:#abb2bf\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003ename\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003ePost tweet\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D19A66\"\u003eon\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e  schedule\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e    - \u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003ecron\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e'0 */5 * * *'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003ejobs\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e  test\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e    name\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003ePost tweet\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e    runs-on\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003eubuntu-latest\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e    steps\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e      - \u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003euses\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003eactions/checkout@v2\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e      - \u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003ename\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003eUse Node.js 14.x\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e        uses\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003eactions/setup-node@v2\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e        with\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e          node-version\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e'14'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e      - \u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003ename\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003eInstall deps (with cache)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e        uses\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003ebahmutov/npm-install@v1\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003e      - \u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003ename\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003ePost tweet\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e        env\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e          API_KEY\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e${{ secrets.API_KEY }}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e          API_SECRET\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e${{ secrets.API_SECRET }}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e          ACCESS_TOKEN\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e${{ secrets.ACCESS_TOKEN }}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e          ACCESS_TOKEN_SECRET\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e${{ secrets.ACCESS_TOKEN_SECRET }}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E06C75\"\u003e        run\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003eyarn post\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"conclusion\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#conclusion\"\u003e\u003ca href=\"#conclusion\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eConclusion\u003c/h2\u003e\n\u003cp\u003eSee \u003ca href=\"https://github.com/cmdcolin/twitter_fractal_bot\"\u003ehttps://github.com/cmdcolin/twitter_fractal_bot\u003c/a\u003e for working example. I could\nhave, in retrospect, used a library like \u003ccode\u003etwit\u003c/code\u003e\n(\u003ca href=\"https://www.npmjs.com/package/twit\"\u003ehttps://www.npmjs.com/package/twit\u003c/a\u003e) but this code sample is not substantially\nmore complicated than using the \u003ccode\u003etwit\u003c/code\u003e library.\u003c/p\u003e\n\u003cp\u003eYou can also adapt this to post only when you push to your repo, or release a\nnew version from your repo!\u003c/p\u003e\n\u003ch2 id=\"footnote-1-examples-of-odd-lingo-or-stumbling-blocks-you-might-come-across\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#footnote-1-examples-of-odd-lingo-or-stumbling-blocks-you-might-come-across\"\u003e\u003ca href=\"#footnote-1-examples-of-odd-lingo-or-stumbling-blocks-you-might-come-across\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eFootnote 1: Examples of odd lingo or stumbling blocks you might come across\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eBearer token - The Bearer token is an alternative method of authenticating,\nbut it cannot be used to post tweets\u003c/li\u003e\n\u003cli\u003eTwitter API v1 vs v2 - We use a mix of v1 and v2, it's just the different URLs\nthat we are posting to and can be mixed in our example\u003c/li\u003e\n\u003cli\u003eConsumer key vs API key - they are the same thing in our example. If you look\nclosely at the box 1 in the screenshot it says \"Consumer keys\" and then gives\nyou an API key below *\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"footnote-2-posting-on-release-with-a-github-action\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#footnote-2-posting-on-release-with-a-github-action\"\u003e\u003ca href=\"#footnote-2-posting-on-release-with-a-github-action\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eFootnote 2: Posting on release with a github action\u003c/h2\u003e\n\u003cp\u003eReplace the cron section of the github action with\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eon: release\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"footnote-3-additional-reading\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#footnote-3-additional-reading\"\u003e\u003ca href=\"#footnote-3-additional-reading\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eFootnote 3: Additional reading\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://aaronparecki.com/oauth-2-simplified/\"\u003ehttps://aaronparecki.com/oauth-2-simplified/\u003c/a\u003e\u003c/p\u003e"])</script><script>self.__next_f.push([1,"5:[\"$\",\"div\",null,{\"className\":\"lg:w-1/2 m-auto\",\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"h1\",null,{\"children\":\"Making a twitter bot in the year 2022 with node.js\"}],[\"$\",\"h4\",null,{\"children\":\"2022-08-26\"}]]}],[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$d\"}}],[\"$\",\"$Le\",null,{}]]}]\n9:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Making a twitter bot in the year 2022 with node.js\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"A blog\"}]]\n7:null\n"])</script></body></html>