<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/39906f0ead253838.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-19fcc95929c5ed47.js" crossorigin=""/><script src="/_next/static/chunks/fd9d1056-3c52181ca0c82b45.js" async="" crossorigin=""></script><script src="/_next/static/chunks/69-9c8db901ba89632a.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-8727dae2732bf68b.js" async="" crossorigin=""></script><script src="/_next/static/chunks/250-5d3d630e7079fea8.js" async=""></script><script src="/_next/static/chunks/app/page-df14802d5ca2542f.js" async=""></script><script src="/_next/static/chunks/app/posts/%5Bid%5D/page-450f53cc80a354c9.js" async=""></script><title>Querying InterMine databases using R</title><meta name="description" content="A blog"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body><div style="margin-bottom:100px"><a href="/">Misc scribbles</a></div><article><div><h1>Querying InterMine databases using R</h1><h4>2016-06-17</h4></div><div><p>In the past, I had found some ways to do simple queries on InterMine web
services using basic HTTP commands with R (see
<a href="https://gist.github.com/cmdcolin/4758167bdd89e6c9c055">https://gist.github.com/cmdcolin/4758167bdd89e6c9c055</a>)</p>
<p>However, the InterMineR (<a href="https://github.com/intermine/intermineR">https://github.com/intermine/intermineR</a>) package
automates some of these features and makes it easier to load the data in R.</p>
<h2 id="installation"><a aria-hidden="true" tabindex="-1" href="#installation"><a href="#installation" style="margin-right: 10px">#</a></a>Installation</h2>
<p>One way to install InterMineR is to install from github with hadley/devtools</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="r" data-theme="one-dark-pro"><code data-language="r" data-theme="one-dark-pro" style="display: grid;"><span data-line=""><span style="color:#56B6C2">install.packages</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">"devtools"</span><span style="color:#ABB2BF">)</span></span>
<span data-line=""><span style="color:#ABB2BF">devtools</span><span style="color:#C678DD">::</span><span style="color:#61AFEF">install_github</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">"hadley/devtools"</span><span style="color:#ABB2BF">)</span></span>
<span data-line=""><span style="color:#ABB2BF">devtools</span><span style="color:#C678DD">::</span><span style="color:#61AFEF">install_github</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">"intermine/intermineR"</span><span style="color:#ABB2BF">)</span></span></code></pre></figure>
<h2 id="usage"><a aria-hidden="true" tabindex="-1" href="#usage"><a href="#usage" style="margin-right: 10px">#</a></a>Usage</h2>
<p>Basic usage includes loading the "intermine URL" using the initInterMine
function. Then various functions can be called on this result.</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="r" data-theme="one-dark-pro"><code data-language="r" data-theme="one-dark-pro" style="display: grid;"><span data-line=""><span style="color:#56B6C2">library</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">InterMineR</span><span style="color:#ABB2BF">)</span></span>
<span data-line=""><span style="color:#E06C75;font-style:italic">mine</span><span style="color:#56B6C2">=</span><span style="color:#61AFEF">initInterMine</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">"http://bovinegenome.org/bovinemine/"</span><span style="color:#ABB2BF">)</span></span>
<span data-line=""><span style="color:#61AFEF">getVersion</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">mine</span><span style="color:#ABB2BF">) </span><span style="color:#7F848E;font-style:italic">#18, intermine API version</span></span>
<span data-line=""><span style="color:#61AFEF">getRelease</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">mine</span><span style="color:#ABB2BF">) </span><span style="color:#7F848E;font-style:italic">#1.0, our data release version</span></span>
<span data-line=""><span style="color:#61AFEF">getTemplates</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">mine</span><span style="color:#ABB2BF">) </span><span style="color:#7F848E;font-style:italic"># lists all templates on interminer</span></span></code></pre></figure>
<h2 id="run-a-template-query"><a aria-hidden="true" tabindex="-1" href="#run-a-template-query"><a href="#run-a-template-query" style="margin-right: 10px">#</a></a>Run a template query</h2>
<p>From the getTemplates function, if you see a template query that you want to
run, you can use the getTemplateQuery function with it's name, and run it with
the runQuery function</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="r" data-theme="one-dark-pro"><code data-language="r" data-theme="one-dark-pro" style="display: grid;"><span data-line=""><span style="color:#61AFEF">getTemplateQuery</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">mine</span><span style="color:#ABB2BF">,</span><span style="color:#98C379">"TQ_protein_to_gene"</span><span style="color:#ABB2BF">) </span><span style="color:#7F848E;font-style:italic"># see what template looks like</span></span>
<span data-line=""><span style="color:#E06C75;font-style:italic">template</span><span style="color:#56B6C2">=</span><span style="color:#61AFEF">getTemplateQuery</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">mine</span><span style="color:#ABB2BF">,</span><span style="color:#98C379">"TQ_protein_to_gene"</span><span style="color:#ABB2BF">) </span><span style="color:#7F848E;font-style:italic"># save template</span></span>
<span data-line=""><span style="color:#61AFEF">runQuery</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">mine</span><span style="color:#ABB2BF">,</span><span style="color:#E06C75">template</span><span style="color:#ABB2BF">) </span><span style="color:#7F848E;font-style:italic"># run the template query with default params, receive data.frame</span></span></code></pre></figure>
<p>This method is good, but some improvement could be added to change default
parameters in the template query, etc.</p>
<h2 id="run-query-xml"><a aria-hidden="true" tabindex="-1" href="#run-query-xml"><a href="#run-query-xml" style="margin-right: 10px">#</a></a>Run query XML</h2>
<p>Another option for running queries is to use the query XML that you can download
from the InterMine query result pages.</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="r" data-theme="one-dark-pro"><code data-language="r" data-theme="one-dark-pro" style="display: grid;"><span data-line=""><span style="color:#7F848E;font-style:italic"># get all Ensembl genes on chr28 from bovinemine</span></span>
<span data-line=""><span style="color:#E06C75;font-style:italic">query</span><span style="color:#56B6C2">=</span><span style="color:#98C379">'&#x3C;query model="genomic" view="Gene.primaryIdentifier</span></span>
<span data-line=""><span style="color:#98C379">Gene.secondaryIdentifier Gene.symbol Gene.name Gene.source</span></span>
<span data-line=""><span style="color:#98C379">Gene.organism.shortName Gene.chromosome.primaryIdentifier"</span></span>
<span data-line=""><span style="color:#98C379">sortOrder="Gene.primaryIdentifier ASC" >&#x3C;constraint</span></span>
<span data-line=""><span style="color:#98C379">path="Gene.organism.shortName" op="=" value="B. taurus"</span></span>
<span data-line=""><span style="color:#98C379">/>&#x3C;constraint path="Gene.chromosome.primaryIdentifier" op="="</span></span>
<span data-line=""><span style="color:#98C379">value="GK000028.2" />&#x3C;/query>'</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#E06C75;font-style:italic">results</span><span style="color:#56B6C2">=</span><span style="color:#61AFEF">runQuery</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">mine</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75">query</span><span style="color:#ABB2BF">)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#56B6C2">head</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">results</span><span style="color:#ABB2BF">)</span></span></code></pre></figure>
<h2 id="conclusion"><a aria-hidden="true" tabindex="-1" href="#conclusion"><a href="#conclusion" style="margin-right: 10px">#</a></a>Conclusion</h2>
<p>The InterMineR package has a couple of nice features for getting InterMine data
with a couple of functions for looking at templates. For many use cases, copying
the Query XML from a InterMine webpage and pasting that into the runQuery
function is sufficient and produces a data frame that can be analyzed.</p>
<p>PS it is not easy to post XML on tumblr after editing the post in markdown mode.
You have to add the lt and gt shortcuts and even after that it gets filtered?!</p></div><div style="margin-top:200px"></div></article><footer style="margin-top:100px"><a href="/">Home</a><a href="/archive">Blog archive</a><a href="https://github.com/cmdcolin/">Github</a><a href="/projects">Projects</a> <a href="/photos">Photos</a><a href="/books">Books</a><a href="/about">About</a><a href="/uses">Uses</a></footer><script src="/_next/static/chunks/webpack-19fcc95929c5ed47.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/39906f0ead253838.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:I[7690,[],\"\"]\n6:I[5613,[],\"\"]\n8:I[1778,[],\"\"]\n9:I[5250,[\"250\",\"static/chunks/250-5d3d630e7079fea8.js\",\"931\",\"static/chunks/app/page-df14802d5ca2542f.js\"],\"\"]\nb:I[8955,[],\"\"]\n7:[\"id\",\"2016-06-17\",\"d\"]\nc:[]\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/39906f0ead253838.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L3\",null,{\"buildId\":\"6SNZtvqyr4hnIbWtxYmtQ\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/posts/2016-06-17\",\"initialTree\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"id\",\"2016-06-17\",\"d\"],{\"children\":[\"__PAGE__?{\\\"id\\\":\\\"2016-06-17\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"id\",\"2016-06-17\",\"d\"],{\"children\":[\"__PAGE__\",{},[\"$L4\",\"$L5\",null]]},[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",\"$7\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]]},[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]]},[null,[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"children\":[[\"$\",\"div\",null,{\"style\":{\"marginBottom\":100},\"children\":[\"$\",\"$L9\",null,{\"href\":\"/\",\"children\":\"Misc scribbles\"}]}],[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}],[\"$\",\"footer\",null,{\"style\":{\"marginTop\":100},\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/\",\"children\":\"Home\"}],[\"$\",\"$L9\",null,{\"href\":\"/archive\",\"children\":\"Blog archive\"}],[\"$\",\"$L9\",null,{\"href\":\"https://github.com/cmdcolin/\",\"children\":\"Github\"}],[\"$\",\"$L9\",null,{\"href\":\"/projects\",\"children\":\"Projects\"}],\" \",[\"$\",\"$L9\",null,{\"href\":\"/photos\",\"children\":\"Photos\"}],[\"$\",\"$L9\",null,{\"href\":\"/books\",\"children\":\"Books\"}],[\"$\",\"$L9\",null,{\"href\":\"/about\",\"children\":\"About\"}],[\"$\",\"$L9\",null,{\"href\":\"/uses\",\"children\":\"Uses\"}]]}]]}]}],null]],\"initialHead\":[false,\"$La\"],\"globalErrorComponent\":\"$b\",\"missingSlots\":\"$Wc\"}]]\n"])</script><script>self.__next_f.push([1,"e:I[7858,[\"722\",\"static/chunks/app/posts/%5Bid%5D/page-450f53cc80a354c9.js\"],\"\"]\nd:T203b,"])</script><script>self.__next_f.push([1,"\u003cp\u003eIn the past, I had found some ways to do simple queries on InterMine web\nservices using basic HTTP commands with R (see\n\u003ca href=\"https://gist.github.com/cmdcolin/4758167bdd89e6c9c055\"\u003ehttps://gist.github.com/cmdcolin/4758167bdd89e6c9c055\u003c/a\u003e)\u003c/p\u003e\n\u003cp\u003eHowever, the InterMineR (\u003ca href=\"https://github.com/intermine/intermineR\"\u003ehttps://github.com/intermine/intermineR\u003c/a\u003e) package\nautomates some of these features and makes it easier to load the data in R.\u003c/p\u003e\n\u003ch2 id=\"installation\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#installation\"\u003e\u003ca href=\"#installation\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eInstallation\u003c/h2\u003e\n\u003cp\u003eOne way to install InterMineR is to install from github with hadley/devtools\u003c/p\u003e\n\u003cfigure data-rehype-pretty-code-figure=\"\"\u003e\u003cpre style=\"background-color:#282c34;color:#abb2bf\" tabindex=\"0\" data-language=\"r\" data-theme=\"one-dark-pro\"\u003e\u003ccode data-language=\"r\" data-theme=\"one-dark-pro\" style=\"display: grid;\"\u003e\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#56B6C2\"\u003einstall.packages\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e\"devtools\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003edevtools\u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003e::\u003c/span\u003e\u003cspan style=\"color:#61AFEF\"\u003einstall_github\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e\"hadley/devtools\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#ABB2BF\"\u003edevtools\u003c/span\u003e\u003cspan style=\"color:#C678DD\"\u003e::\u003c/span\u003e\u003cspan style=\"color:#61AFEF\"\u003einstall_github\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e\"intermine/intermineR\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003ch2 id=\"usage\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#usage\"\u003e\u003ca href=\"#usage\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eUsage\u003c/h2\u003e\n\u003cp\u003eBasic usage includes loading the \"intermine URL\" using the initInterMine\nfunction. Then various functions can be called on this result.\u003c/p\u003e\n\u003cfigure data-rehype-pretty-code-figure=\"\"\u003e\u003cpre style=\"background-color:#282c34;color:#abb2bf\" tabindex=\"0\" data-language=\"r\" data-theme=\"one-dark-pro\"\u003e\u003ccode data-language=\"r\" data-theme=\"one-dark-pro\" style=\"display: grid;\"\u003e\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#56B6C2\"\u003elibrary\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003eInterMineR\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#E06C75;font-style:italic\"\u003emine\u003c/span\u003e\u003cspan style=\"color:#56B6C2\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#61AFEF\"\u003einitInterMine\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e\"http://bovinegenome.org/bovinemine/\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#61AFEF\"\u003egetVersion\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003emine\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#7F848E;font-style:italic\"\u003e#18, intermine API version\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#61AFEF\"\u003egetRelease\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003emine\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#7F848E;font-style:italic\"\u003e#1.0, our data release version\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#61AFEF\"\u003egetTemplates\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003emine\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#7F848E;font-style:italic\"\u003e# lists all templates on interminer\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003ch2 id=\"run-a-template-query\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#run-a-template-query\"\u003e\u003ca href=\"#run-a-template-query\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eRun a template query\u003c/h2\u003e\n\u003cp\u003eFrom the getTemplates function, if you see a template query that you want to\nrun, you can use the getTemplateQuery function with it's name, and run it with\nthe runQuery function\u003c/p\u003e\n\u003cfigure data-rehype-pretty-code-figure=\"\"\u003e\u003cpre style=\"background-color:#282c34;color:#abb2bf\" tabindex=\"0\" data-language=\"r\" data-theme=\"one-dark-pro\"\u003e\u003ccode data-language=\"r\" data-theme=\"one-dark-pro\" style=\"display: grid;\"\u003e\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#61AFEF\"\u003egetTemplateQuery\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003emine\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e\"TQ_protein_to_gene\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#7F848E;font-style:italic\"\u003e# see what template looks like\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#E06C75;font-style:italic\"\u003etemplate\u003c/span\u003e\u003cspan style=\"color:#56B6C2\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#61AFEF\"\u003egetTemplateQuery\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003emine\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e\"TQ_protein_to_gene\"\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#7F848E;font-style:italic\"\u003e# save template\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#61AFEF\"\u003erunQuery\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003emine\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003etemplate\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#7F848E;font-style:italic\"\u003e# run the template query with default params, receive data.frame\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eThis method is good, but some improvement could be added to change default\nparameters in the template query, etc.\u003c/p\u003e\n\u003ch2 id=\"run-query-xml\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#run-query-xml\"\u003e\u003ca href=\"#run-query-xml\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eRun query XML\u003c/h2\u003e\n\u003cp\u003eAnother option for running queries is to use the query XML that you can download\nfrom the InterMine query result pages.\u003c/p\u003e\n\u003cfigure data-rehype-pretty-code-figure=\"\"\u003e\u003cpre style=\"background-color:#282c34;color:#abb2bf\" tabindex=\"0\" data-language=\"r\" data-theme=\"one-dark-pro\"\u003e\u003ccode data-language=\"r\" data-theme=\"one-dark-pro\" style=\"display: grid;\"\u003e\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#7F848E;font-style:italic\"\u003e# get all Ensembl genes on chr28 from bovinemine\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#E06C75;font-style:italic\"\u003equery\u003c/span\u003e\u003cspan style=\"color:#56B6C2\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#98C379\"\u003e'\u0026#x3C;query model=\"genomic\" view=\"Gene.primaryIdentifier\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#98C379\"\u003eGene.secondaryIdentifier Gene.symbol Gene.name Gene.source\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#98C379\"\u003eGene.organism.shortName Gene.chromosome.primaryIdentifier\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#98C379\"\u003esortOrder=\"Gene.primaryIdentifier ASC\" \u003e\u0026#x3C;constraint\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#98C379\"\u003epath=\"Gene.organism.shortName\" op=\"=\" value=\"B. taurus\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#98C379\"\u003e/\u003e\u0026#x3C;constraint path=\"Gene.chromosome.primaryIdentifier\" op=\"=\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#98C379\"\u003evalue=\"GK000028.2\" /\u003e\u0026#x3C;/query\u003e'\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e \u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#E06C75;font-style:italic\"\u003eresults\u003c/span\u003e\u003cspan style=\"color:#56B6C2\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#61AFEF\"\u003erunQuery\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003emine\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003equery\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan data-line=\"\"\u003e \u003c/span\u003e\n\u003cspan data-line=\"\"\u003e\u003cspan style=\"color:#56B6C2\"\u003ehead\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E06C75\"\u003eresults\u003c/span\u003e\u003cspan style=\"color:#ABB2BF\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003ch2 id=\"conclusion\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#conclusion\"\u003e\u003ca href=\"#conclusion\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eConclusion\u003c/h2\u003e\n\u003cp\u003eThe InterMineR package has a couple of nice features for getting InterMine data\nwith a couple of functions for looking at templates. For many use cases, copying\nthe Query XML from a InterMine webpage and pasting that into the runQuery\nfunction is sufficient and produces a data frame that can be analyzed.\u003c/p\u003e\n\u003cp\u003ePS it is not easy to post XML on tumblr after editing the post in markdown mode.\nYou have to add the lt and gt shortcuts and even after that it gets filtered?!\u003c/p\u003e"])</script><script>self.__next_f.push([1,"5:[\"$\",\"article\",null,{\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"h1\",null,{\"children\":\"Querying InterMine databases using R\"}],[\"$\",\"h4\",null,{\"children\":\"2016-06-17\"}]]}],[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$d\"}}],[\"$\",\"$Le\",null,{}]]}]\na:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Querying InterMine databases using R\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"A blog\""])</script><script>self.__next_f.push([1,"}]]\n4:null\n"])</script><script>self.__next_f.push([1,""])</script></body></html>