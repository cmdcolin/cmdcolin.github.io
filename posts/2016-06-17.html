<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/97dc5fe527f5d592.css" crossorigin="" data-precedence="next"/><link rel="preload" href="/_next/static/chunks/webpack-19ac6e418b88dab7.js" as="script" fetchPriority="low" crossorigin=""/><script src="/_next/static/chunks/fd9d1056-e43fdc25c1167267.js" async="" crossorigin=""></script><script src="/_next/static/chunks/864-f0261ea346b46dc5.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-fe7c20d256316568.js" async="" crossorigin=""></script><title>Querying InterMine databases using R</title><meta name="description" content="A blog"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="128x128"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body><div style="margin-bottom:100px"><a href="/">Misc scribbles</a></div><article><div><h1>Querying InterMine databases using R</h1><h4>2016-06-17</h4></div><div><p>In the past, I had found some ways to do simple queries on InterMine web
services using basic HTTP commands with R (see
<a href="https://gist.github.com/cmdcolin/4758167bdd89e6c9c055">https://gist.github.com/cmdcolin/4758167bdd89e6c9c055</a>)</p>
<p>However, the InterMineR (<a href="https://github.com/intermine/intermineR">https://github.com/intermine/intermineR</a>) package
automates some of these features and makes it easier to load the data in R.</p>
<h2 id="installation"><a aria-hidden="true" tabindex="-1" href="#installation"><a href="#installation" style="margin-right: 10px">#</a></a>Installation</h2>
<p>One way to install InterMineR is to install from github with hadley/devtools</p>
<pre class="shiki poimandres" style="background-color: #1b1e28" tabindex="0"><code><span class="line"><span style="color: #A6ACCD">install.packages(</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">devtools</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #A6ACCD">devtools</span><span style="color: #5DE4C7">::</span><span style="color: #E4F0FBD0">install_github</span><span style="color: #A6ACCD">(</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">hadley/devtools</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #A6ACCD">devtools</span><span style="color: #5DE4C7">::</span><span style="color: #E4F0FBD0">install_github</span><span style="color: #A6ACCD">(</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">intermine/intermineR</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">)</span></span></code></pre>
<h2 id="usage"><a aria-hidden="true" tabindex="-1" href="#usage"><a href="#usage" style="margin-right: 10px">#</a></a>Usage</h2>
<p>Basic usage includes loading the "intermine URL" using the initInterMine
function. Then various functions can be called on this result.</p>
<pre class="shiki poimandres" style="background-color: #1b1e28" tabindex="0"><code><span class="line"><span style="color: #A6ACCD">library(</span><span style="color: #E4F0FB">InterMineR</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #E4F0FB">mine</span><span style="color: #91B4D5">=</span><span style="color: #E4F0FBD0">initInterMine</span><span style="color: #A6ACCD">(</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">http://bovinegenome.org/bovinemine/</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #E4F0FBD0">getVersion</span><span style="color: #A6ACCD">(</span><span style="color: #E4F0FB">mine</span><span style="color: #A6ACCD">) </span><span style="color: #767C9DB0; font-style: italic">#18, intermine API version</span></span>
<span class="line"><span style="color: #E4F0FBD0">getRelease</span><span style="color: #A6ACCD">(</span><span style="color: #E4F0FB">mine</span><span style="color: #A6ACCD">) </span><span style="color: #767C9DB0; font-style: italic">#1.0, our data release version</span></span>
<span class="line"><span style="color: #E4F0FBD0">getTemplates</span><span style="color: #A6ACCD">(</span><span style="color: #E4F0FB">mine</span><span style="color: #A6ACCD">) </span><span style="color: #767C9DB0; font-style: italic"># lists all templates on interminer</span></span></code></pre>
<h2 id="run-a-template-query"><a aria-hidden="true" tabindex="-1" href="#run-a-template-query"><a href="#run-a-template-query" style="margin-right: 10px">#</a></a>Run a template query</h2>
<p>From the getTemplates function, if you see a template query that you want to
run, you can use the getTemplateQuery function with it's name, and run it with
the runQuery function</p>
<pre class="shiki poimandres" style="background-color: #1b1e28" tabindex="0"><code><span class="line"><span style="color: #E4F0FBD0">getTemplateQuery</span><span style="color: #A6ACCD">(</span><span style="color: #E4F0FB">mine</span><span style="color: #A6ACCD">,</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">TQ_protein_to_gene</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">) </span><span style="color: #767C9DB0; font-style: italic"># see what template looks like</span></span>
<span class="line"><span style="color: #E4F0FB">template</span><span style="color: #91B4D5">=</span><span style="color: #E4F0FBD0">getTemplateQuery</span><span style="color: #A6ACCD">(</span><span style="color: #E4F0FB">mine</span><span style="color: #A6ACCD">,</span><span style="color: #A6ACCD">"</span><span style="color: #5DE4C7">TQ_protein_to_gene</span><span style="color: #A6ACCD">"</span><span style="color: #A6ACCD">) </span><span style="color: #767C9DB0; font-style: italic"># save template</span></span>
<span class="line"><span style="color: #E4F0FBD0">runQuery</span><span style="color: #A6ACCD">(</span><span style="color: #E4F0FB">mine</span><span style="color: #A6ACCD">,</span><span style="color: #E4F0FB">template</span><span style="color: #A6ACCD">) </span><span style="color: #767C9DB0; font-style: italic"># run the template query with default params, receive data.frame</span></span></code></pre>
<p>This method is good, but some improvement could be added to change default
parameters in the template query, etc.</p>
<h2 id="run-query-xml"><a aria-hidden="true" tabindex="-1" href="#run-query-xml"><a href="#run-query-xml" style="margin-right: 10px">#</a></a>Run query XML</h2>
<p>Another option for running queries is to use the query XML that you can download
from the InterMine query result pages.</p>
<pre class="shiki poimandres" style="background-color: #1b1e28" tabindex="0"><code><span class="line"><span style="color: #767C9DB0; font-style: italic"># get all Ensembl genes on chr28 from bovinemine</span></span>
<span class="line"><span style="color: #E4F0FB">query</span><span style="color: #91B4D5">=</span><span style="color: #A6ACCD">'</span><span style="color: #5DE4C7">&#x3C;query model="genomic" view="Gene.primaryIdentifier</span></span>
<span class="line"><span style="color: #5DE4C7">Gene.secondaryIdentifier Gene.symbol Gene.name Gene.source</span></span>
<span class="line"><span style="color: #5DE4C7">Gene.organism.shortName Gene.chromosome.primaryIdentifier"</span></span>
<span class="line"><span style="color: #5DE4C7">sortOrder="Gene.primaryIdentifier ASC" >&#x3C;constraint</span></span>
<span class="line"><span style="color: #5DE4C7">path="Gene.organism.shortName" op="=" value="B. taurus"</span></span>
<span class="line"><span style="color: #5DE4C7">/>&#x3C;constraint path="Gene.chromosome.primaryIdentifier" op="="</span></span>
<span class="line"><span style="color: #5DE4C7">value="GK000028.2" />&#x3C;/query></span><span style="color: #A6ACCD">'</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E4F0FB">results</span><span style="color: #91B4D5">=</span><span style="color: #E4F0FBD0">runQuery</span><span style="color: #A6ACCD">(</span><span style="color: #E4F0FB">mine</span><span style="color: #A6ACCD">, </span><span style="color: #E4F0FB">query</span><span style="color: #A6ACCD">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #A6ACCD">head(</span><span style="color: #E4F0FB">results</span><span style="color: #A6ACCD">)</span></span></code></pre>
<h2 id="conclusion"><a aria-hidden="true" tabindex="-1" href="#conclusion"><a href="#conclusion" style="margin-right: 10px">#</a></a>Conclusion</h2>
<p>The InterMineR package has a couple of nice features for getting InterMine data
with a couple of functions for looking at templates. For many use cases, copying
the Query XML from a InterMine webpage and pasting that into the runQuery
function is sufficient and produces a data frame that can be analyzed.</p>
<p>PS it is not easy to post XML on tumblr after editing the post in markdown mode.
You have to add the lt and gt shortcuts and even after that it gets filtered?!</p></div><div style="margin-top:200px"></div></article><footer style="margin-top:100px"><a href="/">Home</a><a href="/archive">Blog archive</a><a href="https://github.com/cmdcolin/">Github</a><a href="https://twitter.com/cmdcolin">Twitter</a><a href="/projects">Projects</a> <a href="/photos">Photos</a><a href="/books">Books</a><a href="/about">About</a></footer><script src="/_next/static/chunks/webpack-19ac6e418b88dab7.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/97dc5fe527f5d592.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:I{\"id\":6054,\"chunks\":[\"272:static/chunks/webpack-19ac6e418b88dab7.js\",\"971:static/chunks/fd9d1056-e43fdc25c1167267.js\",\"864:static/chunks/864-f0261ea346b46dc5.js\"],\"name\":\"\",\"async\":false}\n5:I{\"id\":1729,\"chunks\":[\"272:static/chunks/webpack-19ac6e418b88dab7.js\",\"971:static/chunks/fd9d1056-e43fdc25c1167267.js\",\"864:static/chunks/864-f0261ea346b46dc5.js\"],\"name\":\"\",\"async\":false}\n6:I{\"id\":4724,\"chunks\":[\"724:static/chunks/724-f777e11942c9f205.js\",\"931:static/chunks/app/page-dc728b3619945451.js\"],\"name\":\"\",\"a"])</script><script>self.__next_f.push([1,"sync\":false}\n7:I{\"id\":1443,\"chunks\":[\"272:static/chunks/webpack-19ac6e418b88dab7.js\",\"971:static/chunks/fd9d1056-e43fdc25c1167267.js\",\"864:static/chunks/864-f0261ea346b46dc5.js\"],\"name\":\"\",\"async\":false}\n8:I{\"id\":8639,\"chunks\":[\"272:static/chunks/webpack-19ac6e418b88dab7.js\",\"971:static/chunks/fd9d1056-e43fdc25c1167267.js\",\"864:static/chunks/864-f0261ea346b46dc5.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/97dc5fe527f5d592.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L3\",null,{\"buildId\":\"vCJRHrwlZH1JfH17p5_4c\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/posts/2016-06-17\",\"initialTree\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"id\",\"2016-06-17\",\"d\"],{\"children\":[\"__PAGE__?{\\\"id\\\":\\\"2016-06-17\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[false,\"$L4\"],\"globalErrorComponent\":\"$5\",\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"children\":[[\"$\",\"div\",null,{\"style\":{\"marginBottom\":100},\"children\":[\"$\",\"$L6\",null,{\"href\":\"/\",\"children\":\"Misc scribbles\"}]}],[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"childProp\":{\"current\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",[\"id\",\"2016-06-17\",\"d\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$L9\",\"$La\",null],\"segment\":\"__PAGE__?{\\\"id\\\":\\\"2016-06-17\\\"}\"},\"styles\":[]}],\"segment\":[\"id\",\"2016-06-17\",\"d\"]},\"styles\":[]}],\"segment\":\"posts\"},\"styles\":[]}],[\"$\",\"footer\",null,{\"style\":{\"marginTop\":100},\"children\":[[\"$\",\"$L6\",null,{\"href\":\"/\",\"children\":\"Home\"}],[\"$\",\"$L6\",null,{\"href\":\"/archive\",\"children\":\"Blog archive\"}],[\"$\",\"$L6\",null,{\"href\":\"https://github.com/cmdcolin/\",\"children\":\"Github\"}],[\"$\",\"$L6\",null,{\"href\":\"https://twitter.com/cmdcolin\",\"children\":\"Twitter\"}],[\"$\",\"$L6\",null,{\"href\":\"/projects\",\"children\":\"Projects\"}],\" \",[\"$\",\"$L6\",null,{\"href\":\"/photos\",\"children\":\"Photos\"}],[\"$\",\"$L6\",null,{\"href\":\"/books\",\"children\":\"Books\"}],[\"$\",\"$L6\",null,{\"href\":\"/about\",\"children\":\"About\"}]]}]]}]}],null]}]]\n"])</script><script>self.__next_f.push([1,"c:I{\"id\":2775,\"chunks\":[\"722:static/chunks/app/posts/[id]/page-cca14fd8141e3e22.js\"],\"name\":\"\",\"async\":false}\nb:T1fab,"])</script><script>self.__next_f.push([1,"\u003cp\u003eIn the past, I had found some ways to do simple queries on InterMine web\nservices using basic HTTP commands with R (see\n\u003ca href=\"https://gist.github.com/cmdcolin/4758167bdd89e6c9c055\"\u003ehttps://gist.github.com/cmdcolin/4758167bdd89e6c9c055\u003c/a\u003e)\u003c/p\u003e\n\u003cp\u003eHowever, the InterMineR (\u003ca href=\"https://github.com/intermine/intermineR\"\u003ehttps://github.com/intermine/intermineR\u003c/a\u003e) package\nautomates some of these features and makes it easier to load the data in R.\u003c/p\u003e\n\u003ch2 id=\"installation\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#installation\"\u003e\u003ca href=\"#installation\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eInstallation\u003c/h2\u003e\n\u003cp\u003eOne way to install InterMineR is to install from github with hadley/devtools\u003c/p\u003e\n\u003cpre class=\"shiki poimandres\" style=\"background-color: #1b1e28\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003einstall.packages(\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003edevtools\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003edevtools\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e::\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003einstall_github\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003ehadley/devtools\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003edevtools\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e::\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003einstall_github\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eintermine/intermineR\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"usage\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#usage\"\u003e\u003ca href=\"#usage\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eUsage\u003c/h2\u003e\n\u003cp\u003eBasic usage includes loading the \"intermine URL\" using the initInterMine\nfunction. Then various functions can be called on this result.\u003c/p\u003e\n\u003cpre class=\"shiki poimandres\" style=\"background-color: #1b1e28\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003elibrary(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eInterMineR\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003emine\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003einitInterMine\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003ehttp://bovinegenome.org/bovinemine/\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003egetVersion\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003emine\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e) \u003c/span\u003e\u003cspan style=\"color: #767C9DB0; font-style: italic\"\u003e#18, intermine API version\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003egetRelease\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003emine\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e) \u003c/span\u003e\u003cspan style=\"color: #767C9DB0; font-style: italic\"\u003e#1.0, our data release version\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003egetTemplates\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003emine\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e) \u003c/span\u003e\u003cspan style=\"color: #767C9DB0; font-style: italic\"\u003e# lists all templates on interminer\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"run-a-template-query\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#run-a-template-query\"\u003e\u003ca href=\"#run-a-template-query\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eRun a template query\u003c/h2\u003e\n\u003cp\u003eFrom the getTemplates function, if you see a template query that you want to\nrun, you can use the getTemplateQuery function with it's name, and run it with\nthe runQuery function\u003c/p\u003e\n\u003cpre class=\"shiki poimandres\" style=\"background-color: #1b1e28\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003egetTemplateQuery\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003emine\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eTQ_protein_to_gene\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e) \u003c/span\u003e\u003cspan style=\"color: #767C9DB0; font-style: italic\"\u003e# see what template looks like\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003etemplate\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003egetTemplateQuery\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003emine\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003eTQ_protein_to_gene\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e\"\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e) \u003c/span\u003e\u003cspan style=\"color: #767C9DB0; font-style: italic\"\u003e# save template\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003erunQuery\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003emine\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e,\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003etemplate\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e) \u003c/span\u003e\u003cspan style=\"color: #767C9DB0; font-style: italic\"\u003e# run the template query with default params, receive data.frame\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis method is good, but some improvement could be added to change default\nparameters in the template query, etc.\u003c/p\u003e\n\u003ch2 id=\"run-query-xml\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#run-query-xml\"\u003e\u003ca href=\"#run-query-xml\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eRun query XML\u003c/h2\u003e\n\u003cp\u003eAnother option for running queries is to use the query XML that you can download\nfrom the InterMine query result pages.\u003c/p\u003e\n\u003cpre class=\"shiki poimandres\" style=\"background-color: #1b1e28\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #767C9DB0; font-style: italic\"\u003e# get all Ensembl genes on chr28 from bovinemine\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003equery\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003cspan style=\"color: #5DE4C7\"\u003e\u0026#x3C;query model=\"genomic\" view=\"Gene.primaryIdentifier\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #5DE4C7\"\u003eGene.secondaryIdentifier Gene.symbol Gene.name Gene.source\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #5DE4C7\"\u003eGene.organism.shortName Gene.chromosome.primaryIdentifier\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #5DE4C7\"\u003esortOrder=\"Gene.primaryIdentifier ASC\" \u003e\u0026#x3C;constraint\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #5DE4C7\"\u003epath=\"Gene.organism.shortName\" op=\"=\" value=\"B. taurus\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #5DE4C7\"\u003e/\u003e\u0026#x3C;constraint path=\"Gene.chromosome.primaryIdentifier\" op=\"=\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #5DE4C7\"\u003evalue=\"GK000028.2\" /\u003e\u0026#x3C;/query\u003e\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E4F0FB\"\u003eresults\u003c/span\u003e\u003cspan style=\"color: #91B4D5\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E4F0FBD0\"\u003erunQuery\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003emine\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003equery\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003ehead(\u003c/span\u003e\u003cspan style=\"color: #E4F0FB\"\u003eresults\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"conclusion\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#conclusion\"\u003e\u003ca href=\"#conclusion\" style=\"margin-right: 10px\"\u003e#\u003c/a\u003e\u003c/a\u003eConclusion\u003c/h2\u003e\n\u003cp\u003eThe InterMineR package has a couple of nice features for getting InterMine data\nwith a couple of functions for looking at templates. For many use cases, copying\nthe Query XML from a InterMine webpage and pasting that into the runQuery\nfunction is sufficient and produces a data frame that can be analyzed.\u003c/p\u003e\n\u003cp\u003ePS it is not easy to post XML on tumblr after editing the post in markdown mode.\nYou have to add the lt and gt shortcuts and even after that it gets filtered?!\u003c/p\u003e"])</script><script>self.__next_f.push([1,"a:[\"$\",\"article\",null,{\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"h1\",null,{\"children\":\"Querying InterMine databases using R\"}],[\"$\",\"h4\",null,{\"children\":\"2016-06-17\"}]]}],[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$b\"}}],[\"$\",\"$Lc\",null,{}]]}]\n"])</script><script>self.__next_f.push([1,"4:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Querying InterMine databases using R\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"A blog\"}],[\"$\",\"meta\",\"3\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"128x128\"}]]\n9:null\n"])</script></body></html>