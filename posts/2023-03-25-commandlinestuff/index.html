<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="description" content="Astro description"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Astro v5.16.1"><title>Command line productivity stuff</title><style>.container[data-astro-cid-4oxc2zqz]{max-width:800px;margin:0 auto;padding:0 1rem}article[data-astro-cid-lvjzyg5v]{max-width:100%}.post-content[data-astro-cid-lvjzyg5v]{margin:2rem 0;line-height:1.6}
.footer-style[data-astro-cid-k2f5zb5c]{margin-top:4rem}.footer-link[data-astro-cid-k2f5zb5c]{margin:.5rem}body{font-family:Helvetica,Arial,sans-serif;background-color:Canvas;color:CanvasText;color-scheme:light dark;overflow-wrap:break-word}img{max-width:100%}pre{max-width:100%;overflow:auto}li+li{margin-top:10px}pre{padding:10px;border-radius:5px}
</style></head> <body> <div class="mb-8"> <a href="/">Misc scribbles</a> </div>  <div class="container" data-astro-cid-4oxc2zqz>  <article data-astro-cid-lvjzyg5v> <div data-astro-cid-lvjzyg5v> <h1 data-astro-cid-lvjzyg5v>Command line productivity stuff</h1> <h4 data-astro-cid-lvjzyg5v>2023-03-25</h4> </div> <div class="post-content" data-astro-cid-lvjzyg5v> <p>In 2016, I wrote a list of things that I found to be useful or interesting
information about the work I did at the time
<a href="https://cmdcolin.github.io/posts/2016-04-06">https://cmdcolin.github.io/posts/2016-04-06</a></p>
<p>I thought it would be interesting to do the same now</p>
<h2 id="aliases">Aliases</h2>
<p>I use many “double tap” aliases for lots of things. They are not very
‘mnemonic’, but I like the action of double tapping a key. Here is a list of
some of my favorites. I don’t expect you will like the shortenings</p>
<ul>
<li><code>qq</code> - runs <code>exit</code> to exit shell</li>
<li><code>ss</code> - runs <code>yarn start</code></li>
<li><code>yy</code> - runs <code>yarn lint</code></li>
<li><code>bb</code> - one of my favorite non-obvious ones, it lists all git branches recently
used in a fzf window
<code>git branch --sort=-committerdate| fzf --height=20% |xargs git checkout</code></li>
<li><code>ccc</code> - runs <code>yarn test --maxWorkers=50%</code> - my audio glitches out without the
maxWorkers</li>
<li><code>g</code> - <code>git status</code>. I will type out <code>git</code> for other subcommands, but I check
git status a lot and didn’t end up liking one letter <code>g</code> + subcommand added</li>
<li><code>gd</code> - <code>git diff</code></li>
<li><code>gggg</code> - runs <code>git add . &#x26;&#x26; git commit --amend --no-edit</code> so I can keep adding
to the last commit instead of making new commits</li>
</ul>
<p>Also recommend <a href="https://github.com/rupa/z">https://github.com/rupa/z</a>, very quickly jump to commonly used
directories. I alias <code>z</code> to <code>p</code> because I try to type with my right hand.</p>
<h2 id="neovimeditor-stuff">Neovim/editor stuff</h2>
<p>I use neovim, I run lots of stuff off nightly, and my setup changes a lot just
as I like to tweak things, but here are some currently nice things I like about
my workflow</p>
<ul>
<li>
<p>Visual select block, use <code>gq</code> to wrap code comments in vim (or <code>gw</code> with lsp
enabled, see reason why <code>gw</code> here
<a href="https://vi.stackexchange.com/questions/39200/wrapping-comment-in-visual-mode-not-working-with-gq">https://vi.stackexchange.com/questions/39200/wrapping-comment-in-visual-mode-not-working-with-gq</a>)</p>
</li>
<li>
<p>Add <code>proseWrap: always</code> to your .prettierrc to wrap e.g. the lines in markdown
files <a href="https://prettier.io/docs/en/options.html#prose-wrap">https://prettier.io/docs/en/options.html#prose-wrap</a></p>
</li>
<li>
<p>Setting up “LSP support” in vim can be hard, but rewarding. I went through a
whole gammut of using w0rp/ale, then coc.nvim, and then now ‘built-in neovim
LSP’. I like it, but it was to me not easy to set up. I recommend
<a href="https://github.com/VonHeikemen/lsp-zero.nvim">https://github.com/VonHeikemen/lsp-zero.nvim</a> as it makes it easier</p>
</li>
<li>
<p>Setup format on save. There are many ways to do it, but try to find out some
way that works for you! For me, I use formatter.nvim to run prettier on most
web dev filetypes. I use formatter.nvim and not a LSP-based format like
null-ls because I just haven’t gotten it to work with null-ls, but I don’t
think the formatter.nvim is a bad approach either — formatter.nvim is a bit
‘simpler’ compared to LSP based setups</p>
</li>
<li>
<p>To search files in a current directory, I hit <code>,gg</code> (comma is my leader key)
which triggers
<code>map('n', '&#x3C;leader>gg', '&#x3C;cmd>Telescope git_files&#x3C;cr>', default_opts)</code>, to
search by text, I use <code>,ff</code> (comma is my leader key) which triggers
<code>map('n', '&#x3C;leader>ff', '&#x3C;cmd>Telescope live_grep&#x3C;cr>', default_opts)</code></p>
</li>
<li>
<p>I do not use a ‘sidebar file browser’ like nerdtree or similar. As mentioned
above, I primarily navigate with <code>,gg</code> but I also use <code>vim-vinegar</code>, which
let’s me hit <code>-</code> and that opens a file browser of the current directory, and I
can hop around and hit keys to rename (R), delete (D), create (%) new files in
the directory. I often go back to the zsh shell to do more sophisticated
operations</p>
</li>
<li>
<p>Snippets: to <code>console.log</code>, I created a snippet where I can type <code>cl</code>, then it
will popup an autocomplete window, which let’s me choose to insert
<code>console.log({|})</code> or <code>console.log(|)</code> where | indicates where the cursor goes
after hitting enter. The <code>console.log({})</code> is very handy because if you fill
in <code>console.log({variable})</code> then the output will be <code>{variable:5}</code> so you get
the variable name and value easily (ref
<a href="https://github.com/cmdcolin/dotfiles/blob/master/lua/snips.lua">https://github.com/cmdcolin/dotfiles/blob/master/lua/snips.lua</a>)</p>
</li>
</ul>
<h2 id="typescript">Typescript</h2>
<ul>
<li>
<p>Use <code>ts-expect-error</code> instead of <code>ts-ignore</code> — probably a better intention
most of the time</p>
</li>
<li>
<p>Use type inference as much as possible — personal opinion but even things
like explicit function return type are often worse than the inferred type</p>
</li>
</ul>
<h2 id="web-dev">Web dev</h2>
<ul>
<li>Try firefox profiler, it has built-in flamegraph style visualization. For
Chrome profiler, you can use an external tool <a href="https://speedscope.app/">https://speedscope.app/</a> for
similar</li>
</ul>
<h2 id="tmux">Tmux</h2>
<ul>
<li>
<p><code>Ctrl+]</code> is my prefix in tmux. I use my right hand entirely to type it, then I
split horizontally with <code>-</code> and vertically with <code>=</code>. My general coding
generally has my screen split vertically with a horizontal on one or both
sides</p>
</li>
<li>
<p>Add the weather in your tmux footer I use
<code>set -g status-left '#(curl "wttr.in/Albuquerque?u&#x26;format=3") ' </code></p>
</li>
<li>
<p>Enable truecolors in tmux! On my machine, I needed the following in my
tmux.conf:</p>
</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>set -g default-terminal "tmux-256color"</span></span>
<span class="line"><span>set -ag terminal-overrides ",xterm-256color:RGB"</span></span></code></pre>
<p>Without this, all the neovim color schemes I tried looked not just subtly off,
but significantly off, because it had only 256 colors without it (way less than
the millions with true color). Resources</p>
<p><a href="https://gist.github.com/andersevenrud/015e61af2fd264371032763d4ed965b6">https://gist.github.com/andersevenrud/015e61af2fd264371032763d4ed965b6</a>
<a href="https://jdhao.github.io/2018/10/19/tmux_nvim_true_color/">https://jdhao.github.io/2018/10/19/tmux_nvim_true_color/</a></p>
<h2 id="music-related">Music related</h2>
<ul>
<li><code>yda</code> - alias for getting a song from youtube
<code>"youtube-dl -f 'bestaudio[ext=m4a]' "</code></li>
<li><code>vaporwave</code> - a function to slow down the audio for a track with ffmpeg</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> vaporwave</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">  ffmpeg</span><span style="color:#79B8FF"> -i</span><span style="color:#9ECBFF"> "</span><span style="color:#79B8FF">$1</span><span style="color:#9ECBFF">"</span><span style="color:#79B8FF"> -af</span><span style="color:#9ECBFF"> "asetrate=44100*</span><span style="color:#79B8FF">${2</span><span style="color:#F97583">:-</span><span style="color:#79B8FF">0</span><span style="color:#9ECBFF">.</span><span style="color:#79B8FF">66}</span><span style="color:#9ECBFF">,aresample=44100"</span><span style="color:#9ECBFF"> "`</span><span style="color:#B392F0">basename</span><span style="color:#79B8FF"> $1</span><span style="color:#9ECBFF"> .m4a`.vaporwave.m4a"</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>example usage:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>vaporwave file.mp3 # default slowdown factor of 0.66, outputs file.vaporwave.mp3</span></span>
<span class="line"><span>vaporwave file.mp3 0.5 # custom slowdown factor, outputs file.vaporwave.mp3</span></span></code></pre>
<h2 id="audio-players">Audio players</h2>
<p>I worked on a couple projects to make custom music players to scratch my own
itch. I made a Rust one, to try to replace foobar2000, hoping to go back to the
days of yore when I used a desktop player, and then a web based one when I
realized I just listen to alot of youtube anyways now</p>
<ul>
<li>Rust+GTK4 app <a href="https://github.com/cmdcolin/fml9000">https://github.com/cmdcolin/fml9000</a></li>
<li>Web based <a href="https://cmdcolin.github.io/ytshuffle/">https://cmdcolin.github.io/ytshuffle/</a></li>
</ul>
<p>Currently attempting to get the web based version approved by youtube compliance
because they give you quite a limited number of API requests, so unless I want
other users of my app to supply their own key, it seems prudent to get it
approved</p> </div> <div id="giscus"></div> <script>
  const script = document.createElement('script');
  script.src = 'https://giscus.app/client.js';
  script.setAttribute('data-repo', 'cmdcolin/cmdcolin.github.io');
  script.setAttribute('data-repo-id', 'MDEwOlJlcG9zaXRvcnkyNjE0OTY3Nw==');
  script.setAttribute('data-category', 'General');
  script.setAttribute('data-category-id', 'DIC_kwDOAY8DLc4CO-L9');
  script.setAttribute('data-mapping', 'pathname');
  script.setAttribute('data-strict', '0');
  script.setAttribute('data-reactions-enabled', '1');
  script.setAttribute('data-emit-metadata', '0');
  script.setAttribute('data-input-position', 'bottom');
  script.setAttribute('data-theme', 'light');
  script.setAttribute('data-lang', 'en');
  script.setAttribute('crossorigin', 'anonymous');
  script.async = true;
  document.getElementById('giscus').appendChild(script);
</script> </article>  </div>   <footer class="footer-style" data-astro-cid-k2f5zb5c> <a class="footer-link" href="/" data-astro-cid-k2f5zb5c>Home</a> <a class="footer-link" href="/archive" data-astro-cid-k2f5zb5c>Blog archive</a> <a class="footer-link" href="https://github.com/cmdcolin/" data-astro-cid-k2f5zb5c>Github</a> <a class="footer-link" href="/projects" data-astro-cid-k2f5zb5c>Projects</a> <a class="footer-link" href="/about" data-astro-cid-k2f5zb5c>About</a> </footer> </body></html> 