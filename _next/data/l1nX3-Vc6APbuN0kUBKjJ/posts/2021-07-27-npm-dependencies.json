{"pageProps":{"post":{"title":"Do you understand your NPM dependencies?","date":"2021-07-27","slug":"2021-07-27-npm-dependencies","mdxSource":{"compiledSource":"var y=Object.defineProperty,m=Object.defineProperties;var d=Object.getOwnPropertyDescriptors;var n=Object.getOwnPropertySymbols;var t=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;var u=(e,a,o)=>a in e?y(e,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[a]=o,r=(e,a)=>{for(var o in a||(a={}))t.call(a,o)&&u(e,o,a[o]);if(n)for(var o of n(a))l.call(a,o)&&u(e,o,a[o]);return e},s=(e,a)=>m(e,d(a));var p=(e,a)=>{var o={};for(var i in e)t.call(e,i)&&a.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&n)for(var i of n(e))a.indexOf(i)<0&&l.call(e,i)&&(o[i]=e[i]);return o};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(o){var i=o,{components:e}=i,a=p(i,[\"components\"]);return mdx(MDXLayout,s(r(r({},layoutProps),a),{components:e,mdxType:\"MDXLayout\"}),mdx(\"p\",null,`You are writing a library...or you are writing an app and you want to publish\nsome of the components of it as a library...`),mdx(\"p\",null,\"Here are some questions in the form of comments\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`Did you realize that your yarn.lock will be ignored for anyone who installs\nyour libraries?`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`Did you realize this means that your perfectly running test suite with your\nyarn.lock could be a failing case for consumers of your app unless you don\\u2019t\nuse semver strings like ^1.0.0 and just hardcode it to 1.0.0?`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`Did you realize the default of ^1.0.0 automatically gets minor version bumps\nwhich are often fairly substantial changes, e.g. even breaking possibly?`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`Did you know that larger libraries like @material-ui/core don\\u2019t like to bump\ntheir major version all the time for example so large changes are often made\nto the minor version?`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},\"Did you know if you run \",mdx(\"inlineCode\",{parentName:\"p\"},\"yarn upgrade\"),`, it may update what is in your\nyarn.lock file but will not update what is in your package.json?`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`Did you realize that this means that if you depend on the results of running\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"yarn upgrade\"),` e.g. it gave you a bugfix, you will be shipping buggy code to\nconsumers of your library?`))),mdx(\"p\",null,`Just something to be aware of! You can always ride the dragon and accept these\nminor breakages from semver bumps, but it can introduce some issues for your\nconsumers`),mdx(\"p\",null,`Random fun thing: Adding a yarn package can even downgrade some other packages.\nFor example if you have ^6.0.0 in your package.json, you yarn upgrade it up to\n^6.1.0 but then later install another library that requires a hard 6.0.1, yarn\nwill decide to downgrade you to 6.0.1`))}MDXContent.isMDXComponent=!0;\n","scope":{}}}},"__N_SSG":true}