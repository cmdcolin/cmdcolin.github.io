{"pageProps":{"post":{"title":"Making an audio slideshow with ffmpeg","date":"2022-10-08","slug":"2022-10-08-ffmpeg-slideshow","html":"<p>Inspired by a new trend of posting \"playlists\" on youtube with visual\naccompaniment (<a href=\"https://www.youtube.com/watch?v=zG92ss_2Vjw&#x26;t=1937s\">https://www.youtube.com/watch?v=zG92ss_2Vjw&#x26;t=1937s</a>), I wanted\nto try to make my own with a slideshow. I used ffmpeg as the heavy lifting tool</p>\n<h2 id=\"step-1---prepare-your-playlist\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-1---prepare-your-playlist\"><a href=\"#step-1---prepare-your-playlist\" style=\"margin-right: 10px\">#</a></a>Step 1 - prepare your playlist</h2>\n<p>I like foobar2000, because it can combine multiple files into a single output\nfile.</p>\n<p>Use right-click -> \"Convert ...\" in the foobar2000 playlist</p>\n<p><img src=\"/media/foobar1.png\" alt=\"\"></p>\n<p>Use \"Merge all tracks into one file\" in the \"Convert...\" dialog</p>\n<p><img src=\"/media/foobar2.png\" alt=\"\"></p>\n<p>Note: If you have a folder of mp3's only, you can directly concatenate them\nwith <code>cat *.mp3 > out.mp3</code> or use ffmpeg to concatenate them for a pure\ncommand-line alternative.</p>\n<h2 id=\"step-2---prepare-the-slideshow\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-2---prepare-the-slideshow\"><a href=\"#step-2---prepare-the-slideshow\" style=\"margin-right: 10px\">#</a></a>Step 2 - prepare the slideshow</h2>\n<p>Use 10 seconds per picture. Note the glob pattern is in quotes</p>\n<div class=\"highlight highlight-shell\"><pre>ffmpeg -framerate 1/10 -pattern_type glob -i <span class=\"pl-s\"><span class=\"pl-pds\">'</span>*.jpg<span class=\"pl-pds\">'</span></span> pics.mp4\n</pre></div>\n<h2 id=\"step-3---combine-the-slideshow-and-playlist\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-3---combine-the-slideshow-and-playlist\"><a href=\"#step-3---combine-the-slideshow-and-playlist\" style=\"margin-right: 10px\">#</a></a>Step 3 - combine the slideshow and playlist</h2>\n<div class=\"highlight highlight-shell\"><pre>ffmpeg -stream_loop -1 -i pics.mp4 -i playlist.wav -shortest -vcodec copy output.mp4\n</pre></div>\n<p>Using <code>-stream_loop -1</code> on pics.mp4 will loop the pics until playlist.wav ends,\nbut then limit itself to the length of the playlist.wav with <code>-shortest</code></p>\n<h2 id=\"step-4---upload-to-youtube\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-4---upload-to-youtube\"><a href=\"#step-4---upload-to-youtube\" style=\"margin-right: 10px\">#</a></a>Step 4 - upload to youtube</h2>\n<p>Done!</p>\n<h3 id=\"footnote-1-what-if-you-just-want-a-single-picture\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#footnote-1-what-if-you-just-want-a-single-picture\"><a href=\"#footnote-1-what-if-you-just-want-a-single-picture\" style=\"margin-right: 10px\">#</a></a>Footnote 1: What if you just want a single picture?</h3>\n<p>Common for posting an album to youtube, you post the album art and some audio, you can try searching from stackoverflow for options related to this</p>\n<p>Example <a href=\"https://superuser.com/a/332867/415552\">https://superuser.com/a/332867/415552</a></p>\n<h3 id=\"footnote-2-distortion\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#footnote-2-distortion\"><a href=\"#footnote-2-distortion\" style=\"margin-right: 10px\">#</a></a>Footnote 2: Distortion</h3>\n<p>The pictures may get distorted to fit the video frame, I haven't experimented\nwith options that modify this behavior</p>"}},"__N_SSG":true}