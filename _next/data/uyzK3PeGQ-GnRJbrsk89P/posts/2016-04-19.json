{"pageProps":{"post":{"title":"Creating a testing framework for JBrowse plugins","date":"2016-04-19","slug":"2016-04-19","html":"<p>Testing client side apps requires a couple of tedious steps: Organizing the git\nclone, the dependencies, wrangling up a web server, the test framework, etc.</p>\n<p>When testing a plugin for jbrowse, the dependency tree is interesting because\nthe plugin \"depends\" on JBrowse to run, but we will use travis-CI and bower\ninside the git repo for our plugin to accomplish this.</p>\n<p>In this scenario, we will</p>\n<ol>\n<li>\n<p>Use bower to install jasmine and JBrowse (our platform that we write the\nplugin for)</p>\n</li>\n<li>\n<p>Use nginx to launch a webserver on travis-CI</p>\n</li>\n<li>\n<p>Use the phantomjs run-jasmine.js script to check jasmine test results</p>\n</li>\n</ol>\n<p>Without further ado</p>\n<p>Here is the .travis.yml</p>\n<pre class=\"shiki poimandres\" style=\"background-color: #1b1e28\"><code><span class=\"line\"><span style=\"color: #5DE4C7\">sudo</span><span style=\"color: #A6ACCD\">: </span><span style=\"color: #5DE4C7\">false</span></span>\n<span class=\"line\"><span style=\"color: #5DE4C7\">addons</span><span style=\"color: #A6ACCD\">:</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #5DE4C7\">apt</span><span style=\"color: #A6ACCD\">:</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #5DE4C7\">packages</span><span style=\"color: #A6ACCD\">:</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">      - </span><span style=\"color: #ADD7FF\">nginx</span></span>\n<span class=\"line\"><span style=\"color: #5DE4C7\">cache</span><span style=\"color: #A6ACCD\">:</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #5DE4C7\">apt</span><span style=\"color: #A6ACCD\">: </span><span style=\"color: #5DE4C7\">true</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #5DE4C7\">directories</span><span style=\"color: #A6ACCD\">:</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    - </span><span style=\"color: #ADD7FF\">$HOME/.cache/bower</span></span>\n<span class=\"line\"><span style=\"color: #5DE4C7\">before_install</span><span style=\"color: #A6ACCD\">:</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  - </span><span style=\"color: #ADD7FF\">npm install -g jshint bower</span></span>\n<span class=\"line\"><span style=\"color: #5DE4C7\">install</span><span style=\"color: #A6ACCD\">:</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  - </span><span style=\"color: #ADD7FF\">bower install</span></span>\n<span class=\"line\"><span style=\"color: #5DE4C7\">before_script</span><span style=\"color: #A6ACCD\">:</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  - </span><span style=\"color: #ADD7FF\">cat test/travis.conf | envsubst > test/travis-envsubst.conf</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  - </span><span style=\"color: #ADD7FF\">nginx -c `pwd`/test/travis-envsubst.conf</span></span>\n<span class=\"line\"><span style=\"color: #5DE4C7\">script</span><span style=\"color: #A6ACCD\">:</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  - </span><span style=\"color: #ADD7FF\">phantomjs test/run-jasmine.js http://localhost:9000/test/</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  - </span><span style=\"color: #ADD7FF\">jshint js</span></span></code></pre>\n<p>Refer to\n<a href=\"http://searchvoidstar.tumblr.com/post/141858047213/running-nginx-on-containerised-travis-ci-pt-2\">http://searchvoidstar.tumblr.com/post/141858047213/running-nginx-on-containerised-travis-ci-pt-2</a>\nfor details on the nginx setup</p>\n<p>Here is the bower.json</p>\n<pre class=\"shiki poimandres\" style=\"background-color: #1b1e28\"><code><span class=\"line\"><span style=\"color: #A6ACCD\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #E4F0FB\">name</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">: </span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">sashimiplot</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #E4F0FB\">homepage</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">: </span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">https://github.com/cmdcolin/sashimiplot</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #E4F0FB\">description</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">: </span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">Sashimi track type for jbrowse</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #E4F0FB\">main</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">: </span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">js/main.js</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #E4F0FB\">keywords</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">: [</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">bioinformatics</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">, </span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">jbrowse</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">],</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #E4F0FB\">license</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">: </span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">MIT</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #E4F0FB\">ignore</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">: [</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">**/.*</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">node_modules</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">bower_components</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">src</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">test</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">tests</span><span style=\"color: #A6ACCD\">\"</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  ],</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #E4F0FB\">devDependencies</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">: {</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #ADD7FF\">jasmine-core</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">: </span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">jasmine#^2.4.1</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #ADD7FF\">jbrowse</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">: </span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">git://github.com/GMOD/jbrowse.git#master</span><span style=\"color: #A6ACCD\">\"</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  }</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">}</span></span></code></pre>\n<p>The key thing here is that it installs jasmine and JBrowse. I set .bowerrc to\ninstall both jasmine and JBrowse to the \"test\" directory</p>\n<pre class=\"shiki poimandres\" style=\"background-color: #1b1e28\"><code><span class=\"line\"><span style=\"color: #A6ACCD\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #E4F0FB\">directory</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #A6ACCD\">: </span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">test</span><span style=\"color: #A6ACCD\">\"</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">}</span></span></code></pre>\n<p>With this setup, bower will make a \"flat dependency tree\" in the test directory,\nso it will look like this</p>\n<pre class=\"shiki poimandres\" style=\"background-color: #1b1e28\"><code><span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #91B4D5\">$</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #ADD7FF\">ls</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #ADD7FF\">-1</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #ADD7FF\">test</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #91B4D5\">FileSaver</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #91B4D5\">dbind</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #91B4D5\">dgrid</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #91B4D5\">dijit</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #91B4D5\">dojo</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #91B4D5\">dojox</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #91B4D5\">*index.html*</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #91B4D5\">jDataView</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #91B4D5\">jasmine-core</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #91B4D5\">jbrowse</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #91B4D5\">json-schema</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #91B4D5\">jszlib</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #91B4D5\">lazyload</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #91B4D5\">put-selector</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #91B4D5\">*run-jasmine.js*</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #91B4D5\">*spec*</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #91B4D5\">*travis.conf*</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #91B4D5\">util</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #91B4D5\">xstyle</span></span></code></pre>\n<p>Here the asterisks indicate things that are part of our app, other's are\nautomatically installed by bower (jbrowse, jasmine-core, the dojo dependencies,\nand other things)</p>\n<p>Then we can create the jasmine test/index.html to be something like this</p>\n<pre class=\"shiki poimandres\" style=\"background-color: #1b1e28\"><code><span class=\"line\"><span style=\"color: #E4F0FB\">&#x3C;!</span><span style=\"color: #5DE4C7\">DOCTYPE</span><span style=\"color: #E4F0FB\"> </span><span style=\"color: #5FB3A1; font-style: italic\">html</span><span style=\"color: #E4F0FB\"> </span><span style=\"color: #5FB3A1; font-style: italic\">PUBLIC</span><span style=\"color: #E4F0FB\"> </span><span style=\"color: #5DE4C7\">\"-//W3C//DTD HTML 4.01 Transitional//EN\"</span><span style=\"color: #E4F0FB\"> </span><span style=\"color: #5DE4C7\">\"http://www.w3.org/TR/html4/loose.dtd\"</span><span style=\"color: #E4F0FB\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #E4F0FB\">&#x3C;</span><span style=\"color: #5DE4C7\">meta</span><span style=\"color: #E4F0FB\"> /></span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">Jasmine Spec Runner</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #E4F0FB\">&#x3C;</span><span style=\"color: #5DE4C7\">link</span><span style=\"color: #E4F0FB\"> </span><span style=\"color: #5FB3A1; font-style: italic\">rel</span><span style=\"color: #A6ACCD\">=</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">stylesheet</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #E4F0FB\"> </span><span style=\"color: #5FB3A1; font-style: italic\">href</span><span style=\"color: #A6ACCD\">=</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">jasmine-core/lib/jasmine-core/jasmine.css</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #E4F0FB\"> /></span></span>\n<span class=\"line\"><span style=\"color: #E4F0FB\">&#x3C;</span><span style=\"color: #5DE4C7\">script</span><span style=\"color: #E4F0FB\"> </span><span style=\"color: #5FB3A1; font-style: italic\">src</span><span style=\"color: #A6ACCD\">=</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">jasmine-core/lib/jasmine-core/jasmine.js</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #E4F0FB\">>&#x3C;/</span><span style=\"color: #5DE4C7\">script</span><span style=\"color: #E4F0FB\">></span></span>\n<span class=\"line\"><span style=\"color: #E4F0FB\">&#x3C;</span><span style=\"color: #5DE4C7\">script</span><span style=\"color: #E4F0FB\"> </span><span style=\"color: #5FB3A1; font-style: italic\">src</span><span style=\"color: #A6ACCD\">=</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">jasmine-core/lib/jasmine-core/boot.js</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #E4F0FB\">>&#x3C;/</span><span style=\"color: #5DE4C7\">script</span><span style=\"color: #E4F0FB\">></span></span>\n<span class=\"line\"><span style=\"color: #E4F0FB\">&#x3C;</span><span style=\"color: #5DE4C7\">script</span></span>\n<span class=\"line\"><span style=\"color: #E4F0FB\">  </span><span style=\"color: #5FB3A1; font-style: italic\">type</span><span style=\"color: #A6ACCD\">=</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">text/javascript</span><span style=\"color: #A6ACCD\">\"</span></span>\n<span class=\"line\"><span style=\"color: #E4F0FB\">  </span><span style=\"color: #5FB3A1; font-style: italic\">src</span><span style=\"color: #A6ACCD\">=</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">dojo/dojo.js</span><span style=\"color: #A6ACCD\">\"</span></span>\n<span class=\"line\"><span style=\"color: #E4F0FB\">  </span><span style=\"color: #5FB3A1; font-style: italic\">data-dojo-config</span><span style=\"color: #A6ACCD\">=</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">async: 1</span><span style=\"color: #A6ACCD\">\"</span></span>\n<span class=\"line\"><span style=\"color: #E4F0FB\">>&#x3C;/</span><span style=\"color: #5DE4C7\">script</span><span style=\"color: #E4F0FB\">></span></span>\n<span class=\"line\"><span style=\"color: #E4F0FB\">&#x3C;</span><span style=\"color: #5DE4C7\">script</span><span style=\"color: #E4F0FB\"> </span><span style=\"color: #5FB3A1; font-style: italic\">type</span><span style=\"color: #A6ACCD\">=</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">text/javascript</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #E4F0FB\">></span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #E4F0FBD0\">require</span><span style=\"color: #A6ACCD\">({</span></span>\n<span class=\"line\"><span style=\"color: #E4F0FB\">    </span><span style=\"color: #ADD7FF\">baseUrl</span><span style=\"color: #A6ACCD\">:</span><span style=\"color: #ADD7FF\"> </span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #5DE4C7\">.</span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #A6ACCD\">,</span></span>\n<span class=\"line\"><span style=\"color: #E4F0FB\">    </span><span style=\"color: #ADD7FF\">packages</span><span style=\"color: #A6ACCD\">:</span><span style=\"color: #ADD7FF\"> </span><span style=\"color: #A6ACCD\">[</span></span>\n<span class=\"line\"><span style=\"color: #ADD7FF\">      </span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #5DE4C7\">dojo</span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #A6ACCD\">,</span></span>\n<span class=\"line\"><span style=\"color: #ADD7FF\">      </span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #5DE4C7\">dijit</span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #A6ACCD\">,</span></span>\n<span class=\"line\"><span style=\"color: #ADD7FF\">      </span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #5DE4C7\">dojox</span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #A6ACCD\">,</span></span>\n<span class=\"line\"><span style=\"color: #ADD7FF\">      </span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #5DE4C7\">jszlib</span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #A6ACCD\">,</span></span>\n<span class=\"line\"><span style=\"color: #ADD7FF\">      </span><span style=\"color: #A6ACCD\">{</span><span style=\"color: #E4F0FB\"> </span><span style=\"color: #ADD7FF\">name</span><span style=\"color: #A6ACCD\">:</span><span style=\"color: #ADD7FF\"> </span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #5DE4C7\">lazyload</span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #A6ACCD\">,</span><span style=\"color: #E4F0FB\"> </span><span style=\"color: #ADD7FF\">location</span><span style=\"color: #A6ACCD\">:</span><span style=\"color: #ADD7FF\"> </span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #5DE4C7\">lazyload</span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #A6ACCD\">,</span><span style=\"color: #E4F0FB\"> </span><span style=\"color: #ADD7FF\">main</span><span style=\"color: #A6ACCD\">:</span><span style=\"color: #ADD7FF\"> </span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #5DE4C7\">lazyload</span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #ADD7FF\"> </span><span style=\"color: #A6ACCD\">},</span></span>\n<span class=\"line\"><span style=\"color: #ADD7FF\">      </span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #5DE4C7\">dgrid</span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #A6ACCD\">,</span></span>\n<span class=\"line\"><span style=\"color: #ADD7FF\">      </span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #5DE4C7\">xstyle</span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #A6ACCD\">,</span></span>\n<span class=\"line\"><span style=\"color: #ADD7FF\">      </span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #5DE4C7\">put-selector</span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #A6ACCD\">,</span></span>\n<span class=\"line\"><span style=\"color: #ADD7FF\">      </span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #5DE4C7\">FileSaver</span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #A6ACCD\">,</span></span>\n<span class=\"line\"><span style=\"color: #ADD7FF\">      </span><span style=\"color: #A6ACCD\">{</span><span style=\"color: #E4F0FB\"> </span><span style=\"color: #ADD7FF\">name</span><span style=\"color: #A6ACCD\">:</span><span style=\"color: #ADD7FF\"> </span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #5DE4C7\">jDataView</span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #A6ACCD\">,</span><span style=\"color: #E4F0FB\"> </span><span style=\"color: #ADD7FF\">location</span><span style=\"color: #A6ACCD\">:</span><span style=\"color: #ADD7FF\"> </span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #5DE4C7\">jDataView/src</span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #A6ACCD\">,</span><span style=\"color: #E4F0FB\"> </span><span style=\"color: #ADD7FF\">main</span><span style=\"color: #A6ACCD\">:</span><span style=\"color: #ADD7FF\"> </span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #5DE4C7\">jdataview</span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #ADD7FF\"> </span><span style=\"color: #A6ACCD\">},</span></span>\n<span class=\"line\"><span style=\"color: #ADD7FF\">      </span><span style=\"color: #A6ACCD\">{</span><span style=\"color: #E4F0FB\"> </span><span style=\"color: #ADD7FF\">name</span><span style=\"color: #A6ACCD\">:</span><span style=\"color: #ADD7FF\"> </span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #5DE4C7\">JBrowse</span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #A6ACCD\">,</span><span style=\"color: #E4F0FB\"> </span><span style=\"color: #ADD7FF\">location</span><span style=\"color: #A6ACCD\">:</span><span style=\"color: #ADD7FF\"> </span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #5DE4C7\">jbrowse/src/JBrowse</span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #ADD7FF\"> </span><span style=\"color: #A6ACCD\">},</span></span>\n<span class=\"line\"><span style=\"color: #ADD7FF\">      </span><span style=\"color: #A6ACCD\">{</span><span style=\"color: #E4F0FB\"> </span><span style=\"color: #ADD7FF\">name</span><span style=\"color: #A6ACCD\">:</span><span style=\"color: #ADD7FF\"> </span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #5DE4C7\">SashimiPlot</span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #A6ACCD\">,</span><span style=\"color: #E4F0FB\"> </span><span style=\"color: #ADD7FF\">location</span><span style=\"color: #A6ACCD\">:</span><span style=\"color: #ADD7FF\"> </span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #5DE4C7\">../js</span><span style=\"color: #A6ACCD\">'</span><span style=\"color: #ADD7FF\"> </span><span style=\"color: #A6ACCD\">},</span></span>\n<span class=\"line\"><span style=\"color: #ADD7FF\">    </span><span style=\"color: #A6ACCD\">],</span></span>\n<span class=\"line\"><span style=\"color: #E4F0FB\">  </span><span style=\"color: #A6ACCD\">})</span></span>\n<span class=\"line\"><span style=\"color: #E4F0FB\">&#x3C;/</span><span style=\"color: #5DE4C7\">script</span><span style=\"color: #E4F0FB\">></span></span>\n<span class=\"line\"><span style=\"color: #E4F0FB\">&#x3C;</span><span style=\"color: #5DE4C7\">script</span><span style=\"color: #E4F0FB\"> </span><span style=\"color: #5FB3A1; font-style: italic\">type</span><span style=\"color: #A6ACCD\">=</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">text/javascript</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #E4F0FB\"> </span><span style=\"color: #5FB3A1; font-style: italic\">src</span><span style=\"color: #A6ACCD\">=</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">spec/SashimiPlot.spec.js</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #E4F0FB\">>&#x3C;/</span><span style=\"color: #5DE4C7\">script</span><span style=\"color: #E4F0FB\">></span></span>\n<span class=\"line\"><span style=\"color: #E4F0FB\">&#x3C;</span><span style=\"color: #5DE4C7\">div</span><span style=\"color: #E4F0FB\"> </span><span style=\"color: #5FB3A1; font-style: italic\">id</span><span style=\"color: #A6ACCD\">=</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">sandbox</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #E4F0FB\"> </span><span style=\"color: #5FB3A1; font-style: italic\">style</span><span style=\"color: #A6ACCD\">=</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #5DE4C7\">overflow:hidden; height:1px;</span><span style=\"color: #A6ACCD\">\"</span><span style=\"color: #E4F0FB\">>&#x3C;/</span><span style=\"color: #5DE4C7\">div</span><span style=\"color: #E4F0FB\">></span></span></code></pre>\n<p>The \"packages\" in the require statement puts all these packages in the right\n\"namespace\" for the AMD includes, and the \"specs\" are defined like\n<code>&#x3C;script type=\"text/javascript\" src=\"spec/Projection.spec.js\">&#x3C;/script></code></p>\n<p>Finally, run-jasmine.js is used to check the results of the jasmine tests (it is\nrun via phantomjs in the travis-CI script). It is a special version for the most\nrecent version of jasmine (2.4)\n<a href=\"https://gist.github.com/vmeln/b6cbb319d9a0efc816be\">https://gist.github.com/vmeln/b6cbb319d9a0efc816be</a></p>\n<p>For an example of the project using this, see\n<a href=\"https://github.com/cmdcolin/sashimiplot\">https://github.com/cmdcolin/sashimiplot</a></p>"}},"__N_SSG":true}