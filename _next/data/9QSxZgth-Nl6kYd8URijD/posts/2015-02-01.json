{"pageProps":{"post":{"title":"Post graduation survey","date":"2015-02-01","slug":"2015-02-01","html":"<p>I recently received some post-graduation survey results from my class of\n2013 about salaries, job satisfaction, and other things. I thought I'd\ntry to visualize the data using R and ggplot2 as an exercise.</p>\n<p><a href=\"http://i.imgur.com/5rVnQHC.png\"></a></p>\n<p><img src=\"/media/109823235838_0.png\" alt=\"\"></p>\n<p>Figure 1. The fancy ggplot2 graph of salaries with standard deviation\nbars comparing salaries of BS/MS grads (red) with BS grads (blue).</p>\n<p>As a CS grad, I suppose I'm happy to see that we have the a highest\naverage salary right out of the gate. CS also has a high standard\ndeviation which I thought was interesting. Perhaps CS majors work in a\nmyriad of fields that demand computational skills where other\nengineering majors may be more focused on certain types of fields,\ngiving less deviation.</p>\n<p>In the process of making this graph, I was looking for how to do the\nside-by-side bar charts in ggplot and ended up supplying a \"correction\"\nto a answer on crossvalidated, a stackexchange site. The correction\nentailed how the syntax for using reshape2 vs reshape has changed\nslightly, so hopefully that helps other people searching for the same\nissue.</p>\n<p>Here is the code for processing</p>\n<div class=\"highlight highlight-r\"><pre> library(<span class=\"pl-smi\">xlsx</span>)\n library(<span class=\"pl-smi\">ggplot2</span>)\n library(<span class=\"pl-smi\">reshape2</span>)\n\n <span class=\"pl-v\">salaries</span><span class=\"pl-k\">=</span>read.xlsx(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>workbook.xlsx<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-c1\">1</span>)\n <span class=\"pl-v\">df</span><span class=\"pl-k\">=</span>melt(<span class=\"pl-smi\">salaries</span>,<span class=\"pl-v\">measure.vars</span> <span class=\"pl-k\">=</span> c(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>BS.MS.annual.salary<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>BS.annual.salary<span class=\"pl-pds\">\"</span></span>))\n <span class=\"pl-c\">#awkward step to merge standard deviations</span>\n <span class=\"pl-smi\">df</span>[<span class=\"pl-smi\">df</span><span class=\"pl-k\">$</span><span class=\"pl-smi\">variable</span><span class=\"pl-k\">==</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>BS.MS.annual.salary<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>stdev<span class=\"pl-pds\">\"</span></span>]<span class=\"pl-k\">=</span><span class=\"pl-smi\">df</span>[<span class=\"pl-smi\">df</span><span class=\"pl-k\">$</span><span class=\"pl-smi\">variable</span><span class=\"pl-k\">==</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>BS.MS.annual.salary<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>stdev.1<span class=\"pl-pds\">\"</span></span>]\n ggplot(<span class=\"pl-smi\">df</span>, aes(<span class=\"pl-c1\">NA</span><span class=\"pl-smi\">.</span>, <span class=\"pl-smi\">value</span>, <span class=\"pl-v\">fill</span><span class=\"pl-k\">=</span><span class=\"pl-smi\">variable</span>)) <span class=\"pl-k\">+</span>\n      geom_bar(<span class=\"pl-v\">position</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>dodge<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-v\">stat</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>identity<span class=\"pl-pds\">\"</span></span>) <span class=\"pl-k\">+</span>\n      geom_errorbar(aes(<span class=\"pl-v\">ymin</span><span class=\"pl-k\">=</span><span class=\"pl-smi\">value</span><span class=\"pl-k\">-</span><span class=\"pl-smi\">stdev</span>, <span class=\"pl-v\">ymax</span><span class=\"pl-k\">=</span><span class=\"pl-smi\">value</span><span class=\"pl-k\">+</span><span class=\"pl-smi\">stdev</span>),\n <span class=\"pl-v\">position</span><span class=\"pl-k\">=</span>position_dodge(<span class=\"pl-v\">width</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">0.9</span>)) <span class=\"pl-k\">+</span>\n      ggtitle(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Salary for 2013 class of Engineering (2014 survey)<span class=\"pl-pds\">\"</span></span>) <span class=\"pl-k\">+</span>\n      xlab(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Major<span class=\"pl-pds\">\"</span></span>) <span class=\"pl-k\">+</span>\n      ylab(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Salary w/ stddev<span class=\"pl-pds\">\"</span></span>)\n</pre></div>\n<p>Table pictured</p>\n<p><img src=\"/media/109823235838_1.png\" alt=\"\"></p>"}},"__N_SSG":true}