<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/82eb5efba2a6c9217a68.css" as="style"/><link rel="stylesheet" href="/_next/static/css/82eb5efba2a6c9217a68.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_next/static/chunks/webpack-7c4c4c05609ee1ee2453.js" defer=""></script><script src="/_next/static/chunks/framework-7915ac2dcad08ccffd1a.js" defer=""></script><script src="/_next/static/chunks/main-d0187c47f4d0d1b19d72.js" defer=""></script><script src="/_next/static/chunks/pages/_app-75e0706c9e1cdf9d8afe.js" defer=""></script><script src="/_next/static/chunks/pages/2014-01-25-bf74507d13803b264990.js" defer=""></script><script src="/_next/static/aBRBZMOJeZ3Ssz59H1ZuR/_buildManifest.js" defer=""></script><script src="/_next/static/aBRBZMOJeZ3Ssz59H1ZuR/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div><a href="/">Return home</a><div class="blog"><h1>Creating a unified logging system in wxWidgets</h1><p>As we all know, <strong><a href="http://wxwidgets.org/">wxWidgets</a></strong> is a great
cross-platform C++ library.</p><p>One goal I had for wxWidgets was to create a unified logging system with
the <a href="http://docs.wxwidgets.org/trunk/classwx_log.html"><strong>wxLog</strong></a>
classes. I wanted to use
<a href="http://docs.wxwidgets.org/trunk/classwx_log_stderr.html"><strong>wxLogStderr</strong></a>
to create a logfile alongside with the
<a href="http://docs.wxwidgets.org/trunk/classwx_log_window.html"><strong>wxLogWindow</strong></a>
to allow the user to see logs realtime and
<a href="http://docs.wxwidgets.org/trunk/classwx_log_gui.html"><strong>wxLogGui</strong></a>
allows the logging functions to produce message boxes and status bar
updates automatically.</p><p>To combine wxLog classes together, we need to use
<a href="http://docs.wxwidgets.org/trunk/classwx_log.html#ac7ea85f71c8d3ecd4247f412be410505"><strong>wxLog::SetActiveTarget</strong></a>
to make the log active, and then use <strong>wxLogChain</strong> to keep them
together. However, note that for <strong>wxLogWindow</strong> is a subclass of
<strong>wxLogChain</strong>, so it creates the chain automatically. Also, wxLogWindow
does not need to use wxLog::SetActiveTarget because of default parameter
<strong>bool bPassToOld = true</strong></p><p><img src="../../media/74465456164_0.png"/></p><p><strong>Figure 1.</strong> The wxLog inheritance chart. Note that wxLogWindow is a
subclass of wxLogChain so it automatically has chaining methods.</p><p>The second concern with this logging system is that I want to log
verbose outputs to the logfile, but <strong>wxLogGui</strong> produces message boxes
for <strong>wxLogVerbose</strong> messages. I can&#x27;t disable verbose messages for it
since the function <strong>wxLog::SetVerbose</strong> is static, so I needed to find
a way to suppress verboseÂ  message boxes another way. To do so, I
created a <strong>wxLogGuiMod</strong> subclass that ignores wxLOG<!-- -->_<!-- -->INFO(verbose)
level messages.</p><p>Without further ado, here is the code. Note: order of operations are
sort of important here.</p><pre><code>   wxLog::SetLogLevel(wxLOG_Max);
   wxLog::SetVerbose();
   //create logfile
   wxFFile *test=new wxFFile(&quot;yourLogFile.log&quot;,&quot;a&quot;);
   wxLog *temp=new wxLogStderr(test-&gt;fp());
   wxLog::SetActiveTarget(temp);
   //create loggui and chain it
   wxLog::SetActiveTarget(new wxLogChain(new wxLogGuiMod()));
   //create logwindow
   new wxLogWindow(this, wxS(&quot;Log messages&quot;),true);//true to make visible at start
   //no need to setactivetarget or wxlogchain on wxLogWindow
   
</code></pre><p>The declaration of wxLogGuiMod, a small subclass that ignroes
wxLogVerbose so that verbose messages don&#x27;t create popups by wxLogGui</p><pre><code>    class wxLogGuiMod :public wxLogGui {
       protected:
       virtual void DoLogRecord(wxLogLevel level,
                             const wxString&amp; msg,
                             const wxLogRecordInfo&amp; info);
    };
    void wxLogGuiMod::DoLogRecord(wxLogLevel level,
                             const wxString&amp; msg,
                             const wxLogRecordInfo&amp; info)
    {
       if(level==wxLOG_Info ) return;
       else wxLogGui::DoLogRecord(level,msg,info);
    }
</code></pre><p>Original thread
<a href="https://forums.wxwidgets.org/viewtopic.php?f=1&amp;t=38480&amp;sid=dd67d6ac9b8fab93d7320a3cf44bcebf#unread">https://forums.wxwidgets.org/viewtopic.php?f=1&amp;t=38480&amp;sid=dd67d6ac9b8fab93d7320a3cf44bcebf#unread</a></p><p>::: {#footer}
<!-- -->[ January 25th, 2014 1:11am ]<!-- -->{#timestamp} <!-- -->[wxwidgets]<!-- -->{.tag} <!-- -->[code]<!-- -->{.tag}
<!-- -->[programming]<!-- -->{.tag}
:::</p></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/2014-01-25","query":{},"buildId":"aBRBZMOJeZ3Ssz59H1ZuR","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>