import Container from '../components/container'
import Posts from '../components/posts'
import Layout from '../components/layout'
import Header from '../components/header'
import Head from 'next/head'
import Link from 'next/link'
import { getAllPosts } from '../lib/api'


## Colin Diesh


I'm a software developer and bioinformatician attempting to blog stuff.



export async function getStaticProps() {
  const posts = await getAllPosts()

  return {
    props: { allPosts: posts.slice(0,8) },
  }
}




export default ({ children, allPosts }) => <>
  <Head>
    <title>Misc scribblings</title>
  </Head>
  <Layout>
    <Container>
      <Header/>
      {children}
      <Posts posts={allPosts}/>
      <Link href="/archive">
        <a>More posts...</a>
      </Link>
    </Container>
  </Layout>
</>


