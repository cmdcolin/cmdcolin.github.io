import Container from '../components/container'
import Posts from '../components/posts'
import { generateRSSFeed, getAllPosts } from '../lib/api'
import Link from '../components/link'
import Layout from '../components/layout'
import Header from '../components/header'
import Head from 'next/head'

export async function getStaticProps() {
  const allPosts = await getAllPosts()

  generateRSSFeed(allPosts);

  return {
    props: { allPosts },
  }
}


## Blog archive


export default ({ children, allPosts }) => <>
  <Head>
    <title>Misc scribblings - Blog archive</title>
  </Head>
  <Layout>
    <Container>
      <Header/>
      {children}
      <Posts posts={allPosts} />
    </Container>
  </Layout>
</>
