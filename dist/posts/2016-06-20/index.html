<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="description" content="Astro description"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v4.16.19"><title>Installing clamav on OSX</title><style>body{font-family:Helvetica,Arial,sans-serif;background-color:Canvas;color:CanvasText;color-scheme:light dark}img{max-width:100%}pre{max-width:100%;overflow:auto}li+li{margin-top:10px}pre{padding:10px;border-radius:5px}
</style></head> <body> <div class="mb-8"> <a href="/">Misc scribbles</a> </div>  <h1>Installing clamav on OSX</h1> <p>2016-06-20</p> <p>It is a common trope that OSX doesn’t need anti-virus because everyone targets
windows. That is maybe comforting to some but I think it’s pretty naive. It
would be better to have a system on your machine to tell you about viruses,
trojan horses, malware, or spying. I have decided to employ a free open source
scanner called clamAV <a href="https://www.clamav.net/">https://www.clamav.net/</a>. I don’t really know if it has any
good features for Mac scanning but thought it could be fun to install</p>
<p>ClamAV is the top choice for linux based OSs being free and open source (GPL)
virus scanner.</p>
<p>To install we can use homebrew</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="sh"><code><span class="line"><span style="color:#B392F0">    $</span><span style="color:#9ECBFF"> brew</span><span style="color:#9ECBFF"> install</span><span style="color:#9ECBFF"> clamav</span></span>
<span class="line"></span></code></pre>
<p>Then there is s config file to setup. This is located in
/usr/local/etc/clamav/freshclam.conf</p>
<p>To setup, edit this file and delete the line that says “Example” and then
uncheck the desired settings. I would chose to enable logging to
/var/log/clamav.log and also database directories in /var/lib/clamav</p>
<p>Then run the “freshclam” program</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="sh"><code><span class="line"><span style="color:#B392F0">    $</span><span style="color:#9ECBFF"> freshclam</span></span>
<span class="line"></span></code></pre>
<p>This will download the virus scanner database (main) and daily scanning updates</p>
<p>Then you can run clamscan on a given directory (recursively, only print infected
files)</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="sh"><code><span class="line"><span style="color:#B392F0">    $</span><span style="color:#9ECBFF"> clamscan</span><span style="color:#79B8FF"> -ri</span><span style="color:#9ECBFF"> ~/</span></span>
<span class="line"></span></code></pre>
<p>Or add this to a cronjob</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="sh"><code><span class="line"><span style="color:#B392F0">    $</span><span style="color:#9ECBFF"> crontab</span><span style="color:#9ECBFF"> -</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">    @hourly</span><span style="color:#9ECBFF"> clamscan</span><span style="color:#79B8FF"> -ri</span><span style="color:#9ECBFF"> ~/</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> mail</span><span style="color:#79B8FF"> -v</span><span style="color:#79B8FF"> -s</span><span style="color:#9ECBFF"> "clamscan results"</span><span style="color:#9ECBFF"> your.email@gmail.com</span><span style="color:#F97583">  ></span><span style="color:#9ECBFF">/dev/null</span><span style="color:#F97583"> 2>&#x26;1</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>  <footer class="mt-16"> <a class="m-2" href="/">Home</a> <a class="m-2" href="/archive">Blog archive</a> <a class="m-2" href="https://github.com/cmdcolin/">Github</a> <a class="m-2" href="/projects">Projects</a> <a class="m-2" href="/books">Books</a> <a class="m-2" href="/about">About</a> <a class="m-2" href="/rss.xml">RSS</a> </footer> </body></html>