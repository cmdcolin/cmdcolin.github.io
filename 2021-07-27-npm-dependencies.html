<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/39537df1dfa69610d89e.css" as="style"/><link rel="stylesheet" href="/_next/static/css/39537df1dfa69610d89e.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_next/static/chunks/webpack-1a8a258926ecde76681b.js" defer=""></script><script src="/_next/static/chunks/framework-b97a0ed4f13ff8397343.js" defer=""></script><script src="/_next/static/chunks/main-1f2c591c5d3bfcfc95e6.js" defer=""></script><script src="/_next/static/chunks/pages/_app-72a03db9ecdc52193d45.js" defer=""></script><script src="/_next/static/chunks/pages/2021-07-27-npm-dependencies-256e5845589e5f2ab160.js" defer=""></script><script src="/_next/static/CJPkTXo1JNEq0N80nYAq8/_buildManifest.js" defer=""></script><script src="/_next/static/CJPkTXo1JNEq0N80nYAq8/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div><div><a href="/">Return home</a><img src="/avatar.png" style="height:2em;margin-left:1em"/></div><div class="blog"><h1>Do you understand your NPM dependencies?</h1><p>You are writing a library...or your writing an app and you want to publish some
of the components of it as a library...</p><p>Here are some questions in the form of comments</p><ul><li><p>Did you realize that your yarn.lock will be ignored for anyone who installs
your libraries?</p></li><li><p>Did you realize this means that your perfectly running test suite with your
yarn.lock could be a failing case for consumers of your app unless you don’t
use semver strings like ^1.0.0 and just hardcode it to 1.0.0?</p></li><li><p>Did you realize the default of ^1.0.0 automatically gets minor version bumps
which are often fairly substantial changes, e.g. even breaking possibly?</p></li><li><p>Did you know that larger libraries like @material-ui/core don’t like to bump
their major version all the time for example so large changes are often made
to the minor version?</p></li><li><p>Did you know if you run <code>yarn upgrade</code>, it may update what is in your yarn.lock file but will not update what is in your package.json?</p></li><li><p>Did you realize that this means that if you depend on the results of running <code>yarn upgrade</code> e.g. it gave you a bugfix, you will be shipping buggy code to consumers of your library?</p></li></ul><p>Just something to be aware of! You can always ride the dragon and accept these
minor breakages from semver bumps, but it can introduce some issues for your
consumers</p><p>Random fun thing: Adding a yarn package can even downgrade some other packages.
For example if you have ^6.0.0 in your package.json, you yarn upgrade it up to
^6.1.0 but then later install another library that requires a hard 6.0.1, yarn
will decide to downgrade you to 6.0.1</p></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/2021-07-27-npm-dependencies","query":{},"buildId":"CJPkTXo1JNEq0N80nYAq8","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>